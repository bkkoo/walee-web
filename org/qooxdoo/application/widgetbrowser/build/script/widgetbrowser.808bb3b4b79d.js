qx.$$packageData['8320']={"locales":{},"resources":{},"translations":{"C":{},"en":{}}};
qx.Part.$$notifyLoad("8320", function() {
(function(){var a="qx.ui.table.IHeaderRenderer";qx.Interface.define(a,{members:{createHeaderCell:function(b){return true;},updateHeaderCell:function(c,d){return true;}}});})();(function(){var b="qx.ui.table.headerrenderer.Default",a="String";qx.Class.define(b,{extend:qx.core.Object,implement:qx.ui.table.IHeaderRenderer,statics:{STATE_SORTED:"sorted",STATE_SORTED_ASCENDING:"sortedAscending"},properties:{toolTip:{check:a,init:null,nullable:true}},members:{createHeaderCell:function(c){var d=new qx.ui.table.headerrenderer.HeaderCell();this.updateHeaderCell(c,d);return d;},updateHeaderCell:function(e,f){var g=qx.ui.table.headerrenderer.Default;if(e.name&&e.name.translate){f.setLabel(e.name.translate());}else {f.setLabel(e.name);};var h=f.getToolTip();if(this.getToolTip()!=null){if(h==null){h=new qx.ui.tooltip.ToolTip(this.getToolTip());f.setToolTip(h);qx.util.DisposeUtil.disposeTriggeredBy(h,f);}else {h.setLabel(this.getToolTip());};};e.sorted?f.addState(g.STATE_SORTED):f.removeState(g.STATE_SORTED);e.sortedAscending?f.addState(g.STATE_SORTED_ASCENDING):f.removeState(g.STATE_SORTED_ASCENDING);}}});})();(function(){var i="_applySortIcon",h="_applyIcon",g="table-header-cell",f="qx.ui.table.headerrenderer.HeaderCell",e="_applyLabel",d="icon",c="label",b="String",a="sort-icon";qx.Class.define(f,{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.call(this);var j=new qx.ui.layout.Grid();j.setRowFlex(0,1);j.setColumnFlex(1,1);j.setColumnFlex(2,1);this.setLayout(j);},properties:{appearance:{refine:true,init:g},label:{check:b,init:null,nullable:true,apply:e},sortIcon:{check:b,init:null,nullable:true,apply:i,themeable:true},icon:{check:b,init:null,nullable:true,apply:h}},members:{_applyLabel:function(k,l){if(k){this._showChildControl(c).setValue(k);}else {this._excludeChildControl(c);};},_applySortIcon:function(m,n){if(m){this._showChildControl(a).setSource(m);}else {this._excludeChildControl(a);};},_applyIcon:function(o,p){if(o){this._showChildControl(d).setSource(o);}else {this._excludeChildControl(d);};},_createChildControlImpl:function(q,r){var s;switch(q){case c:s=new qx.ui.basic.Label(this.getLabel()).set({anonymous:true,allowShrinkX:true});this._add(s,{row:0,column:1});break;case a:s=new qx.ui.basic.Image(this.getSortIcon());s.setAnonymous(true);this._add(s,{row:0,column:2});break;case d:s=new qx.ui.basic.Image(this.getIcon()).set({anonymous:true,allowShrinkX:true});this._add(s,{row:0,column:0});break;};return s||qx.ui.container.Composite.prototype._createChildControlImpl.call(this,q);}}});})();(function(){var a="qx.ui.table.ICellEditorFactory";qx.Interface.define(a,{members:{createCellEditor:function(b){return true;},getCellEditorValue:function(c){return true;}}});})();(function(){var b="qx.ui.table.pane.CellEvent",a="Integer";qx.Class.define(b,{extend:qx.event.type.Mouse,properties:{row:{check:a,nullable:true},column:{check:a,nullable:true}},members:{init:function(c,d,e,f){d.clone(this);this.setBubbles(false);if(e!=null){this.setRow(e);}else {this.setRow(c._getRowForPagePos(this.getDocumentLeft(),this.getDocumentTop()));};if(f!=null){this.setColumn(f);}else {this.setColumn(c._getColumnForPageX(this.getDocumentLeft()));};},clone:function(g){var h=qx.event.type.Mouse.prototype.clone.call(this,g);h.set({row:this.getRow(),column:this.getColumn()});return h;}}});})();(function(){var h="Number",g="qx.event.type.Event",f="_applyFirstColumnX",e="Integer",d="qx.ui.table.pane.Model",c="_applyMaxColumnCount",b="headerCellRendererChanged",a="visibilityChangedPre";qx.Class.define(d,{extend:qx.core.Object,construct:function(i){qx.core.Object.call(this);this.setTableColumnModel(i);},events:{"modelChanged":g},statics:{EVENT_TYPE_MODEL_CHANGED:"modelChanged"},properties:{firstColumnX:{check:e,init:0,apply:f},maxColumnCount:{check:h,init:-1,apply:c}},members:{__rt:null,__ru:null,_applyFirstColumnX:function(j,k){this.__rt=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},_applyMaxColumnCount:function(l,m){this.__rt=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},setTableColumnModel:function(n){if(this.__ru){this.__ru.removeListener(a,this._onColVisibilityChanged,this);this.__ru.removeListener(b,this._onColVisibilityChanged,this);};this.__ru=n;this.__ru.addListener(a,this._onColVisibilityChanged,this);this.__ru.addListener(b,this._onHeaderCellRendererChanged,this);this.__rt=null;},_onColVisibilityChanged:function(o){this.__rt=null;this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},_onHeaderCellRendererChanged:function(p){this.fireEvent(qx.ui.table.pane.Model.EVENT_TYPE_MODEL_CHANGED);},getColumnCount:function(){if(this.__rt==null){var q=this.getFirstColumnX();var s=this.getMaxColumnCount();var r=this.__ru.getVisibleColumnCount();if(s==-1||(q+s)>r){this.__rt=r-q;}else {this.__rt=s;};};return this.__rt;},getColumnAtX:function(t){var u=this.getFirstColumnX();return this.__ru.getVisibleColumnAtX(u+t);},getX:function(v){var w=this.getFirstColumnX();var y=this.getMaxColumnCount();var x=this.__ru.getVisibleX(v)-w;if(x>=0&&(y==-1||x<y)){return x;}else {return -1;};},getColumnLeft:function(z){var C=0;var B=this.getColumnCount();for(var x=0;x<B;x++){var A=this.getColumnAtX(x);if(A==z){return C;};C+=this.__ru.getColumnWidth(A);};return -1;},getTotalWidth:function(){var D=0;var E=this.getColumnCount();for(var x=0;x<E;x++){var F=this.getColumnAtX(x);D+=this.__ru.getColumnWidth(F);};return D;}},destruct:function(){if(this.__ru){this.__ru.removeListener(a,this._onColVisibilityChanged,this);this.__ru.removeListener(b,this._onColVisibilityChanged,this);};this.__ru=null;}});})();(function(){var a="qx.ui.table.IRowRenderer";qx.Interface.define(a,{members:{updateDataRowElement:function(b,c){},getRowHeightStyle:function(d){},createRowStyle:function(e){},getRowClass:function(f){}}});})();(function(){var g="Escape",f="keypress",d="Enter",c="excluded",b="qx.ui.table.pane.FocusIndicator",a="Integer";qx.Class.define(b,{extend:qx.ui.container.Composite,construct:function(h){qx.ui.container.Composite.call(this);this.__qI=h;this.setKeepActive(true);this.addListener(f,this._onKeyPress,this);},properties:{visibility:{refine:true,init:c},row:{check:a,nullable:true},column:{check:a,nullable:true}},members:{__qI:null,_onKeyPress:function(e){var i=e.getKeyIdentifier();if(i!==g&&i!==d){e.stopPropagation();};},moveToCell:function(j,k){if(!this.__qI.getShowCellFocusIndicator()&&!this.__qI.getTable().getTableModel().isColumnEditable(j)){this.exclude();return;}else {this.show();};if(j==null){this.hide();this.setRow(null);this.setColumn(null);}else {var l=this.__qI.getTablePaneModel().getX(j);if(l==-1){this.hide();this.setRow(null);this.setColumn(null);}else {var q=this.__qI.getTable();var o=q.getTableColumnModel();var p=this.__qI.getTablePaneModel();var n=this.__qI.getTablePane().getFirstVisibleRow();var m=q.getRowHeight();this.setUserBounds(p.getColumnLeft(j)-2,(k-n)*m-2,o.getColumnWidth(j)+3,m+3);this.show();this.setRow(k);this.setColumn(j);};};}},destruct:function(){this.__qI=null;}});})();(function(){var n="]",m="..",l="changeSelection",k=" [",h='ie',g="browser.version",f="qx.event.type.Event",d="Ranges:",c="qx.ui.table.selection.Model",b="browser.name",a="_applySelectionMode";qx.Class.define(c,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__pN=[];this.__pO=-1;this.__pP=-1;this.hasBatchModeRefCount=0;this.__pQ=false;},events:{"changeSelection":f},statics:{NO_SELECTION:1,SINGLE_SELECTION:2,SINGLE_INTERVAL_SELECTION:3,MULTIPLE_INTERVAL_SELECTION:4,MULTIPLE_INTERVAL_SELECTION_TOGGLE:5},properties:{selectionMode:{init:2,check:[1,2,3,4,5],apply:a}},members:{__pQ:null,__pO:null,__pP:null,__pN:null,_applySelectionMode:function(o){this.resetSelection();},setBatchMode:function(p){if(p){this.hasBatchModeRefCount+=1;}else {if(this.hasBatchModeRefCount==0){throw new Error("Try to turn off batch mode althoug it was not turned on.");};this.hasBatchModeRefCount-=1;if(this.__pQ){this.__pQ=false;this._fireChangeSelection();};};return this.hasBatchMode();},hasBatchMode:function(){return this.hasBatchModeRefCount>0;},getAnchorSelectionIndex:function(){return this.__pO;},_setAnchorSelectionIndex:function(q){this.__pO=q;},getLeadSelectionIndex:function(){return this.__pP;},_setLeadSelectionIndex:function(r){this.__pP=r;},_getSelectedRangeArr:function(){return this.__pN;},resetSelection:function(){if(!this.isSelectionEmpty()){this._resetSelection();this._fireChangeSelection();};},isSelectionEmpty:function(){return this.__pN.length==0;},getSelectedCount:function(){var t=0;for(var i=0;i<this.__pN.length;i++){var s=this.__pN[i];t+=s.maxIndex-s.minIndex+1;};return t;},isSelectedIndex:function(u){for(var i=0;i<this.__pN.length;i++){var v=this.__pN[i];if(u>=v.minIndex&&u<=v.maxIndex){return true;};};return false;},getSelectedRanges:function(){var w=[];for(var i=0;i<this.__pN.length;i++){w.push({minIndex:this.__pN[i].minIndex,maxIndex:this.__pN[i].maxIndex});};return w;},iterateSelection:function(x,y){for(var i=0;i<this.__pN.length;i++){for(var j=this.__pN[i].minIndex;j<=this.__pN[i].maxIndex;j++){x.call(y,j);};};},setSelectionInterval:function(z,A){var B=this.self(arguments);switch(this.getSelectionMode()){case B.NO_SELECTION:return;case B.SINGLE_SELECTION:if(this.isSelectedIndex(A)){return;};z=A;break;case B.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this.setBatchMode(true);try{for(var i=z;i<=A;i++){if(!this.isSelectedIndex(i)){this._addSelectionInterval(i,i);}else {this.removeSelectionInterval(i,i);};};}catch(e){if(qx.core.Environment.get(b)==h&&qx.core.Environment.get(g)<=7){this.setBatchMode(false);};throw e;}finally{this.setBatchMode(false);};this._fireChangeSelection();return;};this._resetSelection();this._addSelectionInterval(z,A);this._fireChangeSelection();},addSelectionInterval:function(C,D){var E=qx.ui.table.selection.Model;switch(this.getSelectionMode()){case E.NO_SELECTION:return;case E.MULTIPLE_INTERVAL_SELECTION:case E.MULTIPLE_INTERVAL_SELECTION_TOGGLE:this._addSelectionInterval(C,D);this._fireChangeSelection();break;default:this.setSelectionInterval(C,D);break;};},removeSelectionInterval:function(F,G){this.__pO=F;this.__pP=G;var H=Math.min(F,G);var J=Math.max(F,G);for(var i=0;i<this.__pN.length;i++){var L=this.__pN[i];if(L.minIndex>J){break;}else if(L.maxIndex>=H){var M=(L.minIndex>=H)&&(L.minIndex<=J);var K=(L.maxIndex>=H)&&(L.maxIndex<=J);if(M&&K){this.__pN.splice(i,1);i--;}else if(M){L.minIndex=J+1;}else if(K){L.maxIndex=H-1;}else {var I={minIndex:J+1,maxIndex:L.maxIndex};this.__pN.splice(i+1,0,I);L.maxIndex=H-1;break;};};};this._fireChangeSelection();},_resetSelection:function(){this.__pN=[];this.__pO=-1;this.__pP=-1;},_addSelectionInterval:function(N,O){this.__pO=N;this.__pP=O;var P=Math.min(N,O);var R=Math.max(N,O);var Q=0;for(;Q<this.__pN.length;Q++){var S=this.__pN[Q];if(S.minIndex>P){break;};};this.__pN.splice(Q,0,{minIndex:P,maxIndex:R});var T=this.__pN[0];for(var i=1;i<this.__pN.length;i++){var S=this.__pN[i];if(T.maxIndex+1>=S.minIndex){T.maxIndex=Math.max(T.maxIndex,S.maxIndex);this.__pN.splice(i,1);i--;}else {T=S;};};},_dumpRanges:function(){var U=d;for(var i=0;i<this.__pN.length;i++){var V=this.__pN[i];U+=k+V.minIndex+m+V.maxIndex+n;};this.debug(U);},_fireChangeSelection:function(){if(this.hasBatchMode()){this.__pQ=true;}else {this.fireEvent(l);};}},destruct:function(){this.__pN=null;}});})();(function(){var j="table-row-background-even",i="Boolean",h="content",g="default",f="height:",e="'",d="table-row",c="table-row-background-focused",b="css.boxmodel",a=';color:',w="table-row-background-odd",v="1px solid ",u="table-row-line",t="table-row-background-selected",s="background-color:",r=';border-bottom: 1px solid ',q="table-row-selected",p="table-row-background-focused-selected",o="px;",n="qx.ui.table.rowrenderer.Default",l=";",m="changeTheme",k="";qx.Class.define(n,{extend:qx.core.Object,implement:qx.ui.table.IRowRenderer,construct:function(){qx.core.Object.call(this);this.initThemeValues();qx.theme.manager.Appearance.getInstance().addListener(m,this.initThemeValues,this);},properties:{highlightFocusRow:{check:i,init:true}},members:{_colors:null,__pn:null,__po:null,initThemeValues:function(){this.__po=k;this.__pn={};this._colors={};this._renderFont(qx.theme.manager.Font.getInstance().resolve(g));var x=qx.theme.manager.Color.getInstance();this._colors.bgcolFocusedSelected=x.resolve(p);this._colors.bgcolFocused=x.resolve(c);this._colors.bgcolSelected=x.resolve(t);this._colors.bgcolEven=x.resolve(j);this._colors.bgcolOdd=x.resolve(w);this._colors.colSelected=x.resolve(q);this._colors.colNormal=x.resolve(d);this._colors.horLine=x.resolve(u);},_insetY:1,_renderFont:function(y){if(y){this.__pn=y.getStyles();this.__po=qx.bom.element.Style.compile(this.__pn);this.__po=this.__po.replace(/"/g,e);}else {this.__po=k;this.__pn=qx.bom.Font.getDefaultStyles();};},updateDataRowElement:function(z,A){var C=this.__pn;var B=A.style;qx.bom.element.Style.setStyles(A,C);if(z.focusedRow&&this.getHighlightFocusRow()){B.backgroundColor=z.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused;}else {if(z.selected){B.backgroundColor=this._colors.bgcolSelected;}else {B.backgroundColor=(z.row%2==0)?this._colors.bgcolEven:this._colors.bgcolOdd;};};B.color=z.selected?this._colors.colSelected:this._colors.colNormal;B.borderBottom=v+this._colors.horLine;},getRowHeightStyle:function(D){if(qx.core.Environment.get(b)==h){D-=this._insetY;};return f+D+o;},createRowStyle:function(E){var F=[];F.push(l);F.push(this.__po);F.push(s);if(E.focusedRow&&this.getHighlightFocusRow()){F.push(E.selected?this._colors.bgcolFocusedSelected:this._colors.bgcolFocused);}else {if(E.selected){F.push(this._colors.bgcolSelected);}else {F.push((E.row%2==0)?this._colors.bgcolEven:this._colors.bgcolOdd);};};F.push(a);F.push(E.selected?this._colors.colSelected:this._colors.colNormal);F.push(r,this._colors.horLine);return F.join(k);},getRowClass:function(G){return k;},getRowAttributes:function(H){return k;}},destruct:function(){this._colors=this.__pn=this.__po=null;qx.theme.manager.Appearance.getInstance().removeListener(m,this.initThemeValues,this);}});})();(function(){var c="qx.event.type.Event",b="qx.ui.table.ITableModel",a="qx.event.type.Data";qx.Interface.define(b,{events:{"dataChanged":a,"metaDataChanged":c,"sorted":a},members:{getRowCount:function(){},getRowData:function(d){},getColumnCount:function(){},getColumnId:function(e){},getColumnIndexById:function(f){},getColumnName:function(g){},isColumnEditable:function(h){},isColumnSortable:function(i){},sortByColumn:function(j,k){},getSortColumnIndex:function(){},isSortAscending:function(){},prefetchRows:function(l,m){},getValue:function(n,o){},getValueById:function(p,q){},setValue:function(r,s,t){},setValueById:function(u,v,w){}}});})();(function(){var a="qx.ui.table.ICellRenderer";qx.Interface.define(a,{members:{createDataCellHtml:function(b,c){return true;}}});})();(function(){var j="qooxdoo-table-cell",i="content",h='</div>',g="nowrap",f="default",e="}",d="width:",c=".qooxdoo-table-cell-right { text-align:right } ",b="css.boxsizing",a="css.boxmodel",J="0px 6px",I='<div class="',H="0px",G="height:",F="1px solid ",E=".qooxdoo-table-cell-bold { font-weight:bold } ",D="String",C="} ",B='>',A='" ',q="ellipsis",r="content-box",o='left:',p="qx.ui.table.cellrenderer.Abstract",m='" style="',n="abstract",k="none",l="hidden",s="table-column-line",t='px;',v=".qooxdoo-table-cell-italic { font-style:italic} ",u="absolute",x="changeTheme",w="px;",z=".qooxdoo-table-cell {",y="";qx.Class.define(p,{type:n,implement:qx.ui.table.ICellRenderer,extend:qx.core.Object,construct:function(){qx.core.Object.call(this);var K=qx.ui.table.cellrenderer.Abstract;if(!K.__ol){K.__ol=this.self(arguments);this._createStyleSheet();qx.theme.manager.Appearance.getInstance().addListener(x,this._onChangeTheme,this);};},properties:{defaultCellStyle:{init:null,check:D,nullable:true}},members:{_onChangeTheme:function(){qx.bom.Stylesheet.removeAllRules(qx.ui.table.cellrenderer.Abstract.__ol.stylesheet);this._createStyleSheet();},_insetX:6+6+1,_insetY:0,_createStyleSheet:function(){var L=qx.theme.manager.Color.getInstance();var M=z+qx.bom.element.Style.compile({position:u,top:H,overflow:l,whiteSpace:g,borderRight:F+L.resolve(s),padding:J,cursor:f,textOverflow:q,userSelect:k})+C+c+v+E;if(qx.core.Environment.get(b)){M+=z+qx.bom.element.BoxSizing.compile(r)+e;};qx.ui.table.cellrenderer.Abstract.__ol.stylesheet=qx.bom.Stylesheet.createElement(M);},_getCellClass:function(N){return j;},_getCellStyle:function(O){return O.style||y;},_getCellAttributes:function(P){return y;},_getContentHtml:function(Q){return Q.value||y;},_getCellSizeStyle:function(R,S,T,U){var V=y;if(qx.core.Environment.get(a)==i){R-=T;S-=U;};V+=d+Math.max(R,0)+w;V+=G+Math.max(S,0)+w;return V;},createDataCellHtml:function(W,X){X.push(I,this._getCellClass(W),m,o,W.styleLeft,t,this._getCellSizeStyle(W.styleWidth,W.styleHeight,this._insetX,this._insetY),this._getCellStyle(W),A,this._getCellAttributes(W),B+this._getContentHtml(W),h);}},destruct:function(){qx.theme.manager.Appearance.getInstance().removeListener(x,this._onChangeTheme,this);}});})();(function(){var e="__pR",d="qx.ui.table.pane.Header",c="hovered",b="first",a="last";qx.Class.define(d,{extend:qx.ui.core.Widget,construct:function(f){qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.HBox());this.__kP=new qx.ui.core.Blocker(this);this.__pR=f;},members:{__pR:null,__qa:null,__qb:null,__kP:null,getPaneScroller:function(){return this.__pR;},getTable:function(){return this.__pR.getTable();},getBlocker:function(){return this.__kP;},onColOrderChanged:function(){this._updateContent(true);},onPaneModelChanged:function(){this._updateContent(true);},onTableModelMetaDataChanged:function(){this._updateContent();},setColumnWidth:function(g,h,i){var j=this.getHeaderWidgetAtColumn(g);if(j!=null){j.setWidth(h);};},setMouseOverColumn:function(k){if(k!=this.__qb){if(this.__qb!=null){var l=this.getHeaderWidgetAtColumn(this.__qb);if(l!=null){l.removeState(c);};};if(k!=null){this.getHeaderWidgetAtColumn(k).addState(c);};this.__qb=k;};},getHeaderWidgetAtColumn:function(m){var n=this.getPaneScroller().getTablePaneModel().getX(m);return this._getChildren()[n];},showColumnMoveFeedback:function(o,x){var s=this.getContainerLocation();if(this.__qa==null){var y=this.getTable();var p=this.getPaneScroller().getTablePaneModel().getX(o);var r=this._getChildren()[p];var t=y.getTableModel();var v=y.getTableColumnModel();var w={xPos:p,col:o,name:t.getColumnName(o),table:y};var u=v.getHeaderCellRenderer(o);var q=u.createHeaderCell(w);var z=r.getBounds();q.setWidth(z.width);q.setHeight(z.height);q.setZIndex(1000000);q.setOpacity(0.8);q.setLayoutProperties({top:s.top});this.getApplicationRoot().add(q);this.__qa=q;};this.__qa.setLayoutProperties({left:s.left+x});this.__qa.show();},hideColumnMoveFeedback:function(){if(this.__qa!=null){this.__qa.destroy();this.__qa=null;};},isShowingColumnMoveFeedback:function(){return this.__qa!=null;},_updateContent:function(A){var K=this.getTable();var E=K.getTableModel();var H=K.getTableColumnModel();var J=this.getPaneScroller().getTablePaneModel();var M=this._getChildren();var F=J.getColumnCount();var I=E.getSortColumnIndex();if(A){this._cleanUpCells();};var B={};B.sortedAscending=E.isSortAscending();for(var x=0;x<F;x++){var D=J.getColumnAtX(x);if(D===undefined){continue;};var L=H.getColumnWidth(D);var G=H.getHeaderCellRenderer(D);B.xPos=x;B.col=D;B.name=E.getColumnName(D);B.editable=E.isColumnEditable(D);B.sorted=(D==I);B.table=K;var C=M[x];if(C==null){C=G.createHeaderCell(B);C.set({width:L});this._add(C);}else {G.updateHeaderCell(B,C);};if(x===0){C.addState(b);C.removeState(a);}else if(x===F-1){C.removeState(b);C.addState(a);}else {C.removeState(b);C.removeState(a);};};},_cleanUpCells:function(){var O=this._getChildren();for(var x=O.length-1;x>=0;x--){var N=O[x];N.destroy();};}},destruct:function(){this.__kP.dispose();this._disposeObjects(e);}});})();(function(){var k="touchmove",j="qx.ui.core.scroll.MTouchScroll",i="touchend",h="touchstart",g="Top",f="Left",d="y",c="getDocument",b="x",a="scrollbar-";qx.Mixin.define(j,{construct:function(){this.addListener(k,this._onTouchMove,this);this.addListener(h,this._onTouchStart,this);this.addListener(i,this._onTouchEnd,this,true);this.__cS={};this.__nj={};},members:{__qc:false,__qd:false,__nj:null,__cS:null,inTouchMomentum:function(){return this.__qc;},_onTouchStart:function(e){if(this.__nj){clearTimeout(this.__nj.x);clearTimeout(this.__nj.y);};this.__cS={"x":0,"y":0};if(this.__qc){this.__qd=true;this.__qc=false;};},_onTouchEnd:function(e){if(this.__qd){this.__qd=false;e.stop();};},_onTouchMove:function(e){this._onTouchMoveDirectional(b,e);this._onTouchMoveDirectional(d,e);this.__qc=true;e.stop();},_onTouchMoveDirectional:function(l,e){var m=(l==b?f:g);var o=this.getChildControl(a+l,true);var p=this._isChildControlVisible(a+l);if(p&&o){var n=null;if(this.__cS[l]==0){n=0;}else {n=-(e[c+m]()-this.__cS[l]);};this.__cS[l]=e[c+m]();o.scrollBy(n);if(this.__nj[l]){clearTimeout(this.__nj[l]);this.__nj[l]=null;};this.__nj[l]=setTimeout(qx.lang.Function.bind(function(q){this.__nk(q,l);},this,n),100);};},__nk:function(r,s){this.__nj[s]=null;var u=this._isChildControlVisible(a+s);if(r==0||!u){this.__qc=false;return;};if(r>0){r=Math.max(0,r-3);}else {r=Math.min(0,r+3);};this.__nj[s]=setTimeout(qx.lang.Function.bind(function(v,w){this.__nk(v,w);},this,r,s),10);var t=this.getChildControl(a+s,true);t.scrollBy(r);}},destruct:function(){clearTimeout(this.__nj.x);clearTimeout(this.__nj.y);this.__nj=this.__cS=this.__qc=null;}});})();(function(){var o="__qe",n="__qm",m="mouseout",l="changeHorizontalScrollBarVisible",k="__qi",j="bottom",i="_applyScrollTimeout",h="changeScrollX",g="_applyTablePaneModel",d="Integer",bq="dblclick",bp="__qj",bo="dataEdited",bn="__jQ",bm="__qh",bl="mousewheel",bk="interval",bj="qx.ui.table.pane.Scroller",bi="_applyShowCellFocusIndicator",bh="y",v="resize",w="vertical",t="__qg",u="__qf",r="changeScrollY",s="appear",p="table-scroller",q="beforeSort",C="cellDblclick",D="__ql",M="__qk",J="horizontal",U="losecapture",P="contextmenu",bd="col-resize",ba="disappear",F="_applyVerticalScrollBarVisible",bg="_applyHorizontalScrollBarVisible",bf="os.scrollBarOverlayed",be="cellContextmenu",E="close",H="changeTablePaneModel",I="x",L="qx.ui.table.pane.Model",N="changeVerticalScrollBarVisible",Q="scroll",W="focus-indicator",bc="excluded",y="scrollbar-y",z="table-scroller-focus-indicator",G="visible",T="mousemove",S="header",R="editing",Y="click",X="modelChanged",O="scrollbar-x",V="cellClick",a="pane",bb="mousedown",A="qx.event.type.Data",B="mouseup",K="qx.ui.table.pane.CellEvent",b="resize-line",c="Boolean";qx.Class.define(bj,{extend:qx.ui.core.Widget,include:qx.core.Environment.filter({"true":qx.ui.core.scroll.MScrollBarFactory,"event.touch":qx.ui.core.scroll.MTouchScroll}),construct:function(br){qx.ui.core.Widget.call(this);this.__nE=br;var bs=new qx.ui.layout.Grid();bs.setColumnFlex(0,1);bs.setRowFlex(1,1);this._setLayout(bs);this.__qe=this._showChildControl(S);this.__qf=this._showChildControl(a);this.__qg=new qx.ui.container.Composite(new qx.ui.layout.HBox()).set({minWidth:0});this._add(this.__qg,{row:0,column:0,colSpan:2});this.__qh=new qx.ui.table.pane.Clipper();this.__qh.add(this.__qe);this.__qh.addListener(U,this._onChangeCaptureHeader,this);this.__qh.addListener(T,this._onMousemoveHeader,this);this.__qh.addListener(bb,this._onMousedownHeader,this);this.__qh.addListener(B,this._onMouseupHeader,this);this.__qh.addListener(Y,this._onClickHeader,this);this.__qg.add(this.__qh,{flex:1});this.__qi=new qx.ui.table.pane.Clipper();this.__qi.add(this.__qf);this.__qi.addListener(bl,this._onMousewheel,this);this.__qi.addListener(T,this._onMousemovePane,this);this.__qi.addListener(bb,this._onMousedownPane,this);this.__qi.addListener(B,this._onMouseupPane,this);this.__qi.addListener(Y,this._onClickPane,this);this.__qi.addListener(P,this._onContextMenu,this);this.__qi.addListener(bq,this._onDblclickPane,this);this.__qi.addListener(v,this._onResizePane,this);if(qx.core.Environment.get(bf)){this.__qj=new qx.ui.container.Composite();this.__qj.setLayout(new qx.ui.layout.Canvas());this.__qj.add(this.__qi,{edge:0});this._add(this.__qj,{row:1,column:0});}else {this._add(this.__qi,{row:1,column:0});};this.__qk=this._showChildControl(O);this.__ql=this._showChildControl(y);this.__qm=this.getChildControl(W);this.initShowCellFocusIndicator();this.getChildControl(b).hide();this.addListener(m,this._onMouseout,this);this.addListener(s,this._onAppear,this);this.addListener(ba,this._onDisappear,this);this.__jQ=new qx.event.Timer();this.__jQ.addListener(bk,this._oninterval,this);this.initScrollTimeout();},statics:{MIN_COLUMN_WIDTH:10,RESIZE_REGION_RADIUS:5,CLICK_TOLERANCE:5,HORIZONTAL_SCROLLBAR:1,VERTICAL_SCROLLBAR:2},events:{"changeScrollY":A,"changeScrollX":A,"cellClick":K,"cellDblclick":K,"cellContextmenu":K,"beforeSort":A},properties:{horizontalScrollBarVisible:{check:c,init:false,apply:bg,event:l},verticalScrollBarVisible:{check:c,init:false,apply:F,event:N},tablePaneModel:{check:L,apply:g,event:H},liveResize:{check:c,init:false},focusCellOnMouseMove:{check:c,init:false},selectBeforeFocus:{check:c,init:false},showCellFocusIndicator:{check:c,init:true,apply:bi},contextMenuFromDataCellsOnly:{check:c,init:true},resetSelectionOnHeaderClick:{check:c,init:true},scrollTimeout:{check:d,init:100,apply:i},appearance:{refine:true,init:p}},members:{__pi:null,__nE:null,__qn:null,__qo:null,__qp:null,__qq:null,__qr:null,__qs:null,__qt:null,__qu:null,__qv:null,__qw:null,__qx:null,__qy:null,__qz:false,__qA:null,__qB:null,__qC:null,__pe:null,__pf:null,__qD:null,__qE:null,__qF:null,__qk:null,__ql:null,__qe:null,__qh:null,__qf:null,__qi:null,__qj:null,__qm:null,__qg:null,__jQ:null,getPaneInsetRight:function(){var bv=this.getTopRightWidget();var bw=bv&&bv.isVisible()&&bv.getBounds()?bv.getBounds().width+bv.getMarginLeft()+bv.getMarginRight():0;var bu=this.__ql;var bt=this.getVerticalScrollBarVisible()?this.getVerticalScrollBarWidth()+bu.getMarginLeft()+bu.getMarginRight():0;return Math.max(bw,bt);},setPaneWidth:function(bx){if(this.isVerticalScrollBarVisible()){bx+=this.getPaneInsetRight();};this.setWidth(bx);},_createChildControlImpl:function(by,bz){var bA;switch(by){case S:bA=(this.getTable().getNewTablePaneHeader())(this);break;case a:bA=(this.getTable().getNewTablePane())(this);break;case W:bA=new qx.ui.table.pane.FocusIndicator(this);bA.setUserBounds(0,0,0,0);bA.setZIndex(1000);bA.addListener(B,this._onMouseupFocusIndicator,this);this.__qi.add(bA);bA.show();bA.setDecorator(null);break;case b:bA=new qx.ui.core.Widget();bA.setUserBounds(0,0,0,0);bA.setZIndex(1000);this.__qi.add(bA);break;case O:bA=this._createScrollBar(J).set({alignY:j});bA.addListener(Q,this._onScrollX,this);if(this.__qj!=null){bA.setMinHeight(qx.ui.core.scroll.AbstractScrollArea.DEFAULT_SCROLLBAR_WIDTH);this.__qj.add(bA,{bottom:0,right:0,left:0});}else {this._add(bA,{row:2,column:0});};break;case y:bA=this._createScrollBar(w);bA.addListener(Q,this._onScrollY,this);if(this.__qj!=null){this.__qj.add(bA,{right:0,bottom:0,top:0});}else {this._add(bA,{row:1,column:1});};break;};return bA||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,by);},_applyHorizontalScrollBarVisible:function(bB,bC){this.__qk.setVisibility(bB?G:bc);},_applyVerticalScrollBarVisible:function(bD,bE){this.__ql.setVisibility(bD?G:bc);},_applyTablePaneModel:function(bF,bG){if(bG!=null){bG.removeListener(X,this._onPaneModelChanged,this);};bF.addListener(X,this._onPaneModelChanged,this);},_applyShowCellFocusIndicator:function(bH,bI){if(bH){this.__qm.setDecorator(z);this._updateFocusIndicator();}else {if(this.__qm){this.__qm.setDecorator(null);};};},getScrollY:function(){return this.__ql.getPosition();},setScrollY:function(scrollY,bJ){this.__ql.scrollTo(scrollY);if(bJ){this._updateContent();};},getScrollX:function(){return this.__qk.getPosition();},setScrollX:function(scrollX){this.__qk.scrollTo(scrollX);},getTable:function(){return this.__nE;},onColVisibilityChanged:function(){this.updateHorScrollBarMaximum();this._updateFocusIndicator();},setColumnWidth:function(bK,bL){this.__qe.setColumnWidth(bK,bL);this.__qf.setColumnWidth(bK,bL);var bM=this.getTablePaneModel();var x=bM.getX(bK);if(x!=-1){this.updateHorScrollBarMaximum();this._updateFocusIndicator();};},onColOrderChanged:function(){this.__qe.onColOrderChanged();this.__qf.onColOrderChanged();this.updateHorScrollBarMaximum();},onTableModelDataChanged:function(bN,bO,bP,bQ){this.__qf.onTableModelDataChanged(bN,bO,bP,bQ);var bR=this.getTable().getTableModel().getRowCount();if(bR!=this.__pi){this.updateVerScrollBarMaximum();if(this.getFocusedRow()>=bR){if(bR==0){this.setFocusedCell(null,null);}else {this.setFocusedCell(this.getFocusedColumn(),bR-1);};};this.__pi=bR;};},onSelectionChanged:function(){this.__qf.onSelectionChanged();},onFocusChanged:function(){this.__qf.onFocusChanged();},onTableModelMetaDataChanged:function(){this.__qe.onTableModelMetaDataChanged();this.__qf.onTableModelMetaDataChanged();},_onPaneModelChanged:function(){this.__qe.onPaneModelChanged();this.__qf.onPaneModelChanged();},_onResizePane:function(){this.updateHorScrollBarMaximum();this.updateVerScrollBarMaximum();this._updateContent();this.__qe._updateContent();this.__nE._updateScrollBarVisibility();},updateHorScrollBarMaximum:function(){var bV=this.__qi.getInnerSize();if(!bV){return;};var bT=this.getTablePaneModel().getTotalWidth();var bU=this.__qk;if(bV.width<bT){var bS=Math.max(0,bT-bV.width);bU.setMaximum(bS);bU.setKnobFactor(bV.width/bT);var bW=bU.getPosition();bU.setPosition(Math.min(bW,bS));}else {bU.setMaximum(0);bU.setKnobFactor(1);bU.setPosition(0);};},updateVerScrollBarMaximum:function(){var cf=this.__qi.getInnerSize();if(!cf){return;};var cd=this.getTable().getTableModel();var bY=cd.getRowCount();if(this.getTable().getKeepFirstVisibleRowComplete()){bY+=1;};var bX=this.getTable().getRowHeight();var cb=bY*bX;var ce=this.__ql;if(cf.height<cb){var ca=Math.max(0,cb-cf.height);ce.setMaximum(ca);ce.setKnobFactor(cf.height/cb);var cc=ce.getPosition();ce.setPosition(Math.min(cc,ca));}else {ce.setMaximum(0);ce.setKnobFactor(1);ce.setPosition(0);};},onKeepFirstVisibleRowCompleteChanged:function(){this.updateVerScrollBarMaximum();this._updateContent();},_onAppear:function(){this._startInterval(this.getScrollTimeout());},_onDisappear:function(){this._stopInterval();},_onScrollX:function(e){var cg=e.getData();this.fireDataEvent(h,cg,e.getOldData());this.__qh.scrollToX(cg);this.__qi.scrollToX(cg);},_onScrollY:function(e){this.fireDataEvent(r,e.getData(),e.getOldData());this._postponedUpdateContent();},_onMousewheel:function(e){var ch=this.getTable();if(!ch.getEnabled()){return;};var ck=e.getWheelDelta(bh);if(ck>0&&ck<1){ck=1;}else if(ck<0&&ck>-1){ck=-1;};this.__ql.scrollBySteps(ck);ck=e.getWheelDelta(I);if(ck>0&&ck<1){ck=1;}else if(ck<0&&ck>-1){ck=-1;};this.__qk.scrollBySteps(ck);if(this.__qB&&this.getFocusCellOnMouseMove()){this._focusCellAtPagePos(this.__qB,this.__qC);};var cj=this.__ql.getPosition();var ci=this.__ql.getMaximum();if(ck<0&&cj<=0||ck>0&&cj>=ci){return;};e.stop();},__qG:function(cl){var cq=this.getTable();var cr=this.__qe.getHeaderWidgetAtColumn(this.__qv);var cm=cr.getSizeHint().minWidth;var co=Math.max(cm,this.__qx+cl-this.__qw);if(this.getLiveResize()){var cn=cq.getTableColumnModel();cn.setColumnWidth(this.__qv,co,true);}else {this.__qe.setColumnWidth(this.__qv,co,true);var cp=this.getTablePaneModel();this._showResizeLine(cp.getColumnLeft(this.__qv)+co);};this.__qw+=co-this.__qx;this.__qx=co;},__qH:function(cs){var ct=qx.ui.table.pane.Scroller.CLICK_TOLERANCE;if(this.__qe.isShowingColumnMoveFeedback()||cs>this.__qu+ct||cs<this.__qu-ct){this.__qr+=cs-this.__qu;this.__qe.showColumnMoveFeedback(this.__qq,this.__qr);var cu=this.__nE.getTablePaneScrollerAtPageX(cs);if(this.__qt&&this.__qt!=cu){this.__qt.hideColumnMoveFeedback();};if(cu!=null){this.__qs=cu.showColumnMoveFeedback(cs);}else {this.__qs=null;};this.__qt=cu;this.__qu=cs;};},_onMousemoveHeader:function(e){var cB=this.getTable();if(!cB.getEnabled()){return;};var cC=false;var cv=null;var cz=e.getDocumentLeft();var cA=e.getDocumentTop();this.__qB=cz;this.__qC=cA;if(this.__qv!=null){this.__qG(cz);cC=true;e.stopPropagation();}else if(this.__qq!=null){this.__qH(cz);e.stopPropagation();}else {var cw=this._getResizeColumnForPageX(cz);if(cw!=-1){cC=true;}else {var cy=cB.getTableModel();var cD=this._getColumnForPageX(cz);if(cD!=null&&cy.isColumnSortable(cD)){cv=cD;};};};var cx=cC?bd:null;this.getApplicationRoot().setGlobalCursor(cx);this.setCursor(cx);this.__qe.setMouseOverColumn(cv);},_onMousemovePane:function(e){var cE=this.getTable();if(!cE.getEnabled()){return;};var cG=e.getDocumentLeft();var cH=e.getDocumentTop();this.__qB=cG;this.__qC=cH;var cF=this._getRowForPagePos(cG,cH);if(cF!=null&&this._getColumnForPageX(cG)!=null){if(this.getFocusCellOnMouseMove()){this._focusCellAtPagePos(cG,cH);};};this.__qe.setMouseOverColumn(null);},_onMousedownHeader:function(e){if(!this.getTable().getEnabled()){return;};var cJ=e.getDocumentLeft();var cK=this._getResizeColumnForPageX(cJ);if(cK!=-1){this._startResizeHeader(cK,cJ);e.stop();}else {var cI=this._getColumnForPageX(cJ);if(cI!=null){this._startMoveHeader(cI,cJ);e.stop();};};},_startResizeHeader:function(cL,cM){var cN=this.getTable().getTableColumnModel();this.__qv=cL;this.__qw=cM;this.__qx=cN.getColumnWidth(this.__qv);this.__qh.capture();},_startMoveHeader:function(cO,cP){this.__qq=cO;this.__qu=cP;this.__qr=this.getTablePaneModel().getColumnLeft(cO);this.__qh.capture();},_onMousedownPane:function(e){var cT=this.getTable();if(!cT.getEnabled()){return;};if(cT.isEditing()){cT.stopEditing();};var cQ=e.getDocumentLeft();var cS=e.getDocumentTop();var cV=this._getRowForPagePos(cQ,cS);var cU=this._getColumnForPageX(cQ);if(cV!==null){this.__qy={row:cV,col:cU};this.__qz=false;var cR=this.getSelectBeforeFocus();if(cR){cT.getSelectionManager().handleMouseDown(cV,e);};if(!this.getFocusCellOnMouseMove()){this._focusCellAtPagePos(cQ,cS);};if(!cR){cT.getSelectionManager().handleMouseDown(cV,e);};};},_onMouseupFocusIndicator:function(e){if(this.__qy&&!this.__qz&&!this.isEditing()&&this.__qm.getRow()==this.__qy.row&&this.__qm.getColumn()==this.__qy.col){this.fireEvent(V,qx.ui.table.pane.CellEvent,[this,e,this.__qy.row,this.__qy.col],true);this.__qz=true;}else if(!this.isEditing()){this._onMousedownPane(e);};},_onChangeCaptureHeader:function(e){if(this.__qv!=null){this._stopResizeHeader();};if(this.__qq!=null){this._stopMoveHeader();};},_stopResizeHeader:function(){var cW=this.getTable().getTableColumnModel();if(!this.getLiveResize()){this._hideResizeLine();cW.setColumnWidth(this.__qv,this.__qx,true);};this.__qv=null;this.__qh.releaseCapture();this.getApplicationRoot().setGlobalCursor(null);this.setCursor(null);if(this.isEditing()){var cX=this.__qD.getBounds().height;this.__qD.setUserBounds(0,0,this.__qx,cX);};},_stopMoveHeader:function(){var dd=this.getTable().getTableColumnModel();var de=this.getTablePaneModel();this.__qe.hideColumnMoveFeedback();if(this.__qt){this.__qt.hideColumnMoveFeedback();};if(this.__qs!=null){var dg=de.getFirstColumnX()+de.getX(this.__qq);var dc=this.__qs;if(dc!=dg&&dc!=dg+1){var df=dd.getVisibleColumnAtX(dg);var db=dd.getVisibleColumnAtX(dc);var da=dd.getOverallX(df);var cY=(db!=null)?dd.getOverallX(db):dd.getOverallColumnCount();if(cY>da){cY--;};dd.moveColumn(da,cY);this._updateFocusIndicator();};};this.__qq=null;this.__qs=null;this.__qh.releaseCapture();},_onMouseupPane:function(e){var dh=this.getTable();if(!dh.getEnabled()){return;};var di=this._getRowForPagePos(e.getDocumentLeft(),e.getDocumentTop());if(di!=-1&&di!=null&&this._getColumnForPageX(e.getDocumentLeft())!=null){dh.getSelectionManager().handleMouseUp(di,e);};},_onMouseupHeader:function(e){var dj=this.getTable();if(!dj.getEnabled()){return;};if(this.__qv!=null){this._stopResizeHeader();this.__qA=true;e.stop();}else if(this.__qq!=null){this._stopMoveHeader();e.stop();};},_onClickHeader:function(e){if(this.__qA){this.__qA=false;return;};var dp=this.getTable();if(!dp.getEnabled()){return;};var dm=dp.getTableModel();var dn=e.getDocumentLeft();var dl=this._getResizeColumnForPageX(dn);if(dl==-1){var ds=this._getColumnForPageX(dn);if(ds!=null&&dm.isColumnSortable(ds)){var dk=dm.getSortColumnIndex();var dq=(ds!=dk)?true:!dm.isSortAscending();var dr={column:ds,ascending:dq,clickEvent:e};if(this.fireDataEvent(q,dr,null,true)){if(dp.isEditing()){dp.stopEditing();};dm.sortByColumn(ds,dq);if(this.getResetSelectionOnHeaderClick()){dp.getSelectionModel().resetSelection();};};};};e.stop();},_onClickPane:function(e){var dt=this.getTable();if(!dt.getEnabled()){return;};var dw=e.getDocumentLeft();var dx=e.getDocumentTop();var du=this._getRowForPagePos(dw,dx);var dv=this._getColumnForPageX(dw);if(du!=null&&dv!=null){dt.getSelectionManager().handleClick(du,e);if(this.__qm.isHidden()||(this.__qy&&!this.__qz&&!this.isEditing()&&du==this.__qy.row&&dv==this.__qy.col)){this.fireEvent(V,qx.ui.table.pane.CellEvent,[this,e,du,dv],true);this.__qz=true;};};},_onContextMenu:function(e){var dB=e.getDocumentLeft();var dC=e.getDocumentTop();var dz=this._getRowForPagePos(dB,dC);var dA=this._getColumnForPageX(dB);if(dz===null&&this.getContextMenuFromDataCellsOnly()){return;};if(!this.getShowCellFocusIndicator()||dz===null||(this.__qy&&dz==this.__qy.row&&dA==this.__qy.col)){this.fireEvent(be,qx.ui.table.pane.CellEvent,[this,e,dz,dA],true);var dy=this.getTable().getContextMenu();if(dy){if(dy.getChildren().length>0){dy.openAtMouse(e);}else {dy.exclude();};e.preventDefault();};};},_onContextMenuOpen:function(e){},_onDblclickPane:function(e){var dE=e.getDocumentLeft();var dF=e.getDocumentTop();this._focusCellAtPagePos(dE,dF);this.startEditing();var dD=this._getRowForPagePos(dE,dF);if(dD!=-1&&dD!=null){this.fireEvent(C,qx.ui.table.pane.CellEvent,[this,e,dD],true);};},_onMouseout:function(e){var dG=this.getTable();if(!dG.getEnabled()){return;};if(this.__qv==null){this.setCursor(null);this.getApplicationRoot().setGlobalCursor(null);};this.__qe.setMouseOverColumn(null);if(this.getFocusCellOnMouseMove()){this.__nE.setFocusedCell();};},_showResizeLine:function(x){var dI=this._showChildControl(b);var dH=dI.getWidth();var dJ=this.__qi.getBounds();dI.setUserBounds(x-Math.round(dH/2),0,dH,dJ.height);},_hideResizeLine:function(){this._excludeChildControl(b);},showColumnMoveFeedback:function(dK){var dT=this.getTablePaneModel();var dS=this.getTable().getTableColumnModel();var dN=this.__qf.getContainerLocation().left;var dR=dT.getColumnCount();var dO=0;var dM=0;var dW=dN;for(var dL=0;dL<dR;dL++){var dP=dT.getColumnAtX(dL);var dU=dS.getColumnWidth(dP);if(dK<dW+dU/2){break;};dW+=dU;dO=dL+1;dM=dW-dN;};var dQ=this.__qi.getContainerLocation().left;var dV=this.__qi.getBounds().width;var scrollX=dQ-dN;dM=qx.lang.Number.limit(dM,scrollX+2,scrollX+dV-1);this._showResizeLine(dM);return dT.getFirstColumnX()+dO;},hideColumnMoveFeedback:function(){this._hideResizeLine();},_focusCellAtPagePos:function(dX,dY){var eb=this._getRowForPagePos(dX,dY);if(eb!=-1&&eb!=null){var ea=this._getColumnForPageX(dX);this.__nE.setFocusedCell(ea,eb);};},setFocusedCell:function(ec,ed){if(!this.isEditing()){this.__qf.setFocusedCell(ec,ed,this.__qo);this.__pe=ec;this.__pf=ed;this._updateFocusIndicator();};},getFocusedColumn:function(){return this.__pe;},getFocusedRow:function(){return this.__pf;},scrollCellVisible:function(ee,ef){var ep=this.getTablePaneModel();var eg=ep.getX(ee);if(eg!=-1){var em=this.__qi.getInnerSize();if(!em){return;};var en=this.getTable().getTableColumnModel();var ej=ep.getColumnLeft(ee);var eq=en.getColumnWidth(ee);var eh=this.getTable().getRowHeight();var er=ef*eh;var scrollX=this.getScrollX();var scrollY=this.getScrollY();var eo=Math.min(ej,ej+eq-em.width);var el=ej;this.setScrollX(Math.max(eo,Math.min(el,scrollX)));var ei=er+eh-em.height;if(this.getTable().getKeepFirstVisibleRowComplete()){ei+=eh;};var ek=er;this.setScrollY(Math.max(ei,Math.min(ek,scrollY)),true);};},isEditing:function(){return this.__qD!=null;},startEditing:function(){var ew=this.getTable();var eu=ew.getTableModel();var ey=this.__pe;if(!this.isEditing()&&(ey!=null)&&eu.isColumnEditable(ey)){var ez=this.__pf;var es=this.getTablePaneModel().getX(ey);var et=eu.getValue(ey,ez);this.scrollCellVisible(es,ez);this.__qE=ew.getTableColumnModel().getCellEditorFactory(ey);var ev={col:ey,row:ez,xPos:es,value:et,table:ew};this.__qD=this.__qE.createCellEditor(ev);if(this.__qD===null){return false;}else if(this.__qD instanceof qx.ui.window.Window){this.__qD.setModal(true);this.__qD.setShowClose(false);this.__qD.addListener(E,this._onCellEditorModalWindowClose,this);var f=ew.getModalCellEditorPreOpenFunction();if(f!=null){f(this.__qD,ev);};this.__qD.open();}else {var ex=this.__qm.getInnerSize();this.__qD.setUserBounds(0,0,ex.width,ex.height);this.__qm.addListener(bb,function(e){this.__qy={row:this.__pf,col:this.__pe};e.stopPropagation();},this);this.__qm.add(this.__qD);this.__qm.addState(R);this.__qm.setKeepActive(false);this.__qm.setDecorator(z);this.__qD.focus();this.__qD.activate();};return true;};return false;},stopEditing:function(){if(!this.getShowCellFocusIndicator()){this.__qm.setDecorator(null);};this.flushEditor();this.cancelEditing();},flushEditor:function(){if(this.isEditing()){var eB=this.__qE.getCellEditorValue(this.__qD);var eA=this.getTable().getTableModel().getValue(this.__pe,this.__pf);this.getTable().getTableModel().setValue(this.__pe,this.__pf,eB);this.__nE.focus();this.__nE.fireDataEvent(bo,{row:this.__pf,col:this.__pe,oldValue:eA,value:eB});};},cancelEditing:function(){if(this.isEditing()&&!this.__qD.pendingDispose){if(this._cellEditorIsModalWindow){this.__qD.destroy();this.__qD=null;this.__qE=null;this.__qD.pendingDispose=true;}else {this.__qm.removeState(R);this.__qm.setKeepActive(true);this.__qD.destroy();this.__qD=null;this.__qE=null;};};},_onCellEditorModalWindowClose:function(e){this.stopEditing();},_getColumnForPageX:function(eC){var eF=this.getTable().getTableColumnModel();var eG=this.getTablePaneModel();var eE=eG.getColumnCount();var eI=this.__qf.getContentLocation().left;for(var x=0;x<eE;x++){var eD=eG.getColumnAtX(x);var eH=eF.getColumnWidth(eD);eI+=eH;if(eC<eI){return eD;};};return null;},_getResizeColumnForPageX:function(eJ){var eN=this.getTable().getTableColumnModel();var eO=this.getTablePaneModel();var eM=eO.getColumnCount();var eQ=this.__qe.getContainerLocation().left;var eK=qx.ui.table.pane.Scroller.RESIZE_REGION_RADIUS;for(var x=0;x<eM;x++){var eL=eO.getColumnAtX(x);var eP=eN.getColumnWidth(eL);eQ+=eP;if(eJ>=(eQ-eK)&&eJ<=(eQ+eK)){return eL;};};return -1;},_getRowForPagePos:function(eR,eS){var eT=this.__qf.getContentLocation();if(eR<eT.left||eR>eT.right){return null;};if(eS>=eT.top&&eS<=eT.bottom){var eU=this.getTable().getRowHeight();var scrollY=this.__ql.getPosition();if(this.getTable().getKeepFirstVisibleRowComplete()){scrollY=Math.floor(scrollY/eU)*eU;};var eX=scrollY+eS-eT.top;var fa=Math.floor(eX/eU);var eY=this.getTable().getTableModel();var eV=eY.getRowCount();return (fa<eV)?fa:null;};var eW=this.__qe.getContainerLocation();if(eS>=eW.top&&eS<=eW.bottom&&eR<=eW.right){return -1;};return null;},setTopRightWidget:function(fb){var fc=this.__qF;if(fc!=null){this.__qg.remove(fc);};if(fb!=null){this.__qg.add(fb);};this.__qF=fb;},getTopRightWidget:function(){return this.__qF;},getHeader:function(){return this.__qe;},getTablePane:function(){return this.__qf;},getVerticalScrollBarWidth:function(){var fd=this.__ql;return fd.isVisible()?(fd.getSizeHint().width||0):0;},getNeededScrollBars:function(fe,ff){var fo=this.__ql;var fs=fo.getSizeHint().width+fo.getMarginLeft()+fo.getMarginRight();var fu=this.__qk;var ft=fu.getSizeHint().height+fu.getMarginTop()+fu.getMarginBottom();var fm=this.__qi.getInnerSize();var fg=fm?fm.width:0;if(this.getVerticalScrollBarVisible()){fg+=fs;};var fr=fm?fm.height:0;if(this.getHorizontalScrollBarVisible()){fr+=ft;};var fn=this.getTable().getTableModel();var fk=fn.getRowCount();var fh=this.getTablePaneModel().getTotalWidth();var fp=this.getTable().getRowHeight()*fk;var fj=false;var fq=false;if(fh>fg){fj=true;if(fp>fr-ft){fq=true;};}else if(fp>fr){fq=true;if(!ff&&(fh>fg-fs)){fj=true;};};var fl=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;var fi=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;return ((fe||fj)?fl:0)|((ff||!fq)?0:fi);},getPaneClipper:function(){return this.__qi;},_applyScrollTimeout:function(fv,fw){this._startInterval(fv);},_startInterval:function(fx){this.__jQ.setInterval(fx);this.__jQ.start();},_stopInterval:function(){this.__jQ.stop();},_postponedUpdateContent:function(){this._updateContent();},_oninterval:qx.event.GlobalError.observeMethod(function(){if(this.__qo&&!this.__qf._layoutPending){this.__qo=false;this._updateContent();};}),_updateContent:function(){var fC=this.__qi.getInnerSize();if(!fC){return;};var fF=fC.height;var scrollX=this.__qk.getPosition();var scrollY=this.__ql.getPosition();var fz=this.getTable().getRowHeight();var fA=Math.floor(scrollY/fz);var fE=this.__qf.getFirstVisibleRow();this.__qf.setFirstVisibleRow(fA);var fB=Math.ceil(fF/fz);var fy=0;var fD=this.getTable().getKeepFirstVisibleRowComplete();if(!fD){fB++;fy=scrollY%fz;};this.__qf.setVisibleRowCount(fB);if(fA!=fE){this._updateFocusIndicator();};this.__qi.scrollToX(scrollX);if(!fD){this.__qi.scrollToY(fy);};},_updateFocusIndicator:function(){var fG=this.getTable();if(!fG.getEnabled()){return;};this.__qm.moveToCell(this.__pe,this.__pf);}},destruct:function(){this._stopInterval();var fH=this.getTablePaneModel();if(fH){fH.dispose();};this.__qy=this.__qF=this.__nE=null;this._disposeObjects(M,D,bm,k,n,o,u,t,bn,bp);}});})();(function(){var b="qx.ui.table.IColumnMenuItem",a="qx.event.type.Data";qx.Interface.define(b,{properties:{visible:{}},events:{changeVisible:a}});})();(function(){var f="changeVisible",d="qx.ui.table.columnmenu.MenuItem",c="_applyVisible",b="Boolean",a="changeValue";qx.Class.define(d,{extend:qx.ui.menu.CheckBox,implement:qx.ui.table.IColumnMenuItem,properties:{visible:{check:b,init:true,apply:c,event:f}},construct:function(g){qx.ui.menu.CheckBox.call(this,g);this.addListener(a,function(e){this.bInListener=true;this.setVisible(e.getData());this.bInListener=false;});},members:{__pL:false,_applyVisible:function(h,i){if(!this.bInListener){this.setValue(h);};}}});})();(function(){var k='<div>',j="</div>",h="overflow: hidden;",g="qx.event.type.Data",f="paneReloadsData",e="div",d='style="',c="_applyMaxCacheLines",b="qx.ui.table.pane.Pane",a="width: 100%;",E="qx.event.type.Event",D="_applyVisibleRowCount",C='>',B="line-height: ",A="appear",z='class="',w="width:100%;",v="px;",u='<div ',t="'>",r="_applyFirstVisibleRow",s="<div style='",p=";position:relative;",q='</div>',n='" ',o="paneUpdated",l="Number",m="";qx.Class.define(b,{extend:qx.ui.core.Widget,construct:function(F){qx.ui.core.Widget.call(this);this.__pR=F;this.__pS=0;this.__pi=0;this.__pT=[];},events:{"paneReloadsData":g,"paneUpdated":E},properties:{firstVisibleRow:{check:l,init:0,apply:r},visibleRowCount:{check:l,init:0,apply:D},maxCacheLines:{check:l,init:1000,apply:c},allowShrinkX:{refine:true,init:false}},members:{__pi:null,__pS:null,__pR:null,__pU:null,__pf:null,__pe:null,__pT:null,__pV:0,_applyFirstVisibleRow:function(G,H){this.updateContent(false,G-H);},_applyVisibleRowCount:function(I,J){this.updateContent(true);},_getContentHint:function(){return {width:this.getPaneScroller().getTablePaneModel().getTotalWidth(),height:400};},getPaneScroller:function(){return this.__pR;},getTable:function(){return this.__pR.getTable();},setFocusedCell:function(K,L,M){if(K!=this.__pe||L!=this.__pf){var N=this.__pf;this.__pe=K;this.__pf=L;if(L!=N&&!M){if(N!==null){this.updateContent(false,null,N,true);};if(L!==null){this.updateContent(false,null,L,true);};};};},onSelectionChanged:function(){this.updateContent(false,null,null,true);},onFocusChanged:function(){this.updateContent(false,null,null,true);},setColumnWidth:function(O,P){this.updateContent(true);},onColOrderChanged:function(){this.updateContent(true);},onPaneModelChanged:function(){this.updateContent(true);},onTableModelDataChanged:function(Q,R,S,T){this.__pW();var V=this.getFirstVisibleRow();var U=this.getVisibleRowCount();if(R==-1||R>=V&&Q<V+U){this.updateContent();};},onTableModelMetaDataChanged:function(){this.updateContent(true);},_applyMaxCacheLines:function(W,X){if(this.__pV>=W&&W!==-1){this.__pW();};},__pW:function(){this.__pT=[];this.__pV=0;},__pX:function(Y,ba,bb){if(!ba&&!bb&&this.__pT[Y]){return this.__pT[Y];}else {return null;};},__pY:function(bc,bd,be,bf){var bg=this.getMaxCacheLines();if(!be&&!bf&&!this.__pT[bc]&&bg>0){this._applyMaxCacheLines(bg);this.__pT[bc]=bd;this.__pV+=1;};},updateContent:function(bh,bi,bj,bk){if(bh){this.__pW();};if(bi&&Math.abs(bi)<=Math.min(10,this.getVisibleRowCount())){this._scrollContent(bi);}else if(bk&&!this.getTable().getAlwaysUpdateCells()){this._updateRowStyles(bj);}else {this._updateAllRows();};},_updateRowStyles:function(bl){var bp=this.getContentElement().getDomElement();if(!bp||!bp.firstChild){this._updateAllRows();return;};var bt=this.getTable();var bn=bt.getSelectionModel();var bq=bt.getTableModel();var bu=bt.getDataRowRenderer();var bo=bp.firstChild.childNodes;var bs={table:bt};var bv=this.getFirstVisibleRow();var y=0;var bm=bo.length;if(bl!=null){var br=bl-bv;if(br>=0&&br<bm){bv=bl;y=br;bm=br+1;}else {return;};};for(;y<bm;y++,bv++){bs.row=bv;bs.selected=bn.isSelectedIndex(bv);bs.focusedRow=(this.__pf==bv);bs.rowData=bq.getRowData(bv);bu.updateDataRowElement(bs,bo[y]);};},_getRowsHtml:function(bw,bx){var bD=this.getTable();var bG=bD.getSelectionModel();var bA=bD.getTableModel();var bB=bD.getTableColumnModel();var bV=this.getPaneScroller().getTablePaneModel();var bL=bD.getDataRowRenderer();bA.prefetchRows(bw,bw+bx-1);var bS=bD.getRowHeight();var bU=bV.getColumnCount();var bC=0;var bz=[];for(var x=0;x<bU;x++){var bY=bV.getColumnAtX(x);var bF=bB.getColumnWidth(bY);bz.push({col:bY,xPos:x,editable:bA.isColumnEditable(bY),focusedCol:this.__pe==bY,styleLeft:bC,styleWidth:bF});bC+=bF;};var bX=[];var ca=false;for(var bE=bw;bE<bw+bx;bE++){var bH=bG.isSelectedIndex(bE);var bK=(this.__pf==bE);var bP=this.__pX(bE,bH,bK);if(bP){bX.push(bP);continue;};var by=[];var bR={table:bD};bR.styleHeight=bS;bR.row=bE;bR.selected=bH;bR.focusedRow=bK;bR.rowData=bA.getRowData(bE);if(!bR.rowData){ca=true;};by.push(u);var bO=bL.getRowAttributes(bR);if(bO){by.push(bO);};var bN=bL.getRowClass(bR);if(bN){by.push(z,bN,n);};var bM=bL.createRowStyle(bR);bM+=p+bL.getRowHeightStyle(bS)+w;if(bM){by.push(d,bM,n);};by.push(C);var bW=false;for(x=0;x<bU&&!bW;x++){var bI=bz[x];for(var bT in bI){bR[bT]=bI[bT];};var bY=bR.col;bR.value=bA.getValue(bY,bE);var bJ=bB.getDataCellRenderer(bY);bR.style=bJ.getDefaultCellStyle();bW=bJ.createDataCellHtml(bR,by)||false;};by.push(q);var bQ=by.join(m);this.__pY(bE,bQ,bH,bK);bX.push(bQ);};this.fireDataEvent(f,ca);return bX.join(m);},_scrollContent:function(cb){var cc=this.getContentElement().getDomElement();if(!(cc&&cc.firstChild)){this._updateAllRows();return;};var cl=cc.firstChild;var cd=cl.childNodes;var cj=this.getVisibleRowCount();var ci=this.getFirstVisibleRow();var cg=this.getTable().getTableModel();var cm=0;cm=cg.getRowCount();if(ci+cj>cm){this._updateAllRows();return;};var cn=cb<0?cj+cb:0;var ce=cb<0?0:cj-cb;for(var i=Math.abs(cb)-1;i>=0;i--){var ch=cd[cn];try{cl.removeChild(ch);}catch(co){break;};};if(!this.__pU){this.__pU=document.createElement(e);};var ck=k;ck+=this._getRowsHtml(ci+ce,Math.abs(cb));ck+=q;this.__pU.innerHTML=ck;var cf=this.__pU.firstChild.childNodes;if(cb>0){for(var i=cf.length-1;i>=0;i--){var ch=cf[0];cl.appendChild(ch);};}else {for(var i=cf.length-1;i>=0;i--){var ch=cf[cf.length-1];cl.insertBefore(ch,cl.firstChild);};};if(this.__pf!==null){this._updateRowStyles(this.__pf-cb);this._updateRowStyles(this.__pf);};this.fireEvent(o);},_updateAllRows:function(){var cs=this.getContentElement().getDomElement();if(!cs){this.addListenerOnce(A,arguments.callee,this);return;};var cy=this.getTable();var cv=cy.getTableModel();var cx=this.getPaneScroller().getTablePaneModel();var cw=cx.getColumnCount();var cp=cy.getRowHeight();var ct=this.getFirstVisibleRow();var cq=this.getVisibleRowCount();var cz=cv.getRowCount();if(ct+cq>cz){cq=Math.max(0,cz-ct);};var cr=cx.getTotalWidth();var cu;if(cq>0){cu=[s,a,(cy.getForceLineHeight()?B+cp+v:m),h,t,this._getRowsHtml(ct,cq),j];}else {cu=[];};var cA=cu.join(m);cs.innerHTML=cA;this.setWidth(cr);this.__pS=cw;this.__pi=cq;this.fireEvent(o);}},destruct:function(){this.__pU=this.__pR=this.__pT=null;}});})();(function(){var e="qx.event.type.Event",d="abstract",c="qx.ui.table.model.Abstract",b="metaDataChanged",a="qx.event.type.Data";qx.Class.define(c,{type:d,extend:qx.core.Object,implement:qx.ui.table.ITableModel,events:{"dataChanged":a,"metaDataChanged":e,"sorted":a},construct:function(){qx.core.Object.call(this);this.__ob=[];this.__oc=[];this.__od={};},members:{__ob:null,__oc:null,__od:null,__oe:null,init:function(f){},getRowCount:function(){throw new Error("getRowCount is abstract");},getRowData:function(g){return null;},isColumnEditable:function(h){return false;},isColumnSortable:function(j){return false;},sortByColumn:function(k,l){},getSortColumnIndex:function(){return -1;},isSortAscending:function(){return true;},prefetchRows:function(m,n){},getValue:function(o,p){throw new Error("getValue is abstract");},getValueById:function(q,r){return this.getValue(this.getColumnIndexById(q),r);},setValue:function(s,t,u){throw new Error("setValue is abstract");},setValueById:function(v,w,x){this.setValue(this.getColumnIndexById(v),w,x);},getColumnCount:function(){return this.__ob.length;},getColumnIndexById:function(y){return this.__od[y];},getColumnId:function(z){return this.__ob[z];},getColumnName:function(A){return this.__oc[A];},setColumnIds:function(B){this.__ob=B;this.__od={};for(var i=0;i<B.length;i++){this.__od[B[i]]=i;};this.__oc=new Array(B.length);if(!this.__oe){this.fireEvent(b);};},setColumnNamesByIndex:function(C){if(this.__ob.length!=C.length){throw new Error("this.__columnIdArr and columnNameArr have different length: "+this.__ob.length+" != "+C.length);};this.__oc=C;this.fireEvent(b);},setColumnNamesById:function(D){this.__oc=new Array(this.__ob.length);for(var i=0;i<this.__ob.length;++i){this.__oc[i]=D[this.__ob[i]];};},setColumns:function(E,F){var G=this.__ob.length==0||F;if(F==null){if(this.__ob.length==0){F=E;}else {F=this.__ob;};};if(F.length!=E.length){throw new Error("columnIdArr and columnNameArr have different length: "+F.length+" != "+E.length);};if(G){this.__oe=true;this.setColumnIds(F);this.__oe=false;};this.setColumnNamesByIndex(E);}},destruct:function(){this.__ob=this.__oc=this.__od=null;}});})();(function(){var e="qx.ui.table.model.Simple",d="Boolean",c="sorted",b="metaDataChanged",a="dataChanged";qx.Class.define(e,{extend:qx.ui.table.model.Abstract,construct:function(){qx.ui.table.model.Abstract.call(this);this.__of=[];this.__og=-1;this.__oh=[];this.__oi=null;},properties:{caseSensitiveSorting:{check:d,init:true}},statics:{_defaultSortComparatorAscending:function(f,g){var h=f[arguments.callee.columnIndex];var k=g[arguments.callee.columnIndex];if(qx.lang.Type.isNumber(h)&&qx.lang.Type.isNumber(k)){var l=isNaN(h)?isNaN(k)?0:1:isNaN(k)?-1:null;if(l!=null){return l;};};return (h>k)?1:((h==k)?0:-1);},_defaultSortComparatorInsensitiveAscending:function(m,n){var o=(m[arguments.callee.columnIndex].toLowerCase?m[arguments.callee.columnIndex].toLowerCase():m[arguments.callee.columnIndex]);var p=(n[arguments.callee.columnIndex].toLowerCase?n[arguments.callee.columnIndex].toLowerCase():n[arguments.callee.columnIndex]);if(qx.lang.Type.isNumber(o)&&qx.lang.Type.isNumber(p)){var q=isNaN(o)?isNaN(p)?0:1:isNaN(p)?-1:null;if(q!=null){return q;};};return (o>p)?1:((o==p)?0:-1);},_defaultSortComparatorDescending:function(r,s){var t=r[arguments.callee.columnIndex];var u=s[arguments.callee.columnIndex];if(qx.lang.Type.isNumber(t)&&qx.lang.Type.isNumber(u)){var v=isNaN(t)?isNaN(u)?0:1:isNaN(u)?-1:null;if(v!=null){return v;};};return (t<u)?1:((t==u)?0:-1);},_defaultSortComparatorInsensitiveDescending:function(w,x){var y=(w[arguments.callee.columnIndex].toLowerCase?w[arguments.callee.columnIndex].toLowerCase():w[arguments.callee.columnIndex]);var z=(x[arguments.callee.columnIndex].toLowerCase?x[arguments.callee.columnIndex].toLowerCase():x[arguments.callee.columnIndex]);if(qx.lang.Type.isNumber(y)&&qx.lang.Type.isNumber(z)){var A=isNaN(y)?isNaN(z)?0:1:isNaN(z)?-1:null;if(A!=null){return A;};};return (y<z)?1:((y==z)?0:-1);}},members:{__of:null,__oi:null,__oj:null,__oh:null,__og:null,__ok:null,getRowData:function(B){var C=this.__of[B];if(C==null||C.originalData==null){return C;}else {return C.originalData;};},getRowDataAsMap:function(D){var F=this.__of[D];if(F!=null){var E={};for(var G=0;G<this.getColumnCount();G++){E[this.getColumnId(G)]=F[G];};if(F.originalData!=null){for(var H in F.originalData){if(E[H]==undefined){E[H]=F.originalData[H];};};};return E;};return (F&&F.originalData)?F.originalData:null;},getDataAsMapArray:function(){var J=this.getRowCount();var I=[];for(var i=0;i<J;i++){I.push(this.getRowDataAsMap(i));};return I;},setEditable:function(K){this.__oi=[];for(var L=0;L<this.getColumnCount();L++){this.__oi[L]=K;};this.fireEvent(b);},setColumnEditable:function(M,N){if(N!=this.isColumnEditable(M)){if(this.__oi==null){this.__oi=[];};this.__oi[M]=N;this.fireEvent(b);};},isColumnEditable:function(O){return this.__oi?(this.__oi[O]==true):false;},setColumnSortable:function(P,Q){if(Q!=this.isColumnSortable(P)){if(this.__oj==null){this.__oj=[];};this.__oj[P]=Q;this.fireEvent(b);};},isColumnSortable:function(R){return (this.__oj?(this.__oj[R]!==false):true);},sortByColumn:function(S,T){var W;var V=this.__oh[S];if(V){W=(T?V.ascending:V.descending);}else {if(this.getCaseSensitiveSorting()){W=(T?qx.ui.table.model.Simple._defaultSortComparatorAscending:qx.ui.table.model.Simple._defaultSortComparatorDescending);}else {W=(T?qx.ui.table.model.Simple._defaultSortComparatorInsensitiveAscending:qx.ui.table.model.Simple._defaultSortComparatorInsensitiveDescending);};};W.columnIndex=S;this.__of.sort(W);this.__og=S;this.__ok=T;var U={columnIndex:S,ascending:T};this.fireDataEvent(c,U);this.fireEvent(b);},setSortMethods:function(X,Y){var ba;if(qx.lang.Type.isFunction(Y)){ba={ascending:Y,descending:function(bb,bc){return Y(bc,bb);}};}else {ba=Y;};this.__oh[X]=ba;},getSortMethods:function(bd){return this.__oh[bd];},clearSorting:function(){if(this.__og!=-1){this.__og=-1;this.__ok=true;this.fireEvent(b);};},getSortColumnIndex:function(){return this.__og;},_setSortColumnIndex:function(be){this.__og=be;},isSortAscending:function(){return this.__ok;},_setSortAscending:function(bf){this.__ok=bf;},getRowCount:function(){return this.__of.length;},getValue:function(bg,bh){if(bh<0||bh>=this.__of.length){throw new Error("this.__rowArr out of bounds: "+bh+" (0.."+this.__of.length+")");};return this.__of[bh][bg];},setValue:function(bi,bj,bk){if(this.__of[bj][bi]!=bk){this.__of[bj][bi]=bk;if(this.hasListener(a)){var bl={firstRow:bj,lastRow:bj,firstColumn:bi,lastColumn:bi};this.fireDataEvent(a,bl);};if(bi==this.__og){this.clearSorting();};};},setData:function(bm,bn){this.__of=bm;if(this.hasListener(a)){var bo={firstRow:0,lastRow:bm.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(a,bo);};if(bn!==false){this.clearSorting();};},getData:function(){return this.__of;},setDataAsMapArray:function(bp,bq,br){this.setData(this._mapArray2RowArr(bp,bq),br);},addRows:function(bs,bt,bu){if(bt==null){bt=this.__of.length;};bs.splice(0,0,bt,0);Array.prototype.splice.apply(this.__of,bs);var bv={firstRow:bt,lastRow:this.__of.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(a,bv);if(bu!==false){this.clearSorting();};},addRowsAsMapArray:function(bw,bx,by,bz){this.addRows(this._mapArray2RowArr(bw,by),bx,bz);},setRows:function(bA,bB,bC){if(bB==null){bB=0;};bA.splice(0,0,bB,bA.length);Array.prototype.splice.apply(this.__of,bA);var bD={firstRow:bB,lastRow:this.__of.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1};this.fireDataEvent(a,bD);if(bC!==false){this.clearSorting();};},setRowsAsMapArray:function(bE,bF,bG,bH){this.setRows(this._mapArray2RowArr(bE,bG),bF,bH);},removeRows:function(bI,bJ,bK){this.__of.splice(bI,bJ);var bL={firstRow:bI,lastRow:this.__of.length-1,firstColumn:0,lastColumn:this.getColumnCount()-1,removeStart:bI,removeCount:bJ};this.fireDataEvent(a,bL);if(bK!==false){this.clearSorting();};},_mapArray2RowArr:function(bM,bN){var bR=bM.length;var bO=this.getColumnCount();var bQ=new Array(bR);var bP;for(var i=0;i<bR;++i){bP=[];if(bN){bP.originalData=bM[i];};for(var j=0;j<bO;++j){bP[j]=bM[i][this.getColumnId(j)];};bQ[i]=bP;};return bQ;}},destruct:function(){this.__of=this.__oi=this.__oh=this.__oj=null;}});})();(function(){var a="qx.ui.table.IColumnMenuButton";qx.Interface.define(a,{properties:{menu:{}},members:{factory:function(b,c){return true;},empty:function(){return true;}}});})();(function(){var f="menu-button",e="table-column-reset-button",d="separator",c="user-button",b="qx.ui.table.columnmenu.Button",a="menu";qx.Class.define(b,{extend:qx.ui.form.MenuButton,implement:qx.ui.table.IColumnMenuButton,construct:function(){qx.ui.form.MenuButton.call(this);this.__kP=new qx.ui.core.Blocker(this);},members:{__pj:null,__kP:null,factory:function(g,h){switch(g){case a:var j=new qx.ui.menu.Menu();this.setMenu(j);return j;case f:var m=new qx.ui.table.columnmenu.MenuItem(h.text);m.setVisible(h.bVisible);this.getMenu().add(m);return m;case c:var k=new qx.ui.menu.Button(h.text);k.set({appearance:e});return k;case d:return new qx.ui.menu.Separator();default:throw new Error("Unrecognized factory request: "+g);};},getBlocker:function(){return this.__kP;},empty:function(){var n=this.getMenu();var o=n.getChildren();for(var i=0,l=o.length;i<l;i++){o[0].destroy();};}},destruct:function(){this.__kP.dispose();}});})();(function(){var t='(',s="g",r="Boolean",q="$",p="NaN",o='([0-9]{1,3}(?:',n='{0,1}[0-9]{3}){0,})',m='\\d+){0,1}',l="qx.util.format.NumberFormat",k="Infinity",d="^",j=".",g="-Infinity",c='([-+]){0,1}',b="0",f="String",e="changeNumberFormat",h="-",a="Number",i="";qx.Class.define(l,{extend:qx.core.Object,implement:qx.util.format.IFormat,construct:function(u){qx.core.Object.call(this);this.__jE=u;},properties:{minimumIntegerDigits:{check:a,init:0},maximumIntegerDigits:{check:a,nullable:true},minimumFractionDigits:{check:a,init:0},maximumFractionDigits:{check:a,nullable:true},groupingUsed:{check:r,init:true},prefix:{check:f,init:i,event:e},postfix:{check:f,init:i,event:e}},members:{__jE:null,format:function(v){switch(v){case Infinity:return k;case -Infinity:return g;case NaN:return p;};var z=(v<0);if(z){v=-v;};if(this.getMaximumFractionDigits()!=null){var G=Math.pow(10,this.getMaximumFractionDigits());v=Math.round(v*G)/G;};var F=String(Math.floor(v)).length;var w=i+v;var C=w.substring(0,F);while(C.length<this.getMinimumIntegerDigits()){C=b+C;};if(this.getMaximumIntegerDigits()!=null&&C.length>this.getMaximumIntegerDigits()){C=C.substring(C.length-this.getMaximumIntegerDigits());};var B=w.substring(F+1);while(B.length<this.getMinimumFractionDigits()){B+=b;};if(this.getMaximumFractionDigits()!=null&&B.length>this.getMaximumFractionDigits()){B=B.substring(0,this.getMaximumFractionDigits());};if(this.getGroupingUsed()){var y=C;C=i;var E;for(E=y.length;E>3;E-=3){C=i+qx.locale.Number.getGroupSeparator(this.__jE)+y.substring(E-3,E)+C;};C=y.substring(0,E)+C;};var A=this.getPrefix()?this.getPrefix():i;var x=this.getPostfix()?this.getPostfix():i;var D=A+(z?h:i)+C;if(B.length>0){D+=i+qx.locale.Number.getDecimalSeparator(this.__jE)+B;};D+=x;return D;},parse:function(H){var M=qx.lang.String.escapeRegexpChars(qx.locale.Number.getGroupSeparator(this.__jE)+i);var K=qx.lang.String.escapeRegexpChars(qx.locale.Number.getDecimalSeparator(this.__jE)+i);var I=new RegExp(d+qx.lang.String.escapeRegexpChars(this.getPrefix())+c+o+M+n+t+K+m+qx.lang.String.escapeRegexpChars(this.getPostfix())+q);var L=I.exec(H);if(L==null){throw new Error("Number string '"+H+"' does not match the number format");};var N=(L[1]==h);var P=L[2];var O=L[3];P=P.replace(new RegExp(M,s),i);var J=(N?h:i)+P;if(O!=null&&O.length!=0){O=O.replace(new RegExp(K),i);J+=j+O;};return parseFloat(J);}}});})();(function(){var h="Boolean",g="qx.ui.table.cellrenderer.Default",f=" qooxdoo-table-cell-bold",e=" qooxdoo-table-cell-right",d=" qooxdoo-table-cell-italic",c="string",b="",a="number";qx.Class.define(g,{extend:qx.ui.table.cellrenderer.Abstract,statics:{STYLEFLAG_ALIGN_RIGHT:1,STYLEFLAG_BOLD:2,STYLEFLAG_ITALIC:4,_numberFormat:null},properties:{useAutoAlign:{check:h,init:true}},members:{_getStyleFlags:function(i){if(this.getUseAutoAlign()){if(typeof i.value==a){return qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT;};};return 0;},_getCellClass:function(j){var k=qx.ui.table.cellrenderer.Abstract.prototype._getCellClass.call(this,j);if(!k){return b;};var l=this._getStyleFlags(j);if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_ALIGN_RIGHT){k+=e;};if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_BOLD){k+=f;};if(l&qx.ui.table.cellrenderer.Default.STYLEFLAG_ITALIC){k+=d;};return k;},_getContentHtml:function(m){return qx.bom.String.escape(this._formatValue(m));},_formatValue:function(n){var p=n.value;var o;if(p==null){return b;};if(typeof p==c){return p;}else if(typeof p==a){if(!qx.ui.table.cellrenderer.Default._numberFormat){qx.ui.table.cellrenderer.Default._numberFormat=new qx.util.format.NumberFormat();qx.ui.table.cellrenderer.Default._numberFormat.setMaximumFractionDigits(2);};o=qx.ui.table.cellrenderer.Default._numberFormat.format(p);}else if(p instanceof Date){o=qx.util.format.DateFormat.getDateInstance().format(p);}else {o=p.toString();};return o;}}});})();(function(){var a="qx.ui.table.pane.Clipper";qx.Class.define(a,{extend:qx.ui.container.Composite,construct:function(){qx.ui.container.Composite.call(this,new qx.ui.layout.Grow());this.setMinWidth(0);},members:{scrollToX:function(b){this.getContentElement().scrollToX(b,false);},scrollToY:function(c){this.getContentElement().scrollToY(c,true);}}});})();(function(){var q="_applyStatusBarVisible",p="columnVisibilityMenuCreateStart",o="blur",n="qx.ui.table.Table",m="columnVisibilityMenuCreateEnd",k="changeVisible",h="_applyResetSelectionOnHeaderClick",g="_applyMetaColumnCounts",f="focus",e="changeDataRowRenderer",bH="changeHeaderCellHeight",bG="Escape",bF="A",bE="changeSelectionModel",bD="Left",bC="__pd",bB="Down",bA="Integer",bz="_applyHeaderCellHeight",by="visibilityChanged",y="qx.ui.table.ITableModel",z="orderChanged",v="_applySelectionModel",w="__jQ",t="menu-button",u="menu",r="_applyAdditionalStatusBarText",s="_applyFocusCellOnMouseMove",G="table",H="_applyColumnVisibilityButtonVisible",ba="__pj",V="changeTableModel",bi="qx.event.type.Event",bd="tableWidthChanged",bu="_applyHeaderCellsVisible",bo="Object",O="_applyShowCellFocusIndicator",bx="resize",bw="verticalScrollBarChanged",bv="changeScrollY",M="_applyTableModel",R="End",T="_applyKeepFirstVisibleRowComplete",X="widthChanged",bb="one of one row",be="Home",bk="_applyRowHeight",bq="F2",A="Up",B="%1 rows",Q="qx.ui.table.selection.Model",bh="one row",bg="PageDown",bf="%1 of %2 rows",bm="keypress",bl="changeRowHeight",bc="__pc",bj="Number",a="__pk",bp="_applyContextMenuFromDataCellsOnly",C="qx.ui.table.IRowRenderer",D="Right",W="Space",b="function",d="PageUp",L="dataChanged",E="changeLocale",F="changeSelection",J="appear",Y="qx.dynlocale",bs='"',br="__pl",S="Enter",bt="metaDataChanged",N="header",bn="qx.ui.table.pane.CellEvent",I="qx.event.type.Data",K="statusbar",c="column-button",U="Function",P="Boolean";qx.Class.define(n,{extend:qx.ui.core.Widget,construct:function(bI,bJ){qx.ui.core.Widget.call(this);if(!bJ){bJ={};};if(bJ.initiallyHiddenColumns){this.setInitiallyHiddenColumns(bJ.initiallyHiddenColumns);};if(bJ.selectionManager){this.setNewSelectionManager(bJ.selectionManager);};if(bJ.selectionModel){this.setNewSelectionModel(bJ.selectionModel);};if(bJ.tableColumnModel){this.setNewTableColumnModel(bJ.tableColumnModel);};if(bJ.tablePane){this.setNewTablePane(bJ.tablePane);};if(bJ.tablePaneHeader){this.setNewTablePaneHeader(bJ.tablePaneHeader);};if(bJ.tablePaneScroller){this.setNewTablePaneScroller(bJ.tablePaneScroller);};if(bJ.tablePaneModel){this.setNewTablePaneModel(bJ.tablePaneModel);};if(bJ.columnMenu){this.setNewColumnMenu(bJ.columnMenu);};this._setLayout(new qx.ui.layout.VBox());this.__pc=new qx.ui.container.Composite(new qx.ui.layout.HBox());this._add(this.__pc,{flex:1});this.setDataRowRenderer(new qx.ui.table.rowrenderer.Default(this));this.__pd=this.getNewSelectionManager()(this);this.setSelectionModel(this.getNewSelectionModel()(this));this.setTableModel(bI||this.getEmptyTableModel());this.setMetaColumnCounts([-1]);this.setTabIndex(1);this.addListener(bm,this._onKeyPress);this.addListener(f,this._onFocusChanged);this.addListener(o,this._onFocusChanged);var bK=new qx.ui.core.Widget().set({height:0});this._add(bK);bK.addListener(bx,this._onResize,this);this.__pe=null;this.__pf=null;if(qx.core.Environment.get(Y)){qx.locale.Manager.getInstance().addListener(E,this._onChangeLocale,this);};this.initStatusBarVisible();bI=this.getTableModel();if(bI.init&&typeof (bI.init)==b){bI.init(this);};},events:{"columnVisibilityMenuCreateStart":I,"columnVisibilityMenuCreateEnd":I,"tableWidthChanged":bi,"verticalScrollBarChanged":I,"cellClick":bn,"cellDblclick":bn,"cellContextmenu":bn,"dataEdited":I},statics:{__pg:{cellClick:1,cellDblclick:1,cellContextmenu:1}},properties:{appearance:{refine:true,init:G},focusable:{refine:true,init:true},minWidth:{refine:true,init:50},initiallyHiddenColumns:{init:null},selectable:{refine:true,init:false},selectionModel:{check:Q,apply:v,event:bE},tableModel:{check:y,apply:M,event:V},rowHeight:{check:bj,init:20,apply:bk,event:bl,themeable:true},forceLineHeight:{check:P,init:true},headerCellsVisible:{check:P,init:true,apply:bu,themeable:true},headerCellHeight:{check:bA,init:16,apply:bz,event:bH,nullable:true,themeable:true},statusBarVisible:{check:P,init:true,apply:q},additionalStatusBarText:{nullable:true,init:null,apply:r},columnVisibilityButtonVisible:{check:P,init:true,apply:H,themeable:true},metaColumnCounts:{check:bo,apply:g},focusCellOnMouseMove:{check:P,init:false,apply:s},rowFocusChangeModifiesSelection:{check:P,init:true},showCellFocusIndicator:{check:P,init:true,apply:O},contextMenuFromDataCellsOnly:{check:P,init:true,apply:bp},keepFirstVisibleRowComplete:{check:P,init:true,apply:T},alwaysUpdateCells:{check:P,init:false},resetSelectionOnHeaderClick:{check:P,init:true,apply:h},dataRowRenderer:{check:C,init:null,nullable:true,event:e},modalCellEditorPreOpenFunction:{check:U,init:null,nullable:true},newColumnMenu:{check:U,init:function(){return new qx.ui.table.columnmenu.Button();}},newSelectionManager:{check:U,init:function(bL){return new qx.ui.table.selection.Manager(bL);}},newSelectionModel:{check:U,init:function(bM){return new qx.ui.table.selection.Model(bM);}},newTableColumnModel:{check:U,init:function(bN){return new qx.ui.table.columnmodel.Basic(bN);}},newTablePane:{check:U,init:function(bO){return new qx.ui.table.pane.Pane(bO);}},newTablePaneHeader:{check:U,init:function(bP){return new qx.ui.table.pane.Header(bP);}},newTablePaneScroller:{check:U,init:function(bQ){return new qx.ui.table.pane.Scroller(bQ);}},newTablePaneModel:{check:U,init:function(bR){return new qx.ui.table.pane.Model(bR);}}},members:{__pe:null,__pf:null,__pc:null,__pd:null,__ph:null,__pi:null,__oe:null,__pj:null,__pk:null,__pl:null,__pm:null,__jQ:null,_createChildControlImpl:function(bS,bT){var bU;switch(bS){case K:bU=new qx.ui.basic.Label();bU.set({allowGrowX:true});this._add(bU);break;case c:bU=this.getNewColumnMenu()();bU.set({focusable:false});var bV=bU.factory(u,{table:this});bV.addListener(J,this._initColumnMenu,this);break;};return bU||qx.ui.core.Widget.prototype._createChildControlImpl.call(this,bS);},_applySelectionModel:function(bW,bX){this.__pd.setSelectionModel(bW);if(bX!=null){bX.removeListener(F,this._onSelectionChanged,this);};bW.addListener(F,this._onSelectionChanged,this);},_applyRowHeight:function(bY,ca){var cb=this._getPaneScrollerArr();for(var i=0;i<cb.length;i++){cb[i].updateVerScrollBarMaximum();};},_applyHeaderCellsVisible:function(cc,cd){var ce=this._getPaneScrollerArr();for(var i=0;i<ce.length;i++){if(cc){ce[i]._showChildControl(N);}else {ce[i]._excludeChildControl(N);};};if(this.getColumnVisibilityButtonVisible()){this._applyColumnVisibilityButtonVisible(cc);};},_applyHeaderCellHeight:function(cf,cg){var ch=this._getPaneScrollerArr();for(var i=0;i<ch.length;i++){ch[i].getHeader().setHeight(cf);};},getEmptyTableModel:function(){if(!this.__pl){this.__pl=new qx.ui.table.model.Simple();this.__pl.setColumns([]);this.__pl.setData([]);};return this.__pl;},_applyTableModel:function(ci,cj){this.getTableColumnModel().init(ci.getColumnCount(),this);if(cj!=null){cj.removeListener(bt,this._onTableModelMetaDataChanged,this);cj.removeListener(L,this._onTableModelDataChanged,this);};ci.addListener(bt,this._onTableModelMetaDataChanged,this);ci.addListener(L,this._onTableModelDataChanged,this);this._updateStatusBar();this._updateTableData(0,ci.getRowCount(),0,ci.getColumnCount());this._onTableModelMetaDataChanged();if(cj&&ci.init&&typeof (ci.init)==b){ci.init(this);};},getTableColumnModel:function(){if(!this.__pk){var cm=this.__pk=this.getNewTableColumnModel()(this);cm.addListener(by,this._onColVisibilityChanged,this);cm.addListener(X,this._onColWidthChanged,this);cm.addListener(z,this._onColOrderChanged,this);var cl=this.getTableModel();cm.init(cl.getColumnCount(),this);var ck=this._getPaneScrollerArr();for(var i=0;i<ck.length;i++){var cn=ck[i];var co=cn.getTablePaneModel();co.setTableColumnModel(cm);};};return this.__pk;},_applyStatusBarVisible:function(cp,cq){if(cp){this._showChildControl(K);}else {this._excludeChildControl(K);};if(cp){this._updateStatusBar();};},_applyAdditionalStatusBarText:function(cr,cs){this.__ph=cr;this._updateStatusBar();},_applyColumnVisibilityButtonVisible:function(ct,cu){if(ct){this._showChildControl(c);}else {this._excludeChildControl(c);};},_applyMetaColumnCounts:function(cv,cw){var cD=cv;var cx=this._getPaneScrollerArr();var cB={};if(cv>cw){var cF=qx.event.Registration.getManager(cx[0]);for(var cG in qx.ui.table.Table.__pg){cB[cG]={};cB[cG].capture=cF.getListeners(cx[0],cG,true);cB[cG].bubble=cF.getListeners(cx[0],cG,false);};};this._cleanUpMetaColumns(cD.length);var cC=0;for(var i=0;i<cx.length;i++){var cH=cx[i];var cE=cH.getTablePaneModel();cE.setFirstColumnX(cC);cE.setMaxColumnCount(cD[i]);cC+=cD[i];};if(cD.length>cx.length){var cA=this.getTableColumnModel();for(var i=cx.length;i<cD.length;i++){var cE=this.getNewTablePaneModel()(cA);cE.setFirstColumnX(cC);cE.setMaxColumnCount(cD[i]);cC+=cD[i];var cH=this.getNewTablePaneScroller()(this);cH.setTablePaneModel(cE);cH.addListener(bv,this._onScrollY,this);for(cG in qx.ui.table.Table.__pg){if(!cB[cG]){break;};if(cB[cG].capture&&cB[cG].capture.length>0){var cy=cB[cG].capture;for(var j=0;j<cy.length;j++){var cz=cy[j].context;if(!cz){cz=this;}else if(cz==cx[0]){cz=cH;};cH.addListener(cG,cy[j].handler,cz,true);};};if(cB[cG].bubble&&cB[cG].bubble.length>0){var cJ=cB[cG].bubble;for(var j=0;j<cJ.length;j++){var cz=cJ[j].context;if(!cz){cz=this;}else if(cz==cx[0]){cz=cH;};cH.addListener(cG,cJ[j].handler,cz,false);};};};var cI=(i==cD.length-1)?1:0;this.__pc.add(cH,{flex:cI});cx=this._getPaneScrollerArr();};};for(var i=0;i<cx.length;i++){var cH=cx[i];var cK=(i==(cx.length-1));cH.getHeader().setHeight(this.getHeaderCellHeight());cH.setTopRightWidget(cK?this.getChildControl(c):null);};if(!this.isColumnVisibilityButtonVisible()){this._excludeChildControl(c);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_applyFocusCellOnMouseMove:function(cL,cM){var cN=this._getPaneScrollerArr();for(var i=0;i<cN.length;i++){cN[i].setFocusCellOnMouseMove(cL);};},_applyShowCellFocusIndicator:function(cO,cP){var cQ=this._getPaneScrollerArr();for(var i=0;i<cQ.length;i++){cQ[i].setShowCellFocusIndicator(cO);};},_applyContextMenuFromDataCellsOnly:function(cR,cS){var cT=this._getPaneScrollerArr();for(var i=0;i<cT.length;i++){cT[i].setContextMenuFromDataCellsOnly(cR);};},_applyKeepFirstVisibleRowComplete:function(cU,cV){var cW=this._getPaneScrollerArr();for(var i=0;i<cW.length;i++){cW[i].onKeepFirstVisibleRowCompleteChanged();};},_applyResetSelectionOnHeaderClick:function(cX,cY){var da=this._getPaneScrollerArr();for(var i=0;i<da.length;i++){da[i].setResetSelectionOnHeaderClick(cX);};},getSelectionManager:function(){return this.__pd;},_getPaneScrollerArr:function(){return this.__pc.getChildren();},getPaneScroller:function(db){return this._getPaneScrollerArr()[db];},_cleanUpMetaColumns:function(dc){var dd=this._getPaneScrollerArr();if(dd!=null){for(var i=dd.length-1;i>=dc;i--){dd[i].destroy();};};},_onChangeLocale:function(de){this.updateContent();this._updateStatusBar();},_onChangeTheme:function(){qx.ui.core.Widget.prototype._onChangeTheme.call(this);this.getDataRowRenderer().initThemeValues();this.updateContent();this._updateStatusBar();},_onSelectionChanged:function(df){var dg=this._getPaneScrollerArr();for(var i=0;i<dg.length;i++){dg[i].onSelectionChanged();};this._updateStatusBar();},_onTableModelMetaDataChanged:function(dh){var di=this._getPaneScrollerArr();for(var i=0;i<di.length;i++){di[i].onTableModelMetaDataChanged();};this._updateStatusBar();},_onTableModelDataChanged:function(dj){var dk=dj.getData();this._updateTableData(dk.firstRow,dk.lastRow,dk.firstColumn,dk.lastColumn,dk.removeStart,dk.removeCount);},_updateTableData:function(dl,dm,dn,dp,dq,dr){var ds=this._getPaneScrollerArr();if(dr){this.getSelectionModel().removeSelectionInterval(dq,dq+dr);if(this.__pf>=dq&&this.__pf<(dq+dr)){this.setFocusedCell();};};for(var i=0;i<ds.length;i++){ds[i].onTableModelDataChanged(dl,dm,dn,dp);};var dt=this.getTableModel().getRowCount();if(dt!=this.__pi){this.__pi=dt;this._updateScrollBarVisibility();this._updateStatusBar();};},_onScrollY:function(du){if(!this.__oe){this.__oe=true;var dv=this._getPaneScrollerArr();for(var i=0;i<dv.length;i++){dv[i].setScrollY(du.getData());};this.__oe=false;};},_onKeyPress:function(dw){if(!this.getEnabled()){return;};var dD=this.__pf;var dA=true;var dE=dw.getKeyIdentifier();if(this.isEditing()){if(dw.getModifiers()==0){switch(dE){case S:this.stopEditing();var dD=this.__pf;this.moveFocusedCell(0,1);if(this.__pf!=dD){dA=this.startEditing();};break;case bG:this.cancelEditing();this.focus();break;default:dA=false;break;};};}else {if(dw.isCtrlPressed()){dA=true;switch(dE){case bF:var dB=this.getTableModel().getRowCount();if(dB>0){this.getSelectionModel().setSelectionInterval(0,dB-1);};break;default:dA=false;break;};}else {switch(dE){case W:this.__pd.handleSelectKeyDown(this.__pf,dw);break;case bq:case S:this.startEditing();dA=true;break;case be:this.setFocusedCell(this.__pe,0,true);break;case R:var dB=this.getTableModel().getRowCount();this.setFocusedCell(this.__pe,dB-1,true);break;case bD:this.moveFocusedCell(-1,0);break;case D:this.moveFocusedCell(1,0);break;case A:this.moveFocusedCell(0,-1);break;case bB:this.moveFocusedCell(0,1);break;case d:case bg:var dz=this.getPaneScroller(0);var dC=dz.getTablePane();var dy=this.getRowHeight();var dx=(dE==d)?-1:1;dB=dC.getVisibleRowCount()-1;dz.setScrollY(dz.getScrollY()+dx*dB*dy);this.moveFocusedCell(0,dx*dB);break;default:dA=false;};};};if(dD!=this.__pf&&this.getRowFocusChangeModifiesSelection()){this.__pd.handleMoveKeyDown(this.__pf,dw);};if(dA){dw.preventDefault();dw.stopPropagation();};},_onFocusChanged:function(dF){var dG=this._getPaneScrollerArr();for(var i=0;i<dG.length;i++){dG[i].onFocusChanged();};},_onColVisibilityChanged:function(dH){var dI=this._getPaneScrollerArr();for(var i=0;i<dI.length;i++){dI[i].onColVisibilityChanged();};var dJ=dH.getData();if(this.__pj!=null&&dJ.col!=null&&dJ.visible!=null){this.__pj[dJ.col].setVisible(dJ.visible);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_onColWidthChanged:function(dK){var dL=this._getPaneScrollerArr();for(var i=0;i<dL.length;i++){var dM=dK.getData();dL[i].setColumnWidth(dM.col,dM.newWidth);};this._updateScrollerWidths();this._updateScrollBarVisibility();},_onColOrderChanged:function(dN){var dO=this._getPaneScrollerArr();for(var i=0;i<dO.length;i++){dO[i].onColOrderChanged();};this._updateScrollerWidths();this._updateScrollBarVisibility();},getTablePaneScrollerAtPageX:function(dP){var dQ=this._getMetaColumnAtPageX(dP);return (dQ!=-1)?this.getPaneScroller(dQ):null;},setFocusedCell:function(dR,dS,dT){if(!this.isEditing()&&(dR!=this.__pe||dS!=this.__pf)){if(dR===null){dR=0;};this.__pe=dR;this.__pf=dS;var dU=this._getPaneScrollerArr();for(var i=0;i<dU.length;i++){dU[i].setFocusedCell(dR,dS);};if(dR!==null&&dT){this.scrollCellVisible(dR,dS);};};},resetSelection:function(){this.getSelectionModel().resetSelection();},resetCellFocus:function(){this.setFocusedCell(null,null,false);},getFocusedColumn:function(){return this.__pe;},getFocusedRow:function(){return this.__pf;},highlightFocusedRow:function(dV){this.getDataRowRenderer().setHighlightFocusRow(dV);},clearFocusedRowHighlight:function(dW){if(dW){var dY=dW.getRelatedTarget();if(dY instanceof qx.ui.table.pane.Pane||dY instanceof qx.ui.table.pane.FocusIndicator){return;};};this.resetCellFocus();var dX=this._getPaneScrollerArr();for(var i=0;i<dX.length;i++){dX[i].onFocusChanged();};},moveFocusedCell:function(ea,eb){var ef=this.__pe;var eg=this.__pf;if(ef==null||eg==null){return;};if(ea!=0){var ee=this.getTableColumnModel();var x=ee.getVisibleX(ef);var ed=ee.getVisibleColumnCount();x=qx.lang.Number.limit(x+ea,0,ed-1);ef=ee.getVisibleColumnAtX(x);};if(eb!=0){var ec=this.getTableModel();eg=qx.lang.Number.limit(eg+eb,0,ec.getRowCount()-1);};this.setFocusedCell(ef,eg,true);},scrollCellVisible:function(eh,ei){var ej=this.getContentElement().getDomElement();if(!ej){this.addListenerOnce(J,function(){this.scrollCellVisible(eh,ei);},this);};var ek=this.getTableColumnModel();var x=ek.getVisibleX(eh);var el=this._getMetaColumnAtColumnX(x);if(el!=-1){this.getPaneScroller(el).scrollCellVisible(eh,ei);};},isEditing:function(){if(this.__pe!=null){var x=this.getTableColumnModel().getVisibleX(this.__pe);var em=this._getMetaColumnAtColumnX(x);return this.getPaneScroller(em).isEditing();};return false;},startEditing:function(){if(this.__pe!=null){var x=this.getTableColumnModel().getVisibleX(this.__pe);var eo=this._getMetaColumnAtColumnX(x);var en=this.getPaneScroller(eo).startEditing();return en;};return false;},stopEditing:function(){if(this.__pe!=null){var x=this.getTableColumnModel().getVisibleX(this.__pe);var ep=this._getMetaColumnAtColumnX(x);this.getPaneScroller(ep).stopEditing();};},cancelEditing:function(){if(this.__pe!=null){var x=this.getTableColumnModel().getVisibleX(this.__pe);var eq=this._getMetaColumnAtColumnX(x);this.getPaneScroller(eq).cancelEditing();};},updateContent:function(){var er=this._getPaneScrollerArr();for(var i=0;i<er.length;i++){er[i].getTablePane().updateContent(true);};},blockHeaderElements:function(){var es=this._getPaneScrollerArr();for(var i=0;i<es.length;i++){es[i].getHeader().getBlocker().blockContent(20);};this.getChildControl(c).getBlocker().blockContent(20);},unblockHeaderElements:function(){var et=this._getPaneScrollerArr();for(var i=0;i<et.length;i++){et[i].getHeader().getBlocker().unblockContent();};this.getChildControl(c).getBlocker().unblockContent();},_getMetaColumnAtPageX:function(eu){var ev=this._getPaneScrollerArr();for(var i=0;i<ev.length;i++){var ew=ev[i].getContainerLocation();if(eu>=ew.left&&eu<=ew.right){return i;};};return -1;},_getMetaColumnAtColumnX:function(ex){var ez=this.getMetaColumnCounts();var eA=0;for(var i=0;i<ez.length;i++){var ey=ez[i];eA+=ey;if(ey==-1||ex<eA){return i;};};return -1;},_updateStatusBar:function(){var eB=this.getTableModel();if(this.getStatusBarVisible()){var eC=this.getSelectionModel().getSelectedCount();var eE=eB.getRowCount();var eD;if(eE>=0){if(eC==0){eD=this.trn(bh,B,eE,eE);}else {eD=this.trn(bb,bf,eE,eC,eE);};};if(this.__ph){if(eD){eD+=this.__ph;}else {eD=this.__ph;};};if(eD){this.getChildControl(K).setValue(eD);};};},_updateScrollerWidths:function(){var eF=this._getPaneScrollerArr();for(var i=0;i<eF.length;i++){var eH=(i==(eF.length-1));var eI=eF[i].getTablePaneModel().getTotalWidth();eF[i].setPaneWidth(eI);var eG=eH?1:0;eF[i].setLayoutProperties({flex:eG});};},_updateScrollBarVisibility:function(){if(!this.getBounds()){return;};var eM=qx.ui.table.pane.Scroller.HORIZONTAL_SCROLLBAR;var eO=qx.ui.table.pane.Scroller.VERTICAL_SCROLLBAR;var eJ=this._getPaneScrollerArr();var eL=false;var eN=false;for(var i=0;i<eJ.length;i++){var eP=(i==(eJ.length-1));var eK=eJ[i].getNeededScrollBars(eL,!eP);if(eK&eM){eL=true;};if(eP&&(eK&eO)){eN=true;};};for(var i=0;i<eJ.length;i++){var eP=(i==(eJ.length-1));eJ[i].setHorizontalScrollBarVisible(eL);if(eP){if(this.__pm==null){this.__pm=eJ[i].getVerticalScrollBarVisible();this.__jQ=qx.event.Timer.once(function(){this.__pm=null;this.__jQ=null;},this,0);};};eJ[i].setVerticalScrollBarVisible(eP&&eN);if(eP&&eN!=this.__pm){this.fireDataEvent(bw,eN);};};},_initColumnMenu:function(){var eS=this.getTableModel();var eT=this.getTableColumnModel();var eU=this.getChildControl(c);eU.empty();var eR=eU.getMenu();var eV={table:this,menu:eR,columnButton:eU};this.fireDataEvent(p,eV);this.__pj={};for(var eW=0,l=eS.getColumnCount();eW<l;eW++){var eQ=eU.factory(t,{text:eS.getColumnName(eW),column:eW,bVisible:eT.isColumnVisible(eW)});qx.core.Assert.assertInterface(eQ,qx.ui.table.IColumnMenuItem);eQ.addListener(k,this._createColumnVisibilityCheckBoxHandler(eW),this);this.__pj[eW]=eQ;};eV={table:this,menu:eR,columnButton:eU};this.fireDataEvent(m,eV);},_createColumnVisibilityCheckBoxHandler:function(eX){return function(eY){var fa=this.getTableColumnModel();fa.setColumnVisible(eX,eY.getData());};},setColumnWidth:function(fb,fc){this.getTableColumnModel().setColumnWidth(fb,fc);},_onResize:function(){this.fireEvent(bd);this._updateScrollerWidths();this._updateScrollBarVisibility();},addListener:function(fd,fe,self,ff){if(this.self(arguments).__pg[fd]){var fh=[fd];for(var i=0,fg=this._getPaneScrollerArr();i<fg.length;i++){fh.push(fg[i].addListener.apply(fg[i],arguments));};return fh.join(bs);}else {return qx.ui.core.Widget.prototype.addListener.call(this,fd,fe,self,ff);};},removeListener:function(fi,fj,self,fk){if(this.self(arguments).__pg[fi]){for(var i=0,fl=this._getPaneScrollerArr();i<fl.length;i++){fl[i].removeListener.apply(fl[i],arguments);};}else {qx.ui.core.Widget.prototype.removeListener.call(this,fi,fj,self,fk);};},removeListenerById:function(fm){var fq=fm.split(bs);var fp=fq.shift();if(this.self(arguments).__pg[fp]){var fo=true;for(var i=0,fn=this._getPaneScrollerArr();i<fn.length;i++){fo=fn[i].removeListenerById.call(fn[i],fq[i])&&fo;};return fo;}else {return qx.ui.core.Widget.prototype.removeListenerById.call(this,fm);};},destroy:function(){this.getChildControl(c).getMenu().destroy();qx.ui.core.Widget.prototype.destroy.call(this);}},destruct:function(){if(qx.core.Environment.get(Y)){qx.locale.Manager.getInstance().removeListener(E,this._onChangeLocale,this);};var fs=this.getSelectionModel();if(fs){fs.dispose();};var fr=this.getDataRowRenderer();if(fr){fr.dispose();};this._cleanUpMetaColumns(0);this.getTableColumnModel().dispose();this._disposeObjects(bC,bc,br,br,a,w);this._disposeMap(ba);}});})();(function(){var f="Function",e="abstract",d="number",c="appear",b="qx.ui.table.celleditor.AbstractField",a="";qx.Class.define(b,{extend:qx.core.Object,implement:qx.ui.table.ICellEditorFactory,type:e,properties:{validationFunction:{check:f,nullable:true,init:null}},members:{_createEditor:function(){throw new Error("Abstract method call!");},createCellEditor:function(g){var h=this._createEditor();h.originalValue=g.value;if(g.value===null||g.value===undefined){g.value=a;};h.setValue(a+g.value);h.addListener(c,function(){h.selectAllText();});return h;},getCellEditorValue:function(i){var k=i.getValue();var j=this.getValidationFunction();if(j){k=j(k,i.originalValue);};if(typeof i.originalValue==d){k=parseFloat(k);};return k;}}});})();(function(){var b="qx.ui.table.selection.Model",a="qx.ui.table.selection.Manager";qx.Class.define(a,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);},properties:{selectionModel:{check:b}},members:{__pM:null,handleMouseDown:function(c,d){if(d.isLeftPressed()){var e=this.getSelectionModel();if(!e.isSelectedIndex(c)){this._handleSelectEvent(c,d);this.__pM=true;}else {this.__pM=false;};}else if(d.isRightPressed()&&d.getModifiers()==0){var e=this.getSelectionModel();if(!e.isSelectedIndex(c)){e.setSelectionInterval(c,c);};};},handleMouseUp:function(f,g){if(g.isLeftPressed()&&!this.__pM){this._handleSelectEvent(f,g);};},handleClick:function(h,i){},handleSelectKeyDown:function(j,k){this._handleSelectEvent(j,k);},handleMoveKeyDown:function(l,m){var o=this.getSelectionModel();switch(m.getModifiers()){case 0:o.setSelectionInterval(l,l);break;case qx.event.type.Dom.SHIFT_MASK:var n=o.getAnchorSelectionIndex();if(n==-1){o.setSelectionInterval(l,l);}else {o.setSelectionInterval(n,l);};break;};},_handleSelectEvent:function(p,q){var t=this.getSelectionModel();var r=t.getLeadSelectionIndex();var s=t.getAnchorSelectionIndex();if(q.isShiftPressed()){if(p!=r||t.isSelectionEmpty()){if(s==-1){s=p;};if(q.isCtrlOrCommandPressed()){t.addSelectionInterval(s,p);}else {t.setSelectionInterval(s,p);};};}else if(q.isCtrlOrCommandPressed()){if(t.isSelectedIndex(p)){t.removeSelectionInterval(p,p);}else {t.addSelectionInterval(p,p);};}else {t.setSelectionInterval(p,p);};}}});})();(function(){var c="number",b="qx.ui.table.celleditor.TextField",a="table-editor-textfield";qx.Class.define(b,{extend:qx.ui.table.celleditor.AbstractField,members:{getCellEditorValue:function(d){var f=d.getValue();var e=this.getValidationFunction();if(e){f=e(f,d.originalValue);};if(typeof d.originalValue==c){if(f!=null){f=parseFloat(f);};};return f;},_createEditor:function(){var g=new qx.ui.form.TextField();g.setAppearance(a);return g;}}});})();(function(){var k="__oR",j="widthChanged",h="qx.ui.table.columnmodel.Basic",g="__oP",f="headerCellRendererChanged",e="__oQ",d="visibilityChanged",c="orderChanged",b="visibilityChangedPre",a="qx.event.type.Data";qx.Class.define(h,{extend:qx.core.Object,construct:function(){qx.core.Object.call(this);this.__oL=[];this.__oM=[];},events:{"widthChanged":a,"visibilityChangedPre":a,"visibilityChanged":a,"orderChanged":a,"headerCellRendererChanged":a},statics:{DEFAULT_WIDTH:100,DEFAULT_HEADER_RENDERER:qx.ui.table.headerrenderer.Default,DEFAULT_DATA_RENDERER:qx.ui.table.cellrenderer.Default,DEFAULT_EDITOR_FACTORY:qx.ui.table.celleditor.TextField},members:{__oe:null,__oN:null,__oM:null,__oL:null,__oO:null,__oP:null,__oQ:null,__oR:null,init:function(l,m){{};this.__oO=[];var q=qx.ui.table.columnmodel.Basic.DEFAULT_WIDTH;var r=this.__oP||(this.__oP=new qx.ui.table.columnmodel.Basic.DEFAULT_HEADER_RENDERER());var o=this.__oQ||(this.__oQ=new qx.ui.table.columnmodel.Basic.DEFAULT_DATA_RENDERER());var n=this.__oR||(this.__oR=new qx.ui.table.columnmodel.Basic.DEFAULT_EDITOR_FACTORY());this.__oL=[];this.__oM=[];var t;if(m){t=m.getInitiallyHiddenColumns();};t=t||[];for(var u=0;u<l;u++){this.__oO[u]={width:q,headerRenderer:r,dataRenderer:o,editorFactory:n};this.__oL[u]=u;this.__oM[u]=u;};this.__oN=null;this.__oe=true;for(var s=0;s<t.length;s++){this.setColumnVisible(t[s],false);};this.__oe=false;for(u=0;u<l;u++){var p={col:u,visible:this.isColumnVisible(u)};this.fireDataEvent(b,p);this.fireDataEvent(d,p);};},getVisibleColumns:function(){return this.__oM!=null?this.__oM:[];},setColumnWidth:function(v,w,y){{};var A=this.__oO[v].width;if(A!=w){this.__oO[v].width=w;var z={col:v,newWidth:w,oldWidth:A,isMouseAction:y||false};this.fireDataEvent(j,z);};},getColumnWidth:function(B){{};return this.__oO[B].width;},setHeaderCellRenderer:function(C,D){{};var E=this.__oO[C].headerRenderer;if(E!==this.__oP){E.dispose();};this.__oO[C].headerRenderer=D;this.fireDataEvent(f,{col:C});},getHeaderCellRenderer:function(F){{};return this.__oO[F].headerRenderer;},setDataCellRenderer:function(G,H){{};this.__oO[G].dataRenderer=H;var I=this.__oO[G].dataRenderer;if(I!==this.__oQ){return I;};return null;},getDataCellRenderer:function(J){{};return this.__oO[J].dataRenderer;},setCellEditorFactory:function(K,L){{};var M=this.__oO[K].editorFactory;if(M!==this.__oR){M.dispose();};this.__oO[K].editorFactory=L;},getCellEditorFactory:function(N){{};return this.__oO[N].editorFactory;},_getColToXPosMap:function(){if(this.__oN==null){this.__oN={};for(var Q=0;Q<this.__oL.length;Q++){var P=this.__oL[Q];this.__oN[P]={overX:Q};};for(var O=0;O<this.__oM.length;O++){var P=this.__oM[O];this.__oN[P].visX=O;};};return this.__oN;},getVisibleColumnCount:function(){return this.__oM!=null?this.__oM.length:0;},getVisibleColumnAtX:function(R){{};return this.__oM[R];},getVisibleX:function(S){{};return this._getColToXPosMap()[S].visX;},getOverallColumnCount:function(){return this.__oL.length;},getOverallColumnAtX:function(T){{};return this.__oL[T];},getOverallX:function(U){{};return this._getColToXPosMap()[U].overX;},isColumnVisible:function(V){{};return (this._getColToXPosMap()[V].visX!=null);},setColumnVisible:function(W,X){{};if(X!=this.isColumnVisible(W)){if(X){var be=this._getColToXPosMap();var bb=be[W].overX;if(bb==null){throw new Error("Showing column failed: "+W+". The column is not added to this TablePaneModel.");};var bc;for(var x=bb+1;x<this.__oL.length;x++){var bd=this.__oL[x];var Y=be[bd].visX;if(Y!=null){bc=Y;break;};};if(bc==null){bc=this.__oM.length;};this.__oM.splice(bc,0,W);}else {var ba=this.getVisibleX(W);this.__oM.splice(ba,1);};this.__oN=null;if(!this.__oe){var bf={col:W,visible:X};this.fireDataEvent(b,bf);this.fireDataEvent(d,bf);};};},moveColumn:function(bg,bh){{};this.__oe=true;var bk=this.__oL[bg];var bi=this.isColumnVisible(bk);if(bi){this.setColumnVisible(bk,false);};this.__oL.splice(bg,1);this.__oL.splice(bh,0,bk);this.__oN=null;if(bi){this.setColumnVisible(bk,true);};this.__oe=false;var bj={col:bk,fromOverXPos:bg,toOverXPos:bh};this.fireDataEvent(c,bj);},setColumnsOrder:function(bl){{};if(bl.length==this.__oL.length){this.__oe=true;var bo=new Array(bl.length);for(var bm=0;bm<this.__oL.length;bm++){var bn=this.isColumnVisible(bm);bo[bm]=bn;if(bn){this.setColumnVisible(bm,false);};};this.__oL=qx.lang.Array.clone(bl);this.__oN=null;for(var bm=0;bm<this.__oL.length;bm++){if(bo[bm]){this.setColumnVisible(bm,true);};};this.__oe=false;this.fireDataEvent(c);}else {throw new Error("setColumnsOrder: Invalid number of column positions given, expected "+this.__oL.length+", got "+bl.length);};}},destruct:function(){for(var i=0;i<this.__oO.length;i++){this.__oO[i].headerRenderer.dispose();this.__oO[i].dataRenderer.dispose();this.__oO[i].editorFactory.dispose();};this.__oL=this.__oM=this.__oO=this.__oN=null;this._disposeObjects(g,e,k);}});})();
});