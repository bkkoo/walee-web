qx.$$packageData['16384']={"locales":{},"resources":{"qx/static/blank.html":"qx","widgetbrowser/blank.html":"widgetbrowser","widgetbrowser/fo_tester.swf":"widgetbrowser"},"translations":{"C":{},"en":{}}};
qx.Part.$$notifyLoad("16384", function() {
(function(){var d="movie",c="id",b="qx.html.Flash",a="div";qx.Class.define(b,{extend:qx.html.Element,construct:function(e,f){qx.html.Element.call(this,a,e,f);this.__Jj={};this.__Jk={};this.__Jl={};},members:{__Jj:null,__Jl:null,__Jk:null,__Jc:null,_createDomElement:function(){return qx.dom.Element.create(a);},createFlash:function(){this.__Jc=qx.bom.Flash.create(this.getDomElement(),this.getAttributes(),this.__Jk,this.__Jj);},setSource:function(g){{};if(this.__Jc){throw new Error("The source cannot be modified after initial creation");};this.setAttribute(d,g);},setId:function(h){{};if(this.__Jc){throw new Error("The id cannot be modified after initial creation");};this.setAttribute(c,h);},getVariables:function(){return this.__Jk;},setVariables:function(i){{};if(this.__Jc){throw new Error("The variables cannot be modified after initial creation");};this.__Jk=i;},getAttributes:function(){return this.__Jl;},setAttribute:function(j,k){{};if(this.__Jc){throw new Error("The attributes cannot be modified after initial creation");};if(k===null||k===undefined){delete this.__Jl[j];}else {this.__Jl[j]=k;};},getParams:function(){return this.__Jj;},setParam:function(l,m){{};if(this.__Jc){throw new Error("The params cannot be modified after initial creation");};if(m===null||m===undefined){delete this.__Jj[l];}else {this.__Jj[l]=m;};},getFlashElement:function(){return this.__Jc;}},destruct:function(){if(this.__Jc){qx.bom.Flash.destroy(this.__Jc);};this.__Jj=this.__Jk=this.__Jl=null;}});})();(function(){var k="function",j="application/x-shockwave-flash",h='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">',g="param",f='" />',e="qx.bom.Flash",d='<param name="',c="load",b="type",a="name",A="data",z="",y="mshtml",x="value",w="&",v='<object id="',u='" value="',t='" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">',s="undefined",r="100%",p='</object>',q="movie",n="beforeunload",o="=",l="object",m="engine.name";qx.Class.define(e,{statics:{_flashObjects:{},create:function(B,C,D,E,F){if(!F){F=window;};{};if(!C.width){C.width=r;};if(!C.height){C.height=r;};E=E?qx.lang.Object.clone(E):{};if(!E[q]){E[q]=C.movie;};C[A]=C.movie;delete C.movie;if(D){for(var name in D){if(typeof E.flashvars!=s){E.flashvars+=w+name+o+D[name];}else {E.flashvars=name+o+D[name];};};};var G=this.__wm(B,C,E,F);this._flashObjects[C.id]=G;return G;},destroy:qx.core.Environment.select(m,{"mshtml":function(H,I){H=this.__wh(H);if(H.readyState==4){this.__wi(H);}else {if(!I){I=window;};qx.bom.Event.addNativeListener(I,c,function(){qx.bom.Flash.__wi(H);});};},"default":function(J,K){J=this.__wh(J);if(J.parentNode){J.parentNode.removeChild(J);};delete this._flashObjects[J.id];}}),__wh:function(L){if(!L){throw new Error("DOM element is null or undefined!");};if(L.tagName.toLowerCase()!==l){L=L.firstChild;};if(!L||L.tagName.toLowerCase()!==l){throw new Error("DOM element has or is not a flash object!");};return L;},__wi:qx.core.Environment.select(m,{"mshtml":qx.event.GlobalError.observeMethod(function(M){for(var i in M){if(typeof M[i]==k){M[i]=null;};};if(M.parentNode){M.parentNode.removeChild(M);};delete this._flashObjects[M.id];}),"default":null}),__wj:qx.event.GlobalError.observeMethod(function(){for(var N in qx.bom.Flash._flashObjects){qx.bom.Flash.destroy(qx.bom.Flash._flashObjects[N]);};window.__wk=function(){};window.__wl=function(){};qx.bom.Event.removeNativeListener(window,n,qx.bom.Flash.__wj);}),__wm:qx.core.Environment.select(m,{"mshtml":function(O,P,Q,R){Q.movie=P.data;delete P.data;delete P.classid;var S=z;for(name in Q){S+=d+name+u+Q[name]+f;};if(P.id){O.innerHTML=v+P.id+t+S+p;delete P.id;}else {O.innerHTML=h+S+p;};for(var name in P){O.firstChild.setAttribute(name,P[name]);};return O.firstChild;},"default":function(T,U,V,W){delete U.classid;delete V.movie;var Y=qx.dom.Element.create(l,U,W);Y.setAttribute(b,j);var X;for(var name in V){X=qx.dom.Element.create(g,{},W);X.setAttribute(a,name);X.setAttribute(x,V[name]);Y.appendChild(X);};T.appendChild(Y);return Y;}})},defer:function(ba){if((qx.core.Environment.get(m)==y)){qx.bom.Event.addNativeListener(window,n,ba.__wj);};}});})();(function(){var j="resize",i="_applyCanvasWidth",h="redraw",g="Boolean",f="__IY",d="_applyCanvasHeight",c="qx.ui.embed.Canvas",b="qx.event.type.Data",a="Integer";qx.Class.define(c,{extend:qx.ui.core.Widget,construct:function(k,l){qx.ui.core.Widget.call(this);this.__IY=new qx.util.DeferredCall(this.__Ja,this);this.addListener(j,this._onResize,this);if(k!==undefined){this.setCanvasWidth(k);};if(l!==undefined){this.setCanvasHeight(l);};},events:{"redraw":b},properties:{syncDimension:{check:g,init:false},canvasWidth:{check:a,init:300,apply:i},canvasHeight:{check:a,init:150,apply:d}},members:{__IY:null,_createContentElement:function(){return new qx.html.Canvas();},__Ja:function(){var n=this.getContentElement();var p=n.getHeight();var m=n.getWidth();var o=n.getContext2d();this._draw(m,p,o);this.fireNonBubblingEvent(h,qx.event.type.Data,[{width:m,height:p,context:o}]);},_applyCanvasWidth:function(q,r){this.getContentElement().setWidth(q);this.__IY.schedule();},_applyCanvasHeight:function(s,t){this.getContentElement().setHeight(s);this.__IY.schedule();},update:function(){this.__IY.schedule();},_onResize:function(e){var u=e.getData();if(this.getSyncDimension()){this.setCanvasHeight(u.height);this.setCanvasWidth(u.width);};},getContext2d:function(){return this.getContentElement().getContext2d();},_draw:function(v,w,x){}},destruct:function(){this._disposeObjects(f);}});})();(function(){var k="xhtml",j="_applyUseUndoRedo",i="focusOut",h="_applyMessengerMode",g="url(",f="__uA",d=")",c="InsertParagraphOnLinebreak",b="gecko",a="repeat",bh="undoRedoState",bg="div",bf="messengerContent",be="Integer",bd="NativeContextMenu",bc="focused",bb="Function",ba="Please use the method 'qx.dom.Node.isBlockNode' instead.",Y="_applyInsertParagraphOnLinebreak",X="PostProcess",r="_applyInsertLinebreakOnCtrlEnter",s="ContentType",p="px",q="set",n="DefaultFontSize",o="cursorContext",l="htmlarea",m="ready",v="loadingError",w="MessengerMode",E="_applyDefaultFontSize",C="UseUndoRedo",M="_applyDefaultFontFamily",H="_applyContentType",T="qx.ui.embed.HtmlArea",R="mshtml",y="Verdana",W="block",V="DefaultFontFamily",U="contextmenu",x="readyAfterInvalid",A="InsertLinebreakOnCtrlEnter",B="__Jp",D="qx/static/blank.gif",F="_applyPostProcess",I="absolute",O="mousedown",S="DOMNodeRemoved",t="String",u="none",z="engine.name",L="appear",K="mouseup",J="losecapture",Q="display",P="Boolean",G="qx.event.type.Event",N="qx.event.type.Data";qx.Class.define(T,{extend:qx.ui.core.Widget,construct:function(bi,bj,bk){this.__Jn={};qx.ui.core.Widget.call(this);this._setLayout(new qx.ui.layout.Grow);this.__Jr();this.__Jo={content:bi,styleInfo:bj,source:bk};qx.event.Registration.addListener(document.body,O,this.block,this,true);qx.event.Registration.addListener(document.body,K,this.release,this,true);qx.event.Registration.addListener(document.body,J,this.release,this,true);},events:{"loadingError":N,"messengerContent":N,"cursorContext":N,"ready":G,"readyAfterInvalid":G,"focused":G,"focusOut":G,"contextmenu":N,"undoRedoState":N},statics:{isBlockNode:function(bl){var bm=qx.ui.embed.HtmlArea.isBlockNode;var bn=ba;qx.log.Logger.deprecatedMethodWarning(bm,bn);return qx.dom.Node.isBlockNode(bl);},isParagraphParent:function(bo){return qx.bom.htmlarea.HtmlArea.isParagraphParent(bo);}},properties:{contentType:{check:t,init:k,apply:H},messengerMode:{check:P,init:false,apply:h},insertParagraphOnLinebreak:{check:P,init:true,apply:Y},insertLinebreakOnCtrlEnter:{check:P,init:true,apply:r},postProcess:{check:bb,nullable:true,init:null,apply:F},useUndoRedo:{check:P,init:true,apply:j},appearance:{refine:true,init:l},defaultFontFamily:{check:t,init:y,apply:M},defaultFontSize:{check:be,init:4,apply:E},focusable:{refine:true,init:true}},members:{__Jp:null,__Jn:null,__uA:null,__Jo:null,__Jq:null,_initBlockerElement:function(){if(!this.__uA){this.__uA=this._createBlockerElement();};},_applyContentType:function(bp,bq){if(this.__Jp!=null){this.__Jp.setContentType(bp);}else {this.__Jn[s]=bp;};},_applyMessengerMode:function(br,bs){if(this.__Jp!=null){this.__Jp.setMessengerMode(br);}else {this.__Jn[w]=br;};},_applyInsertParagraphOnLinebreak:function(bt,bu){if(this.__Jp!=null){this.__Jp.setInsertParagraphOnLinebreak(bt);}else {this.__Jn[c]=bt;};},_applyInsertLinebreakOnCtrlEnter:function(bv,bw){if(this.__Jp!=null){this.__Jp.setInsertLinebreakOnCtrlEnter(bv);}else {this.__Jn[A]=bv;};},_applyPostProcess:function(bx,by){if(this.__Jp!=null){this.__Jp.setPostProcess(bx);}else {this.__Jn[X]=bx;};},_applyUseUndoRedo:function(bz,bA){if(this.__Jp!=null){this.__Jp.setUseUndoRedo(bz);}else {this.__Jn[C]=bz;};},_applyDefaultFontFamily:function(bB,bC){if(this.__Jp!=null){this.__Jp.setDefaultFontFamily(bB);}else {this.__Jn[V]=bB;};},_applyDefaultFontSize:function(bD,bE){if(this.__Jp!=null){this.__Jp.setDefaultFontSize(bD);}else {this.__Jn[n]=bD;};},_applyNativeContextMenu:function(bF,bG){if(this.__Jp!=null){this.__Jp.setNativeContextMenu(bF);}else {this.__Jn[bd]=bF;};},_createBlockerElement:function(){var bH=new qx.html.Element(bg);bH.setStyles({zIndex:20,position:I,display:u});if((qx.core.Environment.get(z)==R)){bH.setStyles({backgroundImage:g+qx.util.ResourceManager.getInstance().toUri(D)+d,backgroundRepeat:a});};return bH;},__Jr:function(){this.addListenerOnce(L,this.__Js);},__Js:function(){var bI=this.getContentElement().getDomElement();this.__Jp=new qx.bom.htmlarea.HtmlArea(bI,this.__Jo.content,this.__Jo.styleInfo,this.__Jo.source);this.__Jt();this.__Ju();if((qx.core.Environment.get(z)==b)){this.__Jx();};this.addListener(L,this.forceEditable);},__Jt:function(){for(var bJ in this.__Jn){this.__Jp[q+bJ](this.__Jn[bJ]);};},__Ju:function(){this.__Jp.addListener(m,this.__Jv,this);this.__Jp.addListener(x,this.__Jv,this);this.__Jp.addListener(bc,this.__Jv,this);this.__Jp.addListener(i,this.__Jv,this);this.__Jp.addListener(v,this.__Jw,this);this.__Jp.addListener(o,this.__Jw,this);this.__Jp.addListener(U,this.__Jw,this);this.__Jp.addListener(bh,this.__Jw,this);this.__Jp.addListener(bf,this.__Jw,this);},__Jv:function(e){var bK=e.clone();this.fireEvent(bK.getType());},__Jw:function(e){var bL=e.clone();this.fireDataEvent(bL.getType(),e.getData());},__Jx:function(){this.__Jq=qx.lang.Function.bind(this.__Jy,this);var bM=this.getContainerElement().getDomElement();qx.bom.Event.addNativeListener(bM,S,this.__Jq);},__Jy:qx.event.GlobalError.observeMethod(function(e){if(this.__Jp&&!this.__Jp.isDisposed()){this.__Jp.invalidateEditor();};}),renderLayout:function(bN,top,bO,bP){qx.ui.core.Widget.prototype.renderLayout.call(this,bN,top,bO,bP);var bR=p;var bQ=this.getInsets();if(!this.__uA){this._initBlockerElement();};this.__uA.setStyles({left:bQ.left+bR,top:bQ.top+bR,width:(bO-bQ.left-bQ.right)+bR,height:(bP-bQ.top-bQ.bottom)+bR});},getIframeObject:function(){return this.__Jp!=null?this.__Jp.getIframeObject():null;},getCommandManager:function(){return this.__Jp!=null?this.__Jp.getCommandManager():null;},setValue:function(bS){if(this.__Jp!=null){this.__Jp.setValue(bS);}else {this.__Jo.content=bS;};},getValue:function(){if(this.__Jp!=null){return this.__Jp.getValue();}else {return this.__Jo.content;};},getComputedValue:function(bT){return this.__Jp!=null?this.__Jp.getHtml(bT):null;},getCompleteHtml:function(){return this.__Jp!=null?this.__Jp.getCompleteHtml():null;},getContentDocument:function(){return this.__Jp!=null?this.__Jp.getContentDocument():null;},getContentBody:function(){return this.__Jp!=null?this.__Jp.getContentBody():null;},getContentWindow:function(){return this.__Jp!=null?this.__Jp.getContentWindow():null;},getWords:function(bU){return this.__Jp!=null?this.__Jp.getWords(bU):null;},getWordsWithElement:function(){return this.__Jp!=null?this.__Jp.getWordsWithElement():null;},getTextNodes:function(){return this.__Jp!=null?this.__Jp.getTextNodes():null;},isReady:function(){return this.__Jp!=null?this.__Jp.isReady():false;},forceEditable:function(){if(this.__Jp!=null){this.__Jp.forceEditable();};},isLoaded:function(){return this.__Jp!=null?this.__Jp.isLoaded():false;},setEditable:function(bV){if(this.__Jp!=null){this.__Jp.setEditable(bV);};},getEditable:function(){return this.__Jp!=null?this.__Jp.getEditable():false;},isEditable:function(){return this.__Jp!=null?this.__Jp.isEditable():false;},insertHtml:function(bW){return this.__Jp!=null?this.__Jp.insertHtml(bW):false;},removeFormat:function(){return this.__Jp!=null?this.__Jp.removeFormat():false;},setBold:function(){return this.__Jp!=null?this.__Jp.setBold():false;},setItalic:function(){return this.__Jp!=null?this.__Jp.setItalic():false;},setUnderline:function(){return this.__Jp!=null?this.__Jp.setUnderline():false;},setStrikeThrough:function(){return this.__Jp!=null?this.__Jp.setStrikeThrough():false;},setFontSize:function(bX){return this.__Jp!=null?this.__Jp.setFontSize(bX):false;},setFontFamily:function(bY){return this.__Jp!=null?this.__Jp.setFontFamily(bY):false;},setTextColor:function(ca){return this.__Jp!=null?this.__Jp.setTextColor(ca):false;},setTextBackgroundColor:function(cb){return this.__Jp!=null?this.__Jp.setTextBackgroundColor(cb):false;},setJustifyLeft:function(){return this.__Jp!=null?this.__Jp.setJustifyLeft():false;},setJustifyCenter:function(){return this.__Jp!=null?this.__Jp.setJustifyCenter():false;},setJustifyRight:function(){return this.__Jp!=null?this.__Jp.setJustifyRight():false;},setJustifyFull:function(){return this.__Jp!=null?this.__Jp.setJustifyFull():false;},insertIndent:function(){return this.__Jp!=null?this.__Jp.insertIndent():false;},insertOutdent:function(){return this.__Jp!=null?this.__Jp.insertOutdent():false;},insertOrderedList:function(){return this.__Jp!=null?this.__Jp.insertOrderedList():false;},insertUnorderedList:function(){return this.__Jp!=null?this.__Jp.insertUnorderedList():false;},insertHorizontalRuler:function(){return this.__Jp!=null?this.__Jp.insertHorizontalRuler():false;},insertImage:function(cc){return this.__Jp!=null?this.__Jp.insertImage(cc):false;},insertHyperLink:function(cd){return this.__Jp!=null?this.__Jp.insertHyperLink(cd):false;},removeBackgroundColor:function(){return this.__Jp!=null?this.__Jp.removeBackgroundColor():false;},setBackgroundColor:function(ce){return this.__Jp!=null?this.__Jp.setBackgroundColor(ce):false;},removeBackgroundImage:function(){return this.__Jp!=null?this.__Jp.removeBackgroundImage():false;},setBackgroundImage:function(cf,cg,ch){return this.__Jp!=null?this.__Jp.setBackgroundImage(cf,cg,ch):false;},selectAll:function(){return this.__Jp!=null?this.__Jp.selectAll():false;},undo:function(){return this.__Jp!=null?this.__Jp.undo():false;},redo:function(){return this.__Jp!=null?this.__Jp.redo():false;},resetHtml:function(){if(this.__Jp!=null){this.__Jp.resetHtml();};},getHtml:function(ci){return this.__Jp!=null?this.__Jp.getHtml(ci):null;},containsOnlyPlaceholder:function(){return this.__Jp!=null?this.__Jp.containsOnlyPlaceHolder():false;},getContextInformation:function(){return this.__Jp!=null?this.__Jp.getContextInformation():null;},getSelection:function(){return this.__Jp!=null?this.__Jp.getSelection():null;},getSelectedText:function(){return this.__Jp!=null?this.__Jp.getSelectedText():null;},getSelectedHtml:function(){return this.__Jp!=null?this.__Jp.getSelectedHtml():null;},clearSelection:function(){if(this.__Jp!=null){this.__Jp.clearSelection();};},getRange:function(){return this.__Jp.getRange();},saveRange:function(){this.__Jp.saveRange();},getSavedRange:function(){return this.__Jp.getSavedRange();},resetSavedRange:function(){this.__Jp.resetSavedRange();},getFocusNode:function(){return this.__Jp!=null?this.__Jp.getFocusNode():null;},block:function(){if(!this.__uA){this._initBlockerElement();};if(!this.getContainerElement().hasChild(this.__uA)){this.getContainerElement().add(this.__uA);};this.__uA.setStyle(Q,W);},release:function(){if(this.__uA){this.__uA.setStyle(Q,u);};},focus:function(){qx.ui.core.Widget.prototype.focus.call(this);this.__Jz();},tabFocus:function(){qx.ui.core.Widget.prototype.tabFocus.call(this);this.__Jz();},__Jz:function(){if(this.__Jp!=null){qx.event.Timer.once(function(){this.__Jp.focusContent();},this,0);};}},destruct:function(){this.__Jn=this.__Jo=null;qx.event.Registration.removeListener(document.body,O,this.block,this,true);qx.event.Registration.removeListener(document.body,K,this.release,this,true);qx.event.Registration.removeListener(document.body,J,this.release,this,true);var cj=this.getContainerElement().getDomElement();if(cj){qx.bom.Event.removeNativeListener(cj,S,this.__Jq);};this._disposeObjects(f,B);}});})();(function(){var c="2d",b="qx.html.Canvas",a="canvas";qx.Class.define(b,{extend:qx.html.Element,construct:function(d,e){qx.html.Element.call(this,a,d,e);this.__Jb=document.createElement(a);},members:{__Jb:null,_createDomElement:function(){return this.__Jb;},getCanvas:function(){return this.__Jb;},setWidth:function(f){this.__Jb.width=f;},getWidth:function(){return this.__Jb.width;},setHeight:function(g){this.__Jb.height=g;},getHeight:function(){return this.__Jb.height;},getContext2d:function(){return this.__Jb.getContext(c);}},destruct:function(){this.__Jb=null;}});})();(function(){var i="_applyOverflowX",h="_applyOverflowY",g="qx.ui.core.MNativeOverflow",f="auto",e="overflowX",d="visible",c="hidden",b="scroll",a="overflowY";qx.Mixin.define(g,{properties:{overflowX:{check:[c,d,b,f],nullable:true,apply:i},overflowY:{check:[c,d,b,f],nullable:true,apply:h},overflow:{group:[e,a]}},members:{_applyOverflowX:function(j){this.getContentElement().setStyle(e,j);},_applyOverflowY:function(k){this.getContentElement().setStyle(a,k);}}});})();(function(){var o="text",n="engine.name",m="0px",l="webkit",k="changeHtml",j="_applyCssClass",i="class",h="qx.ui.embed.Html",g="_applyHtml",f="userSelect",c="html",e="",d="none",b="String",a="color";qx.Class.define(h,{extend:qx.ui.core.Widget,include:[qx.ui.core.MNativeOverflow],construct:function(p){qx.ui.core.Widget.call(this);if(p!=null){this.setHtml(p);};},properties:{html:{check:b,apply:g,event:k,nullable:true},cssClass:{check:b,init:e,apply:j},selectable:{refine:true,init:true},focusable:{refine:true,init:true}},members:{getFocusElement:function(){return this.getContentElement();},_applyHtml:function(q,r){var s=this.getContentElement();s.setAttribute(c,q||e);s.setStyles({"padding":m,"border":d});},_applyCssClass:function(t,u){this.getContentElement().setAttribute(i,t);},_applySelectable:function(v){qx.ui.core.Widget.prototype._applySelectable.call(this,v);if((qx.core.Environment.get(n)==l)){this.getContainerElement().setStyle(f,v?o:d);};},_applyFont:function(w,x){var y=w?qx.theme.manager.Font.getInstance().resolve(w).getStyles():qx.bom.Font.getDefaultStyles();if(this.getTextColor()!=null){delete y[a];};this.getContentElement().setStyles(y);},_applyTextColor:function(z,A){if(z){this.getContentElement().setStyle(a,qx.theme.manager.Color.getInstance().resolve(z));}else {this.getContentElement().removeStyle(a);};}}});})();(function(){var c="qx.util.TimerManager",b="interval",a="singleton";qx.Class.define(c,{extend:qx.core.Object,type:a,statics:{__DH:[],__DI:{},__vp:0},members:{__DJ:false,start:function(d,e,f,g,h){if(!h){h=e||0;};var j=(new Date()).getTime()+h;this.self(arguments).__DI[++this.self(arguments).__vp]={callback:d,userData:g||null,expireAt:j,recurTime:e,context:f||this};this.__DK(j,this.self(arguments).__vp);return this.self(arguments).__vp;},stop:function(k){var l=this.self(arguments).__DH;var length=l.length;for(var i=0;i<length;i++){if(l[i]==k){l.splice(i,1);break;};};delete this.self(arguments).__DI[k];if(l.length==0&&this.__DJ){qx.event.Idle.getInstance().removeListener(b,this.__DL,this);this.__DJ=false;};},__DK:function(m,n){var p=this.self(arguments).__DH;var o=this.self(arguments).__DI;var length=p.length;for(var i=0;i<length;i++){if(o[p[i]].expireAt>m){p.splice(i,0,n);break;};};if(p.length==length){p.push(n);};if(!this.__DJ){qx.event.Idle.getInstance().addListener("interval",this.__DL,this);this.__DJ=true;};},__DL:function(){var t=(new Date()).getTime();var r=this.self(arguments).__DH;var s=this.self(arguments).__DI;while(r.length>0&&s[r[0]].expireAt<=t){var v=r.shift();var q=s[v];q.callback.call(q.context,q.userData,v);if(q.recurTime&&s[v]){var u=(new Date()).getTime();q.expireAt=u+q.recurTime;this.__DK(q.expireAt,v);}else {delete s[v];};};if(r.length==0&&this.__DJ){qx.event.Idle.getInstance().removeListener("interval",this.__DL,this);this.__DJ=false;};}}});})();(function(){var j="quality",i="_applyVariables",h="low",g="_applyLoop",f="scale",e="_applyAllowScriptAccess",d="showall",c="Map",b="wmode",a="Integer",X="_applyMenu",W="loaded",V="_applyPlay",U="loop",T="allowScriptAccess",S="_applyWmode",R="menu",Q="noborder",P="loading",O="swLiveConnect",q="qx.ui.embed.Flash",r="_applyId",o="high",p="transparent",m="exactfit",n="play",k="_applyLiveConnect",l="_applySource",u="appear",v="medium",C="flash",A="timeout",G="_applyMayScript",E="_applyQuality",K="never",I="_applyScale",x="autohigh",N="always",M="window",L="noscale",w="autolow",y="mayscript",z="sameDomain",B="opaque",D="String",F="",H="best",J="undefined",s="qx.event.type.Event",t="Boolean";qx.Class.define(q,{extend:qx.ui.core.Widget,construct:function(Y,ba){qx.ui.core.Widget.call(this);{};this.setSource(Y);if(ba){this.setId(ba);}else {this.setId(C+this.toHashCode());};this.initQuality();this.initWmode();this.initAllowScriptAccess();this.initLiveConnect();this.addListenerOnce(u,function(){this._checkLoading();this.getContentElement().createFlash();},this);},events:{"loading":s,"loaded":s,"timeout":s},properties:{source:{check:D,apply:l},id:{check:D,apply:r},quality:{check:[h,w,x,v,o,H],init:H,nullable:true,apply:E},scale:{check:[d,Q,m,L],nullable:true,apply:I},wmode:{check:[M,B,p],init:B,nullable:true,apply:S},play:{check:t,nullable:true,apply:V},loop:{check:t,nullable:true,apply:g},mayScript:{check:t,nullable:false,apply:G},menu:{check:t,nullable:true,apply:X},allowScriptAccess:{check:[z,N,K],init:z,nullable:true,apply:e},liveConnect:{check:t,init:true,nullable:true,apply:k},variables:{init:{},check:c,apply:i},loadTimeout:{check:a,init:10000}},members:{__Jh:null,getFlashElement:function(){var bb=this.getContentElement();if(bb){return bb.getFlashElement();}else {return null;};},isLoaded:function(){return this.getPercentLoaded()===100;},getPercentLoaded:function(){var bc=this.getFlashElement();if(typeof (bc)!=J&&bc!=null){try{return bc.PercentLoaded();}catch(bd){return 0;};}else {return 0;};},_createContentElement:function(){return new qx.html.Flash();},_checkLoading:function(){var be=this.getSource();if(be!=F&&be!=null&&be!=J){if(!this.isLoaded()){if(!this.__Jh){this.__Jh=new Date().getTime();};var bf=new Date().getTime()-this.__Jh;if(this.getLoadTimeout()>bf){var bg=qx.util.TimerManager.getInstance();bg.start(this._checkLoading,0,this,null,10);this.fireEvent(P);}else {{};this.fireEvent(A);this.__Jh=null;};}else {this.fireEvent(W);this.__Jh=null;};};},_applySource:function(bh,bi){var bj=qx.util.ResourceManager.getInstance().toUri(bh);this.getContentElement().setSource(bj);qx.ui.core.queue.Layout.add(this);},_applyId:function(bk,bl){this.getContentElement().setId(bk);qx.ui.core.queue.Layout.add(this);},_applyVariables:function(bm,bn){this.getContentElement().setVariables(bm);qx.ui.core.queue.Layout.add(this);},_applyMayScript:function(bo,bp){this.getContentElement().setAttribute(y,bo?F:false);qx.ui.core.queue.Layout.add(this);},_applyQuality:function(bq,br){this.__Ji(j,bq);},_applyScale:function(bs,bt){this.__Ji(f,bs);},_applyWmode:function(bu,bv){this.__Ji(b,bu);},_applyPlay:function(bw,bx){this.__Ji(n,bw);},_applyLoop:function(by,bz){this.__Ji(U,by);},_applyMenu:function(bA,bB){this.__Ji(R,bA);},_applyAllowScriptAccess:function(bC,bD){this.__Ji(T,bC);},_applyLiveConnect:function(bE,bF){this.__Ji(O,bE);},__Ji:function(bG,bH){this.getContentElement().setParam(bG,bH);qx.ui.core.queue.Layout.add(this);}}});})();(function(){var dN="qx.blankpage",dM='</span>',dL="backgroundColor",dK="li",dJ='undo',dI="<br class='webkit-block-placeholder' />",dH="textbackgroundcolor",dG="Function",dF="fontSize",dE="textcolor",cr="home",cq="<",cp="focused",co="fontFamily",cn="load",cl='<font ',ck="__wC",cj='id="__elementToFocus__"',ci="setUnderline",ch="backgroundPosition",dU="<!--",dV=' size="',dS='/www.w3.org/1999/xhtml" xml:lang="en" lang="en">',dT="'>",dQ='underline',dR='bold',dO="&copy;",dP="ul",dW="cursorContext",dX="readyAfterInvalid",dm="styleWithCSS",dl="span",dp=" />",dn="setBold",dr="<P>&nbsp;</P>",dq="</",dt="&gt;",ds='="',dk="paddingLeft",dj="inserthorizontalrule",o='<p>',p='</font>',q="backgroundRepeat",r="insertimage",t="a",u="&amp;",v="removeformat",w="marginLeft",x="ready",y="<p>&nbsp;</p>",en='DOCTYPE html PUBLIC "-/',em="browser.version",ek=" html, body {overflow-x: visible; } ",ej='<body>',er="insertorderedlist",eq='body { font-size:100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; background-color:transparent; overflow:visible; background-image:none; margin:0px; padding:5px; } ',ep="hideFocus",eo="none",et='/DTD XHTML 1.0 Transitional/',es='<html xmlns="http:/',br="outline",bs="setItalic",bp="font-style",bq="marginBottom",bv="xhtml",bw="focusOut",bt="justifyleft",bu='</p>',bn="paddingTop",bo="Please use the method 'qx.dom.Node.isBlockNode' instead.",S='<title></title><meta http-equiv="Content-type" content="text/html; charset=UTF-8" />',R="Control",U='<span style="font-family:',T='/W3C/',O="placeholder",N='size',Q="backgroundImage",P="marginTop",M="> ",L=" { ",bC="font-weight",bD="LI",bE='italic',bF='<!',by="\ufeff",bz="&quot;",bA="marginRight",bB="STYLE",bG="justifyfull",bH="inserthyperlink",bg="<br />",bf='html { margin:0px; padding:0px; } ',be="<br>",bd='/EN" "http:/',bc="justifycenter",bb="<br /><div id='placeholder'></div>",ba="useCSS",Y="object",bk="strikethrough",bj="text/html",bI="true",bJ="1.9",bK='',bL=' style="',bM="indent",bN="messengerContent",bO="Integer",bP="insertunorderedlist",bQ="Text",bR="&lt;",cz='<br _moz_editor_bogus_node="TRUE" _moz_dirty=""/>',cy='<br/><div class="placeholder"></div>',cx="selectall",cw="transparent",cD=" SCRIPT STYLE DIV SPAN TR TD TBODY TABLE EM STRONG FONT A P B I U STRIKE H1 H2 H3 H4 H5 H6 ",cC="justifyright",cB='/www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',cA="ol",cH="//text()[string-length(normalize-space(.))>0]",cG="outdent",df="about:blank",dg="<body style='",dd="qx.bom.htmlarea.HtmlArea",de="paddingBottom",db="Verdana",dc="$",cY="-->",da=" }",dh="paddingRight",di='html { width:100%; height:100%; margin:0px; padding:0px; overflow-y:auto; overflow-x:auto; } ',dx="Off",dw='p { margin:0px; padding:0px; }',dz='body { font-size: 100.01%; font-family:Verdana, Geneva, Arial, Helvetica, sans-serif; width:100%; height:100%; background-color:transparent; overflow:auto; background-image:none; margin:0px; padding:5px; } ',dy="pageup",dB="backgroundcolor",dA="end",dD="div",dC='On',dv="redo",du="i",ef="backspace",eg="bold",eh="mouseup",ei="y",eb="style",ec="backgroundimage",ed="100%",ee='</head>',dY='<head>',ea="k",n=":",m='redo',l='Off',k='">',h="down",g="font-family",f="g",d="keypress",c="fontsize",b="undo",B="text-decoration",C="pagedown",z="justify",A="center",F="p",G='</style>',D="u",E="focus",I="control",J="click",cL='<style type="text/css">',cF="up",cS="blur",cO="font-size",cu="None",cs="'",W="delete",cv="_moz_dirty",bi=">",bh='</body></html>',bY="line-through",ca="String",cb="z",cc=";",cd="fontfamily",ce="keydown",cf="keyup",cg="focusout",bW="engine.version",bX="br",ct="inserthtml",cR="italic",cQ="body",cP="underline",cW="old_id",cV="b",cU="loadingError",cT="contextmenu",cN="enter",cM='"',H="left",bm="text-align",bl="right",cE="qx.bom.htmlarea.HtmlArea.debug",bx="qx.event.type.Data",cK="opera",cJ="id",cI="qx.event.type.Event",V=" ",cX="Boolean",K="__elementToFocus__",X="webkit",bS="gecko",bT="mshtml",bU="",bV="engine.name";qx.Class.define(dd,{extend:qx.core.Object,construct:function(eu,ev,ew,ey){qx.core.Object.call(this);var ez=ey||qx.util.ResourceManager.getInstance().toUri(qx.core.Environment.get(dN));this.__wT(eu);this.__wU();this._createAndAddIframe(ez);this._addIframeLoadListener();this.__wB=qx.bom.htmlarea.HtmlArea.__wD(ew);if(qx.lang.Type.isString(ev)){this.__vQ=ev;};this.__wC=this.__xi();},events:{"load":cI,"loadingError":bx,"messengerContent":bx,"cursorContext":bx,"ready":cI,"readyAfterInvalid":cI,"focused":cI,"focusOut":cI,"contextmenu":bx,"undoRedoState":bx},statics:{simpleLinebreak:be,EMPTY_DIV:"<div></div>",GetWordsRegExp:/([^\u0000-\u0040\u005b-\u005f\u007b-\u007f]|['])+/g,CleanupWordsRegExp:/[\u0000-\u0040]/gi,hotkeyInfo:{bold:{method:dn},italic:{method:bs},underline:{method:ci},undo:{method:b},redo:{method:dv}},__wD:function(eA){if(eA==null||eA==bU){return bU;}else if(typeof eA==Y){var eB=bU;for(var i in eA){eB+=i+L+eA[i]+da;};return eB;}else {return eA;};},__wE:function(eC){var eD={};var a=eC.split(cc);var i;for(i=0;i<a.length;i++){var eE=a[i],eF=eE.indexOf(n);if(eF===-1){continue;};var name=eE.substring(0,eF).trim();var eG=eE.substring(eF+1,eE.length).trim();if(name&&eG){eD[name]=eG;};};return eD;},__wF:function(eH,eI,eJ,eK){var eP=[];switch(eH.nodeType){case 1:case 11:var i;var eN=eH.tagName.toLowerCase();var eR={};var eL={};var closed=(!(eH.hasChildNodes()||qx.bom.htmlarea.HtmlArea.__wG(eH)));if(eI){if((qx.core.Environment.get(bV)==bT)){if(eN==dD&&eH.className&&eH.className==O){for(i=eH.firstChild;i;i=i.nextSibling){eP.push(qx.bom.htmlarea.HtmlArea.__wF(i,true,eJ,eK));};return eP.join(bU);};};var eQ=eH.attributes;var eO=eQ.length;var a;if((qx.core.Environment.get(bV)==bS)){if(eN==dl&&eO==1&&eQ[0].name==cv&&eH.childNodes.length==0){return bU;};};for(i=0;i<eO;i++){a=eQ[i];if(!a.specified){continue;};var name=qx.dom.Node.getName(a);var eS=a.nodeValue;if(/(_moz|contenteditable)/.test(name)){continue;};if(name!=eb){if(qx.core.Environment.get(bV)==bT){if(name==cJ&&eH.getAttribute(cW)){eS=eH.getAttribute(cW);}else if(!isNaN(eS)){eS=eH.getAttribute(name);}else {eS=a.nodeValue;};}else {eS=a.nodeValue;};}else {eS=eH.style.cssText;};if(/(_moz|^$)/.test(eS)){continue;};if(name==cW){continue;};if(!eS){continue;};if(name==cJ&&eS==K){continue;};if(name.charAt(0)===dc){continue;};eR[name]=eS;};if(eR.style!==undefined){eL=qx.bom.htmlarea.HtmlArea.__wE(eR.style);delete eR.style;};if(eK){var eM={domElement:eH,tag:eN,attributes:eR,styles:eL};eK(eM);eM.domElement=null;eN=eM.tag;};if(eN){eP.push(cq,eN);for(var name in eR){var eS=eR[name];eP.push(V,name,ds,eS.toString().replace(new RegExp(cM,f),cs),cM);};if(!qx.lang.Object.isEmpty(eL)){eP.push(bL);for(var name in eL){var eS=eL[name];eP.push(name,n,eS.toString().replace(new RegExp(cM,f),cs),cc);};eP.push(cM);};eP.push(closed?dp:bi);};};for(i=eH.firstChild;i;i=i.nextSibling){eP.push(qx.bom.htmlarea.HtmlArea.__wF(i,true,eJ,eK));};if(eI&&!closed&&eN){eP.push(dq,eN,bi);};break;case 3:eP.push(eJ?eH.data:qx.bom.htmlarea.HtmlArea.__wH(eH.data));break;case 8:eP.push(dU,eH.data,cY);break;};return eP.join(bU);},closingTags:cD,__wG:function(eT){return (qx.bom.htmlarea.HtmlArea.closingTags.indexOf(V+eT.tagName+V)!=-1);},__wH:function(s){s=s.replace(/&/ig,u);s=s.replace(/</ig,bR);s=s.replace(/>/ig,dt);s=s.replace(/\x22/ig,bz);s=s.replace(/\xA9/ig,dO);return s;},isBlockNode:function(eU){var eV=qx.bom.htmlarea.HtmlArea.isBlockNode;var eW=bo;qx.log.Logger.deprecatedMethodWarning(eV,eW);return qx.dom.Node.isBlockNode(eU);},isParagraphParent:function(eX){if(!qx.dom.Node.isElement(eX)){return false;};eX=qx.dom.Node.getName(eX);return /^(body|td|th|caption|fieldset|div)$/.test(eX);},isHeadlineNode:function(eY){if(!qx.dom.Node.isElement(eY)){return false;};var fa=qx.dom.Node.getName(eY);return /^h[1-6]$/.test(fa);}},properties:{contentType:{check:ca,init:bv},messengerMode:{check:cX,init:false},insertParagraphOnLinebreak:{check:cX,init:true},insertLinebreakOnCtrlEnter:{check:cX,init:true},postProcess:{check:dG,nullable:true,init:null},useUndoRedo:{check:cX,init:true},nativeContextMenu:{check:cX,init:false},defaultFontFamily:{check:ca,init:db},defaultFontSize:{check:bO,init:4}},members:{__lx:null,__eL:false,__wI:false,__wJ:false,__wK:false,__wL:false,__wC:null,__wM:null,__wN:null,__wO:null,__sN:null,__wB:null,__wP:null,__wQ:null,__wR:false,__wS:false,__wT:function(fb){if(qx.dom.Node.isElement(fb)&&qx.dom.Node.isNodeName(fb,dD)){this.__lx=fb;};},_createAndAddIframe:function(fc){this.__sN=qx.bom.Iframe.create();qx.bom.Iframe.setSource(this.__sN,fc);if((qx.core.Environment.get(bV)==bT)){qx.bom.element.Attribute.set(this.__sN,ep,bI);}else {qx.bom.element.Style.set(this.__sN,br,eo);};qx.bom.element.Style.setStyles(this.__sN,{width:ed,height:ed});qx.dom.Element.insertBegin(this.__sN,this.__lx);},_getIframeDocument:function(){return qx.bom.Iframe.getDocument(this.__sN);},_getIframeWindow:function(){return qx.bom.Iframe.getWindow(this.__sN);},_addIframeLoadListener:function(){qx.event.Registration.addListener(this.__sN,cn,this._loaded,this);},__wU:function(){this.__wP={"xhtml":{doctype:bF+en+T+et+bd+cB,html:es+dS,meta:S,style:qx.core.Environment.select(bV,{"mshtml":bf+dz,"default":di+eq}),contentStyle:dw,body:ej,footer:bh}};},__vQ:bU,getIframeObject:function(){return this.__sN;},getCommandManager:function(){return this.__wC;},setValue:function(fd){if(qx.lang.Type.isString(fd)){this.__vQ=fd;var fe=this._getIframeDocument();if(fe&&fe.body){fe.body.innerHTML=this.__wV(fd);};};},__wV:function(ff){var fi=bU;if((qx.core.Environment.get(bV)==bS)){if(qx.core.Environment.get(em)<=2){fi+=cz;};};var fj=ff.length==0?by:bU;var fh=qx.core.Environment.get(bV)==bS||qx.core.Environment.get(bV)==X?cj:bK;var fg=o+U+this.getDefaultFontFamily()+k+cl+fh+dV+this.getDefaultFontSize()+k+fi+ff+fj+p+dM+bu;return fg;},getValue:function(){return this.__vQ;},getComputedValue:function(fk){return this.getHtml(fk);},getCompleteHtml:function(){var fm=this.__wP[this.getContentType()];var fl=fm.html+dY+fm.meta+cL+fm.contentStyle+G+ee;fl+=dg+this.__wW()+dT;fl+=this.getHtml()+bh;return fl;},__wW:function(){var fp=[dL,Q,q,ch,co,dF,P,bq,w,bA,bn,de,dk,dh];var fo=qx.bom.element.Style;var fn=this.getContentBody();var fs={};var fr,ft;var fq=qx.core.Environment.get(bV)==bT?2:1;for(var i=0,j=fp.length;i<j;i++){fr=fp[i];ft=fo.get(fn,fr,fq);if(ft!==undefined&&ft!=bU){fs[fr]=ft;};};return qx.bom.element.Style.compile(fs);},getContentDocument:function(){if(this.__eL){return this._getIframeDocument();};},getContentBody:function(){if(this.__eL){return this._getIframeDocument().body;};},getContentWindow:function(){if(this.__eL){return this._getIframeWindow();};},getWords:function(fu){if(!fu){fu=this.getContentBody();};if(!fu){return [];};var fw=fu.cloneNode(true);var fy=fw.innerHTML;fy=fy.replace(/>/gi,M);fy=fy.replace(/\n/gi,V);fy=fy.replace(/<!--.*-->/gi,bU);fw.innerHTML=fy;var fv=qx.core.Environment.get(bV)==bT||qx.core.Environment.get(bV)==cK?fw.innerText:fw.textContent;var fx=fv.match(qx.bom.htmlarea.HtmlArea.GetWordsRegExp);return !fx?[]:fx;},getWordsWithElement:function(){var fA=this.getTextNodes();var fE={};var i,j,fF,fB,fz;for(var i=0,fD=fA.length;i<fD;++i){fB=fA[i];fF=fB.nodeValue.split(V);for(var j=0,fC=fF.length;j<fC;++j){fz=this._cleanupWord(fF[j]);if(fz!=null&&fz.length>1){if(!fE[fz]){fE[fz]=[];};fE[fz].push(fB);};};};return fE;},_cleanupWord:function(fG){if(!fG){return null;};return fG.replace(qx.bom.htmlarea.HtmlArea.CleanupWordsRegExp,bU);},getTextNodes:function(){return this._fetchTextNodes(this.getContentBody());},_fetchTextNodes:function(fH){var fJ=[];var fI;if(fH.hasChildNodes){for(var i=0;i<fH.childNodes.length;i++){fI=this._fetchTextNodes(fH.childNodes[i]);qx.lang.Array.append(fJ,fI);};};if(fH.nodeType==3){if(fH.nodeValue.length>1){fJ.push(fH);};};return fJ;},__wX:0,__wY:function(){var fK=this._getIframeDocument();if(!fK){this.__wX++;if(this.__wX>5){this.error('cant load HtmlArea. Document is not available. '+fK);this.fireDataEvent(cU);}else {{};qx.event.Timer.once(function(){this.__wY();},this,0);};}else {this.__wX=0;this._onDocumentIsReady();};},_loaded:function(e){if(this.__wJ){return;};if(this.__wI){this.__xa();return;};if((qx.core.Environment.get(bV)==bT)){this.__wY();}else {this._onDocumentIsReady();};},isReady:function(){return this.__eL;},_onDocumentIsReady:function(){var fL=new qx.bom.htmlarea.manager.Command(this);if(this.getUseUndoRedo()){fL=new qx.bom.htmlarea.manager.UndoRedo(fL,this);};this.__wJ=true;if((qx.core.Environment.get(bV)==bT)){this.setEditable(true);};this.__xd();if(!(qx.core.Environment.get(bV)==cK)){this.__xe();};if(!(qx.core.Environment.get(bV)==bT)){this.setEditable(true);};this.__eL=true;this.__wC=fL;fL.setContentDocument(this._getIframeDocument());this.__xj();if((qx.core.Environment.get(bV)==cK)){this.__xe();};this.fireEvent(x);},forceEditable:qx.core.Environment.select(bV,{"gecko":function(){var fM=this._getIframeDocument();if(fM){if(parseFloat(qx.core.Environment.get(bW))>=bJ){fM.designMode=dx;fM.body.contentEditable=false;fM.body.contentEditable=true;}else {fM.body.contentEditable=true;this.__xk(true);};};},"default":(function(){})}),invalidateEditor:qx.core.Environment.select(bV,{"gecko":function(){this.__wJ=false;this.__eL=false;this.__wI=true;},"default":function(){}}),__xa:qx.core.Environment.select(bV,{"gecko":function(){this.__xd();this.__xe();this.__wC.setContentDocument(this._getIframeDocument());this.setEditable(true);this.forceEditable();this.__wJ=true;this.__eL=true;this.__wI=false;this.fireEvent(dX);},"default":function(){}}),__xb:function(fN){var fP=bU;if(!fN){return fP;};try{var fO=fN.getAttribute(eb);if(!fO){return fP;};if((qx.core.Environment.get(bV)==bT)){fP=fO.cssText;}else {fP=fO;};}catch(fQ){this.error("can't extract style from elem. ");};return fP;},__xc:function(fR){var fS=qx.core.Environment.get(bV)==bS?ek:bU;var fT=this.__wP[this.getContentType()];var fU=dY+fT.meta+cL+fS+fT.style+fT.contentStyle+this.__wB+G+ee;var content=fT.body+fR;return fT.html+fU+content+fT.footer;},__xd:function(){var fW=this.__wV(this.getValue());if(qx.lang.Type.isString(fW)){var fV=this._getIframeDocument();try{fV.open(bj,true);fV.write(this.__xc(fW));fV.close();}catch(e){this.error("cant open document on source '"+qx.bom.Iframe.queryCurrentUrl(this.__sN)+"'",e);this.fireDataEvent(cU,e);};};},__xe:function(){this.__xf();this.__xh();this.__xg();},__xf:function(){var fY=qx.event.Registration;var fX=this._getIframeDocument();fY.addListener(fX.body,d,this._handleKeyPress,this);fY.addListener(fX.body,cf,this._handleKeyUp,this);fY.addListener(fX.body,ce,this._handleKeyDown,this);},__xg:function(){var gc=qx.event.Registration;var ga=this._getIframeDocument();var gb=qx.core.Environment.get(bV)==X?this._getIframeWindow():ga.body;gc.addListener(gb,E,this._handleFocusEvent,this);gc.addListener(gb,cS,this._handleBlurEvent,this);gc.addListener(ga,cg,this._handleFocusOutEvent,this);},__xh:function(){var gf=qx.event.Registration;var ge=this._getIframeDocument();var gd=qx.core.Environment.get(bV)==bT?J:eh;gf.addListener(ge.body,gd,this._handleMouseUpOnBody,this);gf.addListener(ge.documentElement,gd,this._handleMouseUpOnDocument,this);gf.addListener(ge.documentElement,cT,this._handleContextMenuEvent,this);},__xi:function(){if(this.__wM==null){this.__wM={execute:function(gg,gh){this.stackedCommands=true;this.commandStack.push({command:gg,value:gh});},commandStack:[],stackedCommands:false};};this.__wM.stackedCommands=false;return this.__wM;},__xj:function(){var gi=this.__wM;if(gi!=null&&gi.stackedCommands){var gj=gi.commandStack;if(gj!=null){for(var i=0,j=gj.length;i<j;i++){this.__wC.execute(gj[i].command,gj[i].value);};};};},__xk:function(gk){var gl=this._getIframeDocument();if(this.__wJ&&gl){try{if((qx.core.Environment.get(bV)==bS)){gl.designMode=(gk!==false)?l:dC;};gl.designMode=(gk!==false)?dC:l;}catch(e){};};},setEditable:function(gm){if(this.__wJ){this.__xk(true);if((qx.core.Environment.get(bV)==bS)){try{var gn=this._getIframeDocument();gn.execCommand(dm,false,true);}catch(go){try{var gn=this._getIframeDocument();gn.execCommand(ba,false,false);}catch(gp){if(!this.__eL){this.error("Failed to enable rich edit functionality");this.fireDataEvent(cU,gp);}else {throw new Error("Failed to enable rich edit functionality");};};};};this.__wK=gm;};},getEditable:function(){return this.__wK;},isEditable:function(){return this.__wK;},__xl:false,_handleKeyUp:function(e){var gq=e.getKeyIdentifier().toLowerCase();this.__wN=e;if((false)&&qx.core.Environment.get(cE)){this.debug(e.getType()+" | "+gq);};if(qx.core.Environment.get(bV)==bT||qx.core.Environment.get(bV)==X){if(this.__xl){switch(gq){case cN:if(this.getInsertLinebreakOnCtrlEnter()){if((qx.core.Environment.get(bV)==X)){this.__xm();e.preventDefault();e.stopPropagation();}else {var gr=this.__xw(this.getSelection());if(gr){gr.collapse(true);gr.pasteHTML(cy);};};this.__xr();};break;case I:this.__xl=false;return;break;};};}else if((qx.core.Environment.get(bV)==bS)){switch(gq){case H:case bl:case cF:case h:case dy:case C:case W:case dA:case ef:this.__wL=(this.getFocusNode()==this.getContentBody().firstChild);break;};};},__xm:function(){var gs=this.getSelection();var gt=bU;if(gs&&(gs.focusNode.textContent==bU||gs.focusNode.parentElement.tagName==bD)){gt=dI;};this.__wC.execute(ct,gt+qx.bom.htmlarea.HtmlArea.simpleLinebreak);},_handleKeyDown:qx.core.Environment.select(bV,{"mshtml|webkit":function(e){var gu=e.getKeyIdentifier().toLowerCase();if((false)&&qx.core.Environment.get(cE)){};if(this.__xl&&(gu==cb||gu==ei||gu==cV||gu==D||gu==du||gu==ea)){e.preventDefault();e.stopPropagation();};if(gu==I){this.__xl=true;};},"default":function(e){}}),_handleKeyPress:function(e){var gz=this.getContentDocument();var gv=e.getKeyIdentifier().toLowerCase();var gx=e.isCtrlPressed();var gy=e.isShiftPressed();this.__wN=e;if((false)&&qx.core.Environment.get(cE)){this.debug(e.getType()+" | "+gv);};if(this.__wR){var gF=!((qx.core.Environment.get(bV)==bT)&&gv==cN)||!((qx.core.Environment.get(bV)==bS)&&gv==cN);if(gF){this.__xr();this.__wR=false;};};switch(gv){case cN:if(!gy&&!gx&&this.getMessengerMode()){e.preventDefault();e.stopPropagation();this.fireDataEvent(bN,this.getComputedValue());this.resetHtml();};if(gx){if(!this.getInsertLinebreakOnCtrlEnter()){return;};e.preventDefault();e.stopPropagation();if((qx.core.Environment.get(bV)==bS)){if(this.__xu()){this.insertHtml(bg);this.__xr();return;};this.insertHtml(bb);}else if((qx.core.Environment.get(bV)==cK)){var gE=this.getSelection();var gA=this.__xw(gE);if(gE&&gA){var gB=gz.createElement(bX);gA.collapse(true);gA.insertNode(gB);gA.collapse(true);gA.selectNode(gB);gE.addRange(gA);gA.collapse(true);};};this.__xr();};if((qx.core.Environment.get(bV)==bT)){if(!this.getInsertParagraphOnLinebreak()){if(this.__wC.execute(ct,qx.bom.htmlarea.HtmlArea.simpleLinebreak)){this.__xr();e.preventDefault();e.stopPropagation();};};}else if((qx.core.Environment.get(bV)==bS)){if(this.getInsertParagraphOnLinebreak()&&!gy&&!gx){var gE=this.getSelection();if(gE){var gw=gE.focusNode;if(this.__xu()){this.__xr();return;};if(this.__xv()){this.__xr();return;};while(!qx.dom.Node.isNodeName(gw,cQ)){if(qx.dom.Node.isNodeName(gw,dK)){this.__xr();return;};gw=gw.parentNode;};};this.__wC.insertParagraphOnLinebreak();e.preventDefault();e.stopPropagation();this.__xr();this.__wR=true;};}else if((qx.core.Environment.get(bV)==X)){if(this.getInsertParagraphOnLinebreak()&&gy){this.__xm();e.preventDefault();e.stopPropagation();this.__xr();};};break;case cF:if(qx.core.Environment.get(bV)==bS&&qx.core.Environment.get(bW)<1.9&&gy){var gE=this.getSelection();if(gE&&gE.focusNode==gz.body.firstChild){if(this.__wL){if(gE.focusOffset!=0){gE.extend(gE.focusNode,0);};};};};this.__xr();break;case cr:if(qx.core.Environment.get(bV)==bS&&qx.core.Environment.get(bW)<1.9){if(gx){var gE=this.getSelection();if(gy){if(gE&&(gE.focusOffset!=0)||(gE.focusNode!=gz.body.firstChild)){gE.extend(gz.body.firstChild,0);};}else {var gC=null;var gD;if(gz){gC=gz.evaluate(cH,gz.body,null,XPathResult.ANY_TYPE,null);};if(gC&&gE){while(gD=gC.iterateNext()){if(gD&&gD.parentNode&&gD.parentNode.tagName!=bB){try{gE.extend(gD,0);if(!this.isSelectionCollapsed()){gE.collapseToStart();};}catch(gG){};break;};};};};};};this.__xr();break;case H:case bl:case h:case dy:case C:case W:case dA:case ef:this.__xr();break;case cV:if(gx){this.__xn(dR,true);};break;case du:case ea:if(gx){this.__xn(bE,true);};break;case D:if(gx){this.__xn(dQ,true);};break;case cb:if(gx&&!gy){this.__xn(dJ,true);}else if(gx&&gy){this.__xn(m,true);};break;case ei:if(gx){this.__xn(m,true);};break;case t:if(gx){this.selectAll();};break;};this.__wN=null;},__xn:function(gH,gI){var gK=null;var gJ=qx.bom.htmlarea.HtmlArea.hotkeyInfo;if(gJ[gH]){gK=gJ[gH].method;};if(gK!=null&&this[gK]){this[gK]();if(gI){this.__wN.preventDefault();this.__wN.stopPropagation();};if(this.isSelectionCollapsed()){this.__wR=true;};this.__xr();};},_handleFocusEvent:function(e){this.__wO=null;if(qx.core.Environment.get(bV)==bS||qx.core.Environment.get(bV)==X){var gL=this.getContentDocument().getElementById(K);if(gL){qx.bom.element.Attribute.reset(gL,cJ);};};this.fireEvent(cp);},_handleBlurEvent:function(e){this.__vQ=this.getComputedValue();},_handleFocusOutEvent:function(e){this.__xl=false;if(this.__wO==null){this.__wO=this.getSelectedHtml();};this.fireEvent(bw);},_handleMouseUpOnBody:function(e){if((false)&&qx.core.Environment.get(cE)){this.debug("handleMouse "+e.getType());};this.__wS=true;this.__xr();},_handleMouseUpOnDocument:qx.core.Environment.select(bV,{"mshtml":(function(){}),"default":function(e){if(!this.__wS){qx.bom.Element.activate(this.getContentBody());};this.__wS=false;}}),_handleContextMenuEvent:function(e){if(!this.getNativeContextMenu()){var gO=e.getViewportLeft();var gN=e.getViewportTop();var gP=qx.bom.element.Location.getLeft(this.__lx)+gO;var gQ=qx.bom.element.Location.getTop(this.__lx)+gN;var gM={x:gP,y:gQ,relX:gO,relY:gN,target:e.getTarget()};e.preventDefault();e.stopPropagation();qx.event.Timer.once(function(){this.fireDataEvent(cT,gM);},this,0);};},isLoaded:function(){return this.__wJ;},insertHtml:function(gR){return this.__wC.execute(ct,gR);},removeFormat:function(){var gS=this.__wC.execute(v);this.__wC.execute(c,this.getDefaultFontSize());this.__wC.execute(cd,this.getDefaultFontFamily());return gS;},setBold:function(){return this.__wC.execute(eg);},setItalic:function(){return this.__wC.execute(cR);},setUnderline:function(){return this.__wC.execute(cP);},setStrikeThrough:function(){return this.__wC.execute(bk);},setFontSize:function(gT){return this.__wC.execute(c,gT);},setFontFamily:function(gU){return this.__wC.execute(cd,gU);},setTextColor:function(gV){return this.__wC.execute(dE,gV);},setTextBackgroundColor:function(gW){return this.__wC.execute(dH,gW);},setJustifyLeft:function(){return this.__wC.execute(bt);},setJustifyCenter:function(){return this.__wC.execute(bc);},setJustifyRight:function(){return this.__wC.execute(cC);},setJustifyFull:function(){return this.__wC.execute(bG);},insertIndent:function(){return this.__wC.execute(bM);},insertOutdent:function(){return this.__wC.execute(cG);},insertOrderedList:function(){return this.__wC.execute(er);},insertUnorderedList:function(){return this.__wC.execute(bP);},insertHorizontalRuler:function(){return this.__wC.execute(dj);},insertImage:function(gX){return this.__wC.execute(r,gX);},insertHyperLink:function(gY){return this.__wC.execute(bH,gY);},removeBackgroundColor:function(){return this.__wC.execute(dB,cw);},setBackgroundColor:function(ha){return this.__wC.execute(dB,ha);},removeBackgroundImage:function(){return this.__wC.execute(ec);},setBackgroundImage:function(hb,hc,hd){return this.__wC.execute(ec,[hb,hc,hd]);},selectAll:function(){return this.__wC.execute(cx);},undo:function(){if(this.getUseUndoRedo()){return this.__wC.execute(b);}else {return true;};},redo:function(){if(this.getUseUndoRedo()){return this.__wC.execute(dv);}else {return true;};},resetHtml:function(){var he=this._getIframeDocument();while(he.body.firstChild){he.body.removeChild(he.body.firstChild);};if(qx.core.Environment.get(bV)==bS){he.body.innerHTML=y;}else if(qx.core.Environment.get(bV)==X){var hf=this.getSelection();var hg=he.createRange();if(hg&&hf){hf.addRange(hg);};};},getHtml:function(hh){var hi=this._getIframeDocument();if(hi==null){return null;};return qx.bom.htmlarea.HtmlArea.__wF(hi.body,false,hh,this.getPostProcess());},containsOnlyPlaceholder:qx.core.Environment.select(bV,{"mshtml":function(){var hj=this._getIframeDocument();return (hj.body.innerHTML==dr);},"default":(function(){return false;})}),_selectElement:function(hk){var hm=this.getContentWindow().getSelection();var hl=this.getContentDocument().createRange();hl.setStart(hk,0);hm.removeAllRanges();hm.addRange(hl);},focusContent:qx.core.Environment.select(bV,{"gecko":function(){var ho=this.getContentDocument();var hn=ho.getElementById(K);this.getContentWindow().focus();qx.bom.Element.focus(this.getContentBody());if(hn){this._selectElement(hn);}else {this.__xo();};},"webkit":function(){qx.bom.Element.focus(this.getContentWindow());qx.bom.Element.focus(this.getContentBody());var hp=this.getContentDocument().getElementById(K);if(hp){qx.bom.element.Attribute.reset(hp,cJ);};this.__xo();},"opera":function(){qx.bom.Element.focus(this.getContentWindow());qx.bom.Element.focus(this.getContentBody());this.__xo();},"default":function(){qx.bom.Element.focus(this.getContentBody());this.__xo();}}),__xo:function(){if(!this.__xp()){this.__xq();};},__xp:qx.core.Environment.select(bV,{"gecko":function(){var hq=this.getContentBody().childNodes;if(hq.length==0){return false;}else if(hq.length==1){return !(hq[0]&&qx.dom.Node.isNodeName(hq[0],bX)&&qx.bom.element.Attribute.get(hq[0],cv)!=null);}else {return true;};},"webkit":function(){var hr=this.getContentBody().childNodes;if(hr.length==0){return false;}else if(hr.length==1){return !(hr[0]&&qx.dom.Node.isNodeName(hr[0],bX));}else {return true;};},"default":function(){var hs=this.getContentBody().childNodes;if(hs.length==0){return false;}else if(hs.length==1){return !(hs[0]&&qx.dom.Node.isNodeName(hs[0],F)&&hs[0].firstChild==null);}else {return true;};}}),__xq:qx.core.Environment.select(bV,{"gecko|webkit":function(){this.getContentDocument().body.innerHTML=this.__wV(bU);var ht=this.getContentDocument().getElementById(K);qx.bom.element.Attribute.reset(ht,cJ);this._selectElement(ht);},"default":function(){var hu=qx.dom.Hierarchy.getFirstDescendant(this.getContentBody());if(qx.dom.Node.isNodeName(hu,F)){qx.bom.element.Style.set(hu,g,this.getDefaultFontFamily());qx.bom.element.Style.set(hu,cO,this.getDefaultFontSize());};}}),getContextInformation:function(){return this.__xs();},__xr:function(){qx.event.Timer.once(function(e){var hv=this.__xs();this.fireDataEvent(dW,hv);},this,200);},__xs:function(){if(this._processingExamineCursorContext||this.getEditable()==false){return null;};this._processingExamineCursorContext=true;if(!this.__xp()){this.__xq();};var hz=this.getFocusNode();if(hz==null){return null;};if(qx.dom.Node.isText(hz)){hz=hz.parentNode;};var hD=this._getIframeDocument();var hM=(qx.core.Environment.get(bV)==bT)?hz.currentStyle:hD.defaultView.getComputedStyle(hz,null);var hG=false;var hw=false;var hB=false;var hA=false;var hH=false;var hL=false;var hC=false;var hN=false;var hy=false;var hJ=false;var hK=null;var hO=null;var hF=null;if(hM!=null){if((qx.core.Environment.get(bV)==bT)){hw=hM.fontStyle==cR;hB=hM.textDecoration.indexOf(cP)!==-1;hA=hM.textDecoration.indexOf(bY)!==-1;hK=hM.fontSize;hF=hM.fontFamily;hC=hM.textAlign==H;hN=hM.textAlign==A;hy=hM.textAlign==bl;hJ=hM.textAlign==z;}else {hw=hM.getPropertyValue(bp)==cR;hB=hM.getPropertyValue(B).indexOf(cP)!==-1;hA=hM.getPropertyValue(B).indexOf(bY)!==-1;hK=hM.getPropertyValue(cO);hF=hM.getPropertyValue(g);hC=hM.getPropertyValue(bm)==H;hN=hM.getPropertyValue(bm)==A;hy=hM.getPropertyValue(bm)==bl;hJ=hM.getPropertyValue(bm)==z;};if(qx.core.Environment.get(bV)==bT||qx.core.Environment.get(bV)==cK){hG=hM.fontWeight==700;}else {hG=hM.getPropertyValue(bC)==eg||qx.dom.Node.isNodeName(hz,cV);};};var hx=hz;if(hx!=null&&hx.parentNode!=null&&!qx.dom.Node.isDocument(hx.parentNode)){while(hx!=null&&!qx.dom.Node.isNodeName(hx,cQ)){var hE=qx.dom.Node.getName(hx);if(hE==cA){hL=true;break;}else if(hE==dP){hH=true;break;};if(hO==null||hO==bU){hO=qx.bom.element.Attribute.get(hx,N);};hx=hx.parentNode;};};var hI={bold:hG?1:0,italic:hw?1:0,underline:hB?1:0,strikethrough:hA?1:0,fontSize:(hO==null)?hK:hO,fontFamily:hF,insertUnorderedList:hH?1:0,insertOrderedList:hL?1:0,justifyLeft:hC?1:0,justifyCenter:hN?1:0,justifyRight:hy?1:0,justifyFull:hJ?1:0};this._processingExamineCursorContext=false;return hI;},getSelection:qx.core.Environment.select(bV,{"mshtml":function(){return this._getIframeDocument()?this._getIframeDocument().selection:null;},"default":function(){return this._getIframeWindow()?this._getIframeWindow().getSelection():null;}}),isSelectionCollapsed:qx.core.Environment.select(bV,{"mshtml":function(){return this.getSelection()&&this.getSelection().type==cu;},"default":function(){return this.getSelection()&&this.getSelection().isCollapsed;}}),getSelectedText:qx.core.Environment.select(bV,{"mshtml":function(){return this.getRange()?this.getRange().text:bU;},"default":function(){return this.getRange()?this.getRange().toString():bU;}}),getSelectedHtml:function(){if(this.__wO!=null){return this.__wO;};var hP=this.getRange();if(!hP){return bU;}else {return this.__xt(hP);};},__xt:qx.core.Environment.select(bV,{"mshtml":function(hQ){if(!hQ){return bU;};return hQ.item?hQ.item(0).outerHTML:hQ.htmlText;},"default":function(hR){var hS=this._getIframeDocument();if(hS&&hR){try{var hT=hS.createElement(cQ);hT.appendChild(hR.cloneContents());return hT.innerHTML;}catch(hU){};return hR+bU;};return bU;}}),clearSelection:qx.core.Environment.select(bV,{"mshtml":function(){var hV=this.getSelection();if(hV){hV.empty();};},"default":function(){var hW=this.getSelection();if(hW){hW.collapseToStart();};}}),__xu:qx.core.Environment.select(bV,{"gecko":function(){var hX=this.getSelection();var hY=this.getFocusNode();return hX&&this.isSelectionCollapsed()&&hY!=null&&qx.dom.Node.isText(hY)&&hX.anchorOffset<hY.length;},"default":function(){return false;}}),__xv:qx.core.Environment.select(bV,{"gecko":function(){return qx.dom.Node.isElement(this.getFocusNode());},"default":function(){return false;}}),getRange:function(){return this.__xw(this.getSelection());},__xw:qx.core.Environment.select(bV,{"mshtml":function(ia){var ib=this._getIframeDocument();if(ia){try{return ia.createRange();}catch(ic){return ib?ib.body.createTextRange():null;};}else {return ib?ib.body.createTextRange():null;};},"default":function(id){var ie=this._getIframeDocument();if(id){try{return id.getRangeAt(0);}catch(ig){return ie?ie.createRange():null;};}else {return ie?ie.createRange():null;};}}),saveRange:qx.core.Environment.select(bV,{"mshtml":function(){this.__wQ=this.getRange();},"default":function(){}}),getSavedRange:qx.core.Environment.select(bV,{"mshtml":function(){return this.__wQ;},"default":function(){}}),resetSavedRange:qx.core.Environment.select(bV,{"mshtml":function(){this.__wQ=null;},"default":function(){}}),getFocusNode:qx.core.Environment.select(bV,{"mshtml":function(){var ih=this.getSelection();var ii;switch(ih.type){case bQ:case cu:ii=this.__xw(ih);if(ii){ii.collapse(false);return ii.parentElement();}else {return null;};break;case R:ii=this.__xw(ih);if(ii){try{ii.collapse(false);}catch(ij){};return ii.item(0);}else {return null;};break;default:return this._getIframeDocument().body;};},"default":function(){var ik=this.getSelection();if(ik&&ik.focusNode){return ik.focusNode;};return this._getIframeDocument().body;}})},environment:{"qx.bom.htmlarea.HtmlArea.debug":false},destruct:function(){try{var im=this._getIframeDocument();var ip=qx.event.Registration;ip.removeListener(im.body,d,this._handleKeyPress,this);ip.removeListener(im.body,cf,this._handleKeyUp,this);ip.removeListener(im.body,ce,this._handleKeyDown,this);var io=qx.core.Environment.get(bV)==X?this._getIframeWindow():im.body;ip.removeListener(io,E,this._handleFocusEvent);ip.removeListener(io,cS,this._handleBlurEvent);ip.removeListener(im,cg,this._handleFocusOutEvent);var il=qx.core.Environment.get(bV)==bT?J:eh;ip.removeListener(im.body,il,this._handleMouseUpOnBody,this);ip.removeListener(im.documentElement,il,this._handleMouseUpOnDocument,this);ip.removeListener(im.documentElement,cT,this._handleContextMenuEvent,this);if((qx.core.Environment.get(bV)==bT)){qx.bom.Iframe.setSource(this.__sN,df);};}catch(iq){};if(this.__wC instanceof qx.core.Object){this._disposeObjects(ck);}else {this.__wC=null;};this.__wP=this.__sN=this.__lx=this.__wM=null;}});})();(function(){var m="undo",l="pageup",k="b",h="control",g="shift",f="end",d="right",c="qx_link",b="insertunorderedlist",a="Undo",bh="pagedown",bg="k",bf="home",be="a",bd="insertorderedlist",bc="y",bb="justifyright",ba="__wC",Y="redo",X="insertParagraph",t="qx.bom.htmlarea.manager.UndoRedo",u="left",r="i",s="u",p="enter",q="Redo",n="insertimage",o="z",x="undoRedoState",y="down",G="up",E="body",N="backgroundColor",I="mousedown",T="table",R="backgroundImage",A="backgroundRepeat",W="p",V="backgroundPosition",U="td",z="img",C="inserthyperlink",D="mouseup",F="keypress",H="qx.bom.htmlarea.HtmlArea.debug",J="backgroundimage",O="backgroundcolor",S="webkit",v="Content",w="Internal",B="inserthtml",M="gecko",L="Custom",K="Command",Q="mshtml",P="engine.name";qx.Class.define(t,{extend:qx.core.Object,construct:function(bi,bj){qx.core.Object.call(this);this.__wC=bi;this.__xx=bj;this.__yo=[];this.__yp=[];this._commands=null;this.__lw=null;this.__yq={};this.__yr={command:true,content:true,custom:true};this.__xE();this.__ys=qx.lang.Function.bind(this._handleKeyPress,this);this.__yt=qx.lang.Function.bind(this._handleMouseUp,this);if((qx.core.Environment.get(P)==Q)){this.__yu=qx.lang.Function.bind(this._handleMouseDown,this);};},members:{__yv:false,__yw:false,__yx:false,__yr:null,__yq:null,__wC:null,__lw:null,__yo:null,__yp:null,__xx:null,__ys:null,__yt:null,__yu:null,__yy:null,setContentDocument:function(bk){this.__lw=bk;this.__wC.setContentDocument(bk);qx.event.Registration.addListener(bk.body,F,this.__ys,this);qx.event.Registration.addListener(bk.body,D,this.__yt,this);if((qx.core.Environment.get(P)==Q)){qx.event.Registration.addListener(bk.body,I,this.__yu,this,true);};},insertParagraphOnLinebreak:function(){return this.__wC.insertParagraphOnLinebreak();},execute:function(bl,bm){var bn;bl=bl.toLowerCase();if(this._commands[bl]){if(this._commands[bl].passthrough){bn=this.__wC.execute(bl,bm);}else {bn=this[bl].call(this);};}else {if((qx.core.Environment.get(P)==Q)||(qx.core.Environment.get(P)==S)){this.__yP(bl,bm,this.__wC.getCommandObject(bl));bn=this.__wC.execute(bl,bm);if(!bn){this.__yo.pop();};}else {bn=this.__wC.execute(bl,bm);if(bn){this.__yP(bl,bm,this.__wC.getCommandObject(bl));};};if(bl==m&&this.__yo.length==0){this.__yw=false;this.__yX();}else if(bl==Y&&this.__yp.length==0){this.__yv=false;this.__yX();};};this.__yx=false;return bn;},addUndoStep:function(bo,bp,bq){this.__yP(bo,bp,bq);},registerHandler:function(br,bs,bt,bu){this.__yq[br]={undo:bs,redo:bt,context:bu};},isUndoPossible:function(){return this.__yw;},undo:function(){var bx;if(this.__yx){this.__yR();};if(this.__yo.length>0){var bw=this.__yo.pop();if(this.__yr[bw.actionType.toLowerCase()]){switch(bw.actionType){case K:bx=this.__yA(bw);break;case v:bx=this.__yE(bw);break;case w:bx=this.__yD(bw);break;case L:bx=this.__yz(bw);break;};}else if(this.__yq[bw.actionType]){var bv=this.__yq[bw.actionType];bx=bv.undo.call(bv.context?bv.context:this,bw);this.__yT(bw);}else {this.error("actionType "+bw.actionType+" is not managed! Please provide a handler method!");};this.__yv=true;this.__yX();return bx;};},__yz:qx.core.Environment.select(P,{"mshtml|webkit":function(by){var bz=this.__lw.body.innerHTML;var bB=by.content;this.__lw.body.innerHTML=bB;var bA=by;bA.content=bz;this.__yT(bA);return true;},"default":function(bC){var bG=bC;var bF=qx.bom.element.Style;switch(bC.command){case O:bG.parameter=[bF.get(this.__lw.body,N)];break;case J:bG.parameter=[bF.get(this.__lw.body,R),bF.get(this.__lw.body,A),bF.get(this.__lw.body,V)];break;};this.__yT(bG);if(bC.command==C){if((qx.core.Environment.get(P)==M)){var bE=c+this.__wC.__hyperLinkId;var bD=this.__lw.getElementById(bE);if(bD){bD.parentNode.removeChild(bD);return true;}else {return false;};};}else {return this.__wC.execute(bC.command,bC.value);};}}),__yA:qx.core.Environment.select(P,{"mshtml|webkit":function(bH){},"default":function(bI){this.__yT(bI);if((qx.core.Environment.get(P)==M)){if(bI.command==B&&bI.value==qx.bom.htmlarea.HtmlArea.EMPTY_DIV&&this.__yB(B,X)){this.__yC();};};return this.__yF();}}),__yB:function(bJ,bK){if(this.__yo.length>0){var bL=this.__yo[this.__yo.length-1];return (bL.command==bJ&&bL.value==bK);};return false;},__yC:function(){this.__yF();if(this.__yo.length>0){var bM=this.__yo.pop();this.__yT(bM);};},__yD:function(bN){this.__yT(bN);return this.__yF();},__yE:qx.core.Environment.select(P,{"gecko":function(bO){this.__yT(bO);try{return this.__yF();}catch(bP){{};};},"mshtml|webkit":function(bQ){},"default":function(bR){this.__yT(bR);return this.__yF();}}),__yF:function(){try{return this.__lw.execCommand(a,false,null);}catch(e){return false;};},isRedoPossible:function(){return this.__yv;},redo:function(){if(this.__yv){var bT;if(this.__yp.length>0){var bU=this.__yp.pop();if(this.__yr[bU.actionType.toLowerCase()]){switch(bU.actionType){case K:bT=this.__yH(bU);break;case v:bT=this.__yN(bU);break;case w:bT=this.__yM(bU);break;case L:bT=this.__yG(bU);break;};}else if(this.__yq[bU.actionType]){var bS=this.__yq[bU.actionType];bT=bS.redo.call(bS.context?bS.context:this,bU);this.__yS(bU);}else {this.error("actionType "+bU.actionType+" is not managed! Please provide a handler method!");};this.__yw=true;this.__yX();};return bT;};},__yG:qx.core.Environment.select(P,{"mshtml|webkit":function(bV){var bW=this.__lw.body.innerHTML;var bY=bV.content;this.__lw.body.innerHTML=bY;var bX=bV;bX.content=bW;this.__yS(bX);return true;},"default":function(ca){this.__yS(ca);return this.__yO();}}),__yH:qx.core.Environment.select(P,{"mshtml|webkit":function(cb){},"default":function(cc){this.__yS(cc);var cd=this.__yO();if((qx.core.Environment.get(P)==M)){if(this.__yI(B,qx.bom.htmlarea.HtmlArea.EMPTY_DIV)){var ce=this.__yJ();this.__yK();if(ce!=null){this.__yL(ce);};};};return cd;}}),__yI:function(cf,cg){if(this.__yp.length>0){var ch=this.__yp[this.__yp.length-1];return (ch.command==cf&&ch.value==cg);};return false;},__yJ:function(){if(this.__xx==null){return null;};var ci=this.__xx.getSelection();var cj=ci?ci.focusNode:null;if(cj==null){return null;};try{while(cj.nodeName.toLowerCase()!=W){cj=cj.parentNode;if(!cj||qx.dom.Node.isNodeName(cj,E)){return null;};};}catch(ck){return null;};if(cj!=null&&qx.dom.Node.isNodeName(cj,W)){return cj;}else {return null;};},__yK:function(){var cl=this.__yp.pop();this.__yS(cl);this.__yO();},__yL:qx.core.Environment.select(P,{"gecko":function(cm){if(cm==this.__xx.getContentBody().lastChild){return;};var cp=cm.firstChild;while(cp.firstChild){cp=cp.firstChild;};var cn=this.__xx.getSelection();var co=this.__xx.getRange();if(cn&&co){co.selectNode(cp);cn.addRange(co);co.collapse(true);};},"default":(function(){})}),__yM:function(cq){this.__yS(cq);return this.__yO();},__yN:qx.core.Environment.select(P,{"mshtml|webkit":function(cr){},"default":function(cs){this.__yS(cs);return this.__yO();}}),__yO:function(){try{return this.__lw.execCommand(q,false,null);}catch(e){return false;};},__xE:function(){this._commands={undo:{passthrough:false},redo:{passthrough:false}};this.__wC.getCommandObject(O).customUndo=true;this.__wC.getCommandObject(J).customUndo=true;if((qx.core.Environment.get(P)==M)){};},__yP:qx.core.Environment.select(P,{"mshtml|webkit":function(ct,cu,cv){var cw=this.getUndoRedoObject();cw.commandObject=cv;cw.command=ct;cw.value=cu;cw.actionType=L;cw.content=this.__lw.body.innerHTML;this.__yQ(cw);},"default":function(cx,cy,cz){if(this.__xx==null){return;};var cB=this.getUndoRedoObject();cB.commandObject=cz;cB.command=cx;cB.value=cy;cB.actionType=L;var cA=this.__xx.getSelection();if(cz.customUndo){var cC=[];switch(cx){case O:cC.push(qx.bom.element.Style.get(this.__lw.body,N));break;case J:cC.push(qx.bom.element.Style.get(this.__lw.body,R),qx.bom.element.Style.get(this.__lw.body,A),qx.bom.element.Style.get(this.__lw.body,V));break;case C:if(cA&&!cA.isCollapsed){cB.actionType=K;};break;};cB.parameter=cC;}else {if((qx.core.Environment.get(P)==M)){if(cA&&cA.isCollapsed){switch(cx){case bd:case b:case bb:case B:case n:cB.actionType=K;break;default:return;};}else {cB.actionType=K;};}else {cB.actionType=K;};};this.__yQ(cB);}}),__yQ:function(cD){if(this.__yx){this.__yR();};this.__yS(cD);this.__yv=false;this.__yp=[];this.__yX();},__yR:function(){var cE=this.__yo[this.__yo.length-1];if(cE==null||cE.actionType!=v){var cF=this.getUndoRedoObject();cF.actionType=v;if((qx.core.Environment.get(P)==Q)||(qx.core.Environment.get(P)==S)){cF.content=this.__yy;cF.actionType=L;this.__yy=null;};this.__yS(cF);this.__yx=false;};},getUndoRedoObject:function(){return {actionType:null,commandObject:null,command:null,value:null,parameter:null,range:null,marker:null,content:null};},__yS:function(cG){if((false)&&qx.core.Environment.get(H)){this.debug("ADD TO UNDO STACK");this.debug(cG.actionType+" "+cG.command+" "+cG.value);};this.__yo.push(cG);},__yT:function(cH){if((false)&&qx.core.Environment.get(H)){this.debug("ADD TO REDO STACK");this.debug(cH.actionType+" "+cH.command+" "+cH.value);};this.__yp.push(cH);},_handleKeyPress:function(e){var cI=e.getKeyIdentifier().toLowerCase();var cJ=e.isCtrlPressed();switch(cI){case h:case g:case u:case d:case G:case y:case l:case bh:case bf:case f:case p:break;case be:case k:case r:case s:case bg:case bc:case o:if(!cJ){this.__yU();};break;default:this.__yv=false;this.__yp=[];this.__yU();};},__yU:function(){if(!this.__yx){this.__yx=true;this.__yw=true;if((qx.core.Environment.get(P)==Q)||(qx.core.Environment.get(P)==S)){this.__yy=this.__lw.body.innerHTML;};this.__yX();};},__yV:null,_handleMouseDown:qx.core.Environment.select(P,{"mshtml":function(e){var cK=e.getOriginalTarget();if(qx.dom.Node.isElement(cK)&&(qx.dom.Node.isNodeName(cK,z)||qx.dom.Node.isNodeName(cK,T))){this.__yV={node:cK,content:cK.outerHTML};}else {this.__yV=null;};},"default":function(e){return true;}}),_handleMouseUp:qx.core.Environment.select(P,{"gecko":function(e){if(this.__xx==null){return;};var cM=this.__xx.getSelection();if(!cM){this.__yV=null;return;};var cL=cM.anchorNode;var cN=cL.childNodes[cM.anchorOffset];if(qx.dom.Node.isNodeName(cN,z)){if(this.__yV==null){this.__yV=cN.cloneNode(true);}else {if(this.__yV.style.width!=cN.style.width||this.__yV.style.height!=cN.style.height){this.__yW();this.__yV=cN.cloneNode(true);};};}else if(qx.dom.Node.isNodeName(cL,U)||qx.dom.Node.isNodeName(cL.parentNode,U)){var cO=cL.parentNode;while(qx.dom.Node.isNodeName(cO,T)){cO=cO.parentNode;};if(this.__yV==null){this.__yV=cO.cloneNode(true);}else {qx.event.Timer.once(function(){if(cO.style.width!=this.__yV.style.width||cO.style.height!=this.__yV.style.height||cO.innerHTML!=this.__yV.innerHTML){this.__yW();this.__yV=cO.cloneNode(true);};},this,0);};}else {this.__yV=null;};},"default":function(e){var cP=qx.bom.Event.getTarget(e);if(this.__yV!=null){if(cP.nodeType==1){if(cP==this.__yV.node){if(cP.outerHTML!=this.__yV.content){this.__yV.content=cP.outerHTML;this.__yW();};}else {for(var i=0,j=cP.childNodes.length;i<j;i++){if(cP.childNodes[i]==this.__yV.node){if(cP.childNodes[i].outerHTML!=this.__yV.content){this.__yV.content=cP.childNodes[i].outerHTML;this.__yW();};};};};}else {this.__yV=null;};};}}),__yW:qx.core.Environment.select(P,{"mshtml|webkit":function(){this.__yP(w,null,null);},"default":function(){var cQ=this.getUndoRedoObject();cQ.actionType=w;this.__yS(cQ);}}),__yX:function(){qx.event.Timer.once(function(e){if(this.__xx!=null){var cR={undo:this.isUndoPossible()?0:-1,redo:this.isRedoPossible()?0:-1};this.__xx.fireDataEvent(x,cR);};},this,200);}},destruct:function(){try{qx.event.Registration.removeListener(this.__lw.body,F,this.__ys);qx.event.Registration.removeListener(this.__lw,D,this.__yt);if((qx.core.Environment.get(P)==Q)){qx.event.Registration.removeListener(this.__lw,I,this.__yu);};}catch(e){};this._disposeObjects(ba);this.__xx=this.__yo=this.__yp=this._commands=this.__lw=null;this.__yr=this.__yq=null;}});})();(function(){var k="</div>",j="redraw",i="widgetbrowser.pages.Embed",h=" Text",g="widgetbrowser/fo_tester.swf",f="<i>L</i>",d="<b>T</b>",c="<i style='color: red;'><b>H</b></i>",b="solid",a="bgcolor",F="widgetbrowser/blank.html",E="<u>M</u>",D="html.canvas",C="border-main",B="Browser does not support canvas",A="this is passed in via FlashVars",z="<div style='background-color: white; text-align: center;'>",y="bold",x='<h1>About</h1><p>qooxdoo (pronounced [ku:ksdu:]) is a comprehensive and innovative Ajax application framework. Leveraging object-oriented JavaScript allows developers to build impressive cross-browser applications. No <acronym title="HyperText Markup Language">HTML</acronym>, <acronym title="Cascading Style Sheets">CSS</acronym> nor <acronym title="Document Object Model">DOM</acronym> knowledge is needed. qooxdoo includes a platform-independent development tool chain, a state-of-the-art <acronym title="Graphical User Interface">GUI</acronym> toolkit and an advanced client-server communication layer. It is Open Source under an <acronym title="GNU Lesser General Public License">LGPL</acronym>/<acronym title="Eclipse Public License">EPL</acronym> dual <a href="http://qooxdoo.org/license" class="wikilink1" title="license">license</a>.</p>',w='Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla f',r="Text with set font (bold)!",s="Canvas",p="Flash",q="white",n="noscale",o="#FF6600",l="HtmlArea",m="HTML",t="100%",u="auto",v="main";qx.Class.define(i,{extend:widgetbrowser.pages.AbstractPage,construct:function(){widgetbrowser.pages.AbstractPage.call(this);var G=new qx.ui.layout.Grid(100,10);G.setColumnFlex(1,1);this.__nn=new qx.ui.container.Composite(G);this.add(this.__nn,{width:t,height:t});this.initWidgets();},members:{__nn:null,initWidgets:function(){var U=this._widgets;var O;O=new qx.ui.basic.Label(p);this.__nn.add(O,{row:0,column:0});var V={flashVarText:A};var N=new qx.ui.embed.Flash(g).set({scale:n,width:100,height:200,variables:V});N.getContentElement().setParam(a,o);U.push(N);this.__nn.add(N,{row:1,column:0,colSpan:2});O=new qx.ui.basic.Label(s);this.__nn.add(O,{row:2,column:0});if(qx.core.Environment.get(D)){var H=new qx.ui.embed.Canvas().set({width:200,height:200,canvasWidth:200,canvasHeight:200,syncDimension:true});H.addListener(j,this.__QF,this);U.push(H);this.__nn.add(H,{row:3,column:0});}else {this.__nn.add(new qx.ui.basic.Label(B),{row:3,column:0});};O=new qx.ui.basic.Label(m);this.__nn.add(O,{row:2,column:1});var S=new qx.ui.container.Composite(new qx.ui.layout.VBox(10));this.__nn.add(S,{row:3,column:1});var P=z+c+d+E+f+h+k;var M=new qx.ui.embed.Html(P);U.push(M);M.setMaxWidth(200);M.setHeight(20);M.setDecorator(v);S.add(M);var Q=r;var L=new qx.ui.embed.Html(Q);U.push(L);L.setMaxWidth(200);L.setFont(y);L.setHeight(20);L.setDecorator(v);S.add(L);var T=w;var J=new qx.ui.embed.Html(T);U.push(J);J.setOverflow(u,u);J.setDecorator(v);J.setBackgroundColor(q);J.setHeight(150);J.setMaxWidth(200);S.add(J);O=new qx.ui.basic.Label(l);this.__nn.add(O,{row:4,column:0});var K=new qx.ui.decoration.Single(1,b,C);var I=x;var R=new qx.ui.embed.HtmlArea(I,null,qx.util.ResourceManager.getInstance().toUri(F));R.set({width:300,height:150,decorator:K});this.__nn.add(R,{row:5,column:0});U.push(R);},__QF:function(e){var X=e.getData();var W=X.context;W.fillStyle="rgb(200,0,0)";W.fillRect(20,20,105,100);W.fillStyle="rgba(0, 0, 200, 0.5)";W.fillRect(70,70,105,100);}}});})();(function(){var cw="_moz",cv="top",cu="formatBlock",ct="insertParagraph",cs="li",cr='<span style="',cq="no-repeat",cp=' <a href="',co="FONT",cn="__yi",bx="|top|bottom|center|left|right|right top|left top|left bottom|right bottom|",bw="__placeholder__",bv='font-family:',bu="<p style='",bt="outdent",bs='</a> ',br="InsertImage",bq="__resetHtml",bp="FontName",bo="bold",cD="blockquote",cE="__yh",cB="<hr />",cC="style",cz="qx.bom.htmlarea.manager.Command",cA="'><br class='webkit-block-placeholder' />",cx="a",cy='"',cF="<span></span>",cG="type",bV="CreateLink",bU="__yg",bX='<span id="',bW="italic",ca="qx_link",bY="__yn",cc="none",cb='"></span>',bT="Italic",bS="fontStyle",a="underline",b="InsertUnorderedList",c="__yf",d="OL",f='text-align:',g="Bold",h="ForeColor",m="url(",n='" ',o="repeat repeat-x repeat-y no-repeat",cR='</p>',cQ="__xQ",cP="__xJ",cO="__ym",cV='<font style="',cU="IMG",cT="__ye",cS='<p id="',cX="StrikeThrough",cW="LI",N="__getHtml",O='>',L='" size="',M="Indent",R="HiliteColor",S="br",P="fontWeight",Q="Copy",J="</span>",K="Paste",w="__yl",v="RemoveFormat",y="__yc",x="JustifyRight",s='',r='style="',u="__xS",t="__yd",q="JustifyCenter",p="_moz_dirty",X="__yk",Y="color",ba="JustifyLeft",bb="Underline",T="SelectAll",U="Cut",V="line-through",W=")",bc="href",bd="__xT",G="UL",F="JustifyFull",E="Outdent",D="indent",C="backgroundColor",B="selectall",A="InsertOrderedList",z="/>",I="<img ",H="</font>",be="backgroundPosition",bf="__xO",bg="font-size",bh='|',bi="string",bj="background-color",bk="backgroundRepeat",bl="font",bm=":",bn="='",bB=" ",bA=";",bz="body",by="px",bF="backgroundImage",bE="Control",bD="__paragraph__",bC=':',bH="qx.bom.htmlarea.HtmlArea.debug",bG="size",bO="' ",bP="webkit",bM="textDecoration",bN="BODY",bK="undefined",bL="transparent",bI="id",bJ="InsertHtml",bQ='">',bR="child",cg="gecko",cf="font-family",ci="text-align",ch='text-decoration',ck="BackColor",cj="FontSize",cm="__xN",cl=';',ce="p",cd="span",cK='color',cL="text-decoration",cM="inserthtml",cN="mshtml",cH="legacy-font-size",cI="",cJ="engine.name";qx.Class.define(cz,{extend:qx.core.Object,construct:function(cY){qx.core.Object.call(this);this.__xx=cY;this.__lw=null;this._commands=null;this.__xE();this.__xy={"Bold":true,"Italic":true,"Underline":true,"StrikeThrough":true};this.__xz=[10,12,16,18,24,32,48];this.__xA=0;},statics:{__xB:bx,__xC:o},members:{__lw:null,__xx:null,__xD:false,__xy:null,__xz:null,__xA:null,setContentDocument:function(da){this.__lw=da;},getCommandObject:function(db){if(this._commands[db]){return this._commands[db];}else {return null;};},__xE:function(){this._commands={bold:{useBuiltin:false,identifier:g,method:X},italic:{useBuiltin:false,identifier:bT,method:w},underline:{useBuiltin:false,identifier:bb,method:cO},strikethrough:{useBuiltin:false,identifier:cX,method:bY},fontfamily:{useBuiltin:true,identifier:bp,method:null},fontsize:{useBuiltin:false,identifier:cj,method:y},textcolor:{useBuiltin:true,identifier:h,method:null},textbackgroundcolor:{useBuiltin:false,identifier:null,method:t},backgroundcolor:{useBuiltin:false,identifier:null,method:cT},backgroundimage:{useBuiltin:false,identifier:null,method:c},justifyleft:{useBuiltin:false,identifier:ba,method:cm},justifyright:{useBuiltin:false,identifier:x,method:cm},justifycenter:{useBuiltin:false,identifier:q,method:cm},justifyfull:{useBuiltin:false,identifier:F,method:cm},indent:{useBuiltin:true,identifier:M,method:null},outdent:{useBuiltin:true,identifier:E,method:null},copy:{useBuiltin:true,identifier:Q,method:null},cut:{useBuiltin:true,identifier:U,method:null},paste:{useBuiltin:true,identifier:K,method:null},insertorderedlist:{useBuiltin:false,identifier:A,method:bf},insertunorderedlist:{useBuiltin:false,identifier:b,method:bf},inserthorizontalrule:{useBuiltin:false,identifier:bJ,method:bd},insertimage:{useBuiltin:false,identifier:br,method:cQ},inserthyperlink:{useBuiltin:false,identifier:bV,method:u},selectall:{useBuiltin:false,identifier:T,method:bU},selectedtext:{useBuiltin:false,identifier:null,method:cE},selectedhtml:{useBuiltin:false,identifier:null,method:cn},inserthtml:{useBuiltin:false,identifier:bJ,method:cP},resethtml:{useBuiltin:false,identifier:null,method:bq},gethtml:{useBuiltin:false,identifier:null,method:N},removeformat:{useBuiltin:true,identifier:v,method:null}};},execute:function(dc,dd){if(!this.__xx.isReady()){this.error("editor not ready! '"+dc+"':'"+dd+"'");return false;};dc=dc.toLowerCase();dd=dd!=null?dd:null;if(this._commands[dc]){var de;var df=this._commands[dc];if(!((qx.core.Environment.get(cJ)==bP)&&(dc==D||dc==bt))){if(this.__xF()){this.__xG();};};if(df.useBuiltin){de=this.__xH(df.identifier,false,dd);}else {if(df.method!=null&&this[df.method]){de=this[df.method].call(this,dd,df);}else {this.error("The method '"+df.method+"' you calling to execute the command '"+dc+"' is not available!");};};this.__xx.resetSavedRange();return de;}else {this.error("Command "+dc+" is currently not supported!");};},__xF:function(){var Node=qx.dom.Node;var dg=this.__xx.getFocusNode();var dj=false;var dh=false;if(dg){if(Node.isText(dg)){var di=qx.dom.Hierarchy.getAncestors(dg);for(var i=0,j=di.length;i<j;i++){if(Node.isNodeName(di[i],ce)||qx.bom.htmlarea.HtmlArea.isHeadlineNode(di[i])){dj=true;break;};};}else if(Node.isNodeName(dg,bz)){dh=true;};};return dh||!dj;},__xG:function(){this.__xH(cu,false,ce);},__xH:function(dk,dl,dm){try{var dq=this.__lw;var dn=false;var dp=this.__xx.getRange();this.__lw.body.focus();if((qx.core.Environment.get(cJ)==cN)){if(dk!=B){dp.select();if(((dp.text)&&(dp.text.length>0))||((dp.length==1)&&(dp.item(0))&&(dp.item(0).tagName==cU))){dq=dp;}else {dq=this.__lw;};};if(((qx.core.Environment.get(cJ)==cN))&&(this.__xy[dk])){if(dp.text==cI){dn=true;};};};var dr=dq.execCommand(dk,dl,dm);if(dn&&dp.text!=cI){dp.collapse();};if((false)&&qx.core.Environment.get(bH)){this.debug("execCommand "+dk+" with value "+dm+" succeded");};this.__xD=false;}catch(ds){if((false)&&qx.core.Environment.get(bH)){this.debug("execCommand "+dk+" with value "+dm+" failed");};return false;};return dr;},__xI:qx.core.Environment.select(cJ,{"mshtml":function(){var du=this.__xx;var dt=du.getSavedRange()!=null?du.getSavedRange():du.getRange();return dt;},"default":function(){return this.__xx.getRange();}}),__xJ:qx.core.Environment.select(cJ,{"mshtml":function(dv,dw){var dz;if(dv==qx.bom.htmlarea.HtmlArea.simpleLinebreak){return this.__xM();}else {this.__lw.body.focus();var dy=this.__xx.getSelection();var dx=this.__xI();if(dx&&dy&&dy.type!=bE){try{dx.pasteHTML(dv);dx.collapse(false);dx.select();dz=true;}catch(e){};}else {dz=false;};this.__xx.resetSavedRange();return dz;};},"default":function(dA,dB){this.__lw.body.focus();return this.__lw.execCommand(dB.identifier,false,dA);}}),insertParagraphOnLinebreak:qx.core.Environment.select(cJ,{"gecko":function(){var dJ=this.__xW();var dN=this.__xK(dJ);var dF=this.__xU(dJ);var dK=bw+Date.parse(new Date());var dL=bD+Date.parse(new Date());var dD=s;var dH=bX+dK+cb;dD+=dH;dD+=cS+dL+n+dN+O;dD+=dF+cR;this.__xx.getCommandManager().addUndoStep(cM,ct,this.getCommandObject(cM));this.execute(cM,dD);this.__xL();qx.bom.element.Attribute.reset(this.__lw.getElementById(dK),bI);var dI=this.__lw.getElementById(dL);if(dI.previousSibling.innerHTML==dH){var dC=this.__xV();var dG=this.__lw.createElement(S);var dE=this.__lw.createAttribute(p);dE.nodeValue=cI;dG.setAttributeNode(dE);var dM=this.__lw.createAttribute(cG);dM.nodeValue=cw;dG.setAttributeNode(dM);dI.previousSibling.appendChild(dC);dI.previousSibling.appendChild(dG);};qx.bom.element.Attribute.reset(dI,bI);return true;},"webkit":function(){var dO=this.getCurrentStyles();var dP=cI;var dR={"background-color":true,"text-align":true};for(var dQ in dO){if(dR[dQ]){dP+=dQ+bm+dO[dQ]+bA;};};this.__xx.insertHtml(bu+dP+cA);},"default":(function(){})}),__xK:qx.core.Environment.select(cJ,{"gecko":function(dS){var dX=r;var dW=dS.child;if(dW[ci]){dX+=f+dW[ci]+cl;delete dS.child[ci];};if(dW[cf]){dX+=bv+dW[cf]+cl;delete dS.child[cf];};var dV={"padding-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true};var dT={"margin-top":true,"margin-bottom":true,"margin-left":true,"margin-right":true};for(var dU in dW){if(dV[dU]||dT[dU]){dX+=dU+bC+dW[dU]+cl;delete dS.child[dU];};};dX+=cy;return dX;},"default":function(){return cI;}}),__xL:qx.core.Environment.select(cJ,{"gecko":function(){var eg=this.__xx.getSelection();if(!eg||!eg.focusNode){return;};var dY=eg.focusNode;var ee=eg.focusNode;while(!qx.dom.Node.isNodeName(ee,ce)){ee=ee.parentNode;};var ed=ee.previousSibling.id;var eh=ee.nextSibling?ee.nextSibling.id:null;if(qx.lang.String.startsWith(ed,bD)&&ed==eh){var ef=ee.nextSibling;var eb=this.__xx.getRange();eb.selectNode(ef);eg.addRange(eb);var ea=qx.bom.htmlarea.HtmlArea.EMPTY_DIV;this.__xx.getCommandManager().addUndoStep(cM,ea,this.getCommandObject(cM));this.execute(cM,ea);var ec=this.__xx.getRange();if(dY){while(dY&&dY.firstChild&&qx.dom.Node.isElement(dY.firstChild)){dY=dY.firstChild;};};ec.selectNode(dY);eg.addRange(ec);ec.collapse(true);};},"default":(function(){})}),__xM:qx.core.Environment.select(cJ,{"mshtml":function(){var ei=this.__xx.getRange();if(ei&&!qx.dom.Node.isNodeName(ei.parentElement(),cs)){ei.pasteHTML(qx.bom.htmlarea.HtmlArea.simpleLinebreak);ei.collapse(false);ei.select();return true;};return false;},"default":function(){return false;}}),__xN:function(ej,ek){var el=(qx.core.Environment.get(cJ)==cN)?this.__xx.getRange():this.__lw;return el.execCommand(ek.identifier,false,ej);},__xO:function(em,en){if((qx.core.Environment.get(cJ)==cN)){var eo=this.__xx.getFocusNode();this.__xP(eo);};this.__lw.body.focus();var ep=this.__lw.execCommand(en.identifier,false,em);if((qx.core.Environment.get(cJ)==bP)){var eo=this.__xx.getFocusNode();this.__xP(eo.parentNode);};return ep;},__xP:function(eq){var er=[];var parent=eq.parentNode;while(qx.dom.Node.isNodeName(parent,cD)){er.push(parent);parent=parent.parentNode;};if(er.length>0){parent.appendChild(eq);parent.removeChild(er[er.length-1]);};},__xQ:qx.core.Environment.select(cJ,{"gecko":function(es,et){if(es.src){this.__lw.execCommand(et.identifier,false,es.src);delete es.src;var eH=this.__xx.getSelection();if(eH){var eG=eH.anchorNode;var eB=eH.anchorOffset;var ey=eG.childNodes[eB-1];var eE;for(var eA in es){eE=this.__lw.createAttribute(eA);eE.nodeValue=es[eA];ey.setAttributeNode(eE);};var ez={"font":true,"span":true};var ev=null;var eD=true;if(qx.dom.Node.isElement(ey.previousSibling)&&ez[qx.dom.Node.getName(ey.previousSibling)]){ev=ey.previousSibling;}else if(ez[qx.dom.Node.getName(ey.parentNode)]){ev=ey.parentNode;eD=false;};var ew=this.__lw.createDocumentFragment();var eI;if(eD&&ev!=null){var ez=this.__xR(ev);ew.appendChild(ez.root);eI=ez.inline;}else {eI=this.__lw.createElement(cd);ew.appendChild(eI);};var eF=this.__lw.createTextNode(cI);eI.appendChild(eF);var eC=ey.parentNode;if(ey==eC.lastChild){eC.appendChild(ew);}else {eC.insertBefore(ew,ey.nextSibling);};var eu=this.__xx.getRange();eu.selectNodeContents(eI);};return true;}else {return false;};},"mshtml":function(eJ,eK){var eO=false;var eP=I;for(var eL in eJ){eP+=eL+bn+eJ[eL]+bO;};eP+=z;var eM=this.__xx.getSelection();var eN=this.__xI();if(eM&&eM.type!=bE){try{eN.select();eN.pasteHTML(eP);eO=true;}catch(e){};};this.__xx.resetSavedRange();return eO;},"default":function(eQ,eR){if(eQ.src){var eT=I;for(var eS in eQ){eT+=eS+bn+eQ[eS]+bO;};eT+=z;return this.__lw.execCommand(bJ,false,eT);}else {return false;};}}),__xR:function(eU){while(eU.firstChild&&eU.firstChild.nodeType==1){eU=eU.firstChild;};var eY=this.__xW(eU);var fd,eW,fb;var eV=cI;var parent=null;var fc=null;var fa=eY.child;while(fa){fc=this.__lw.createElement(fa[cH]?bl:cd);eW=this.__lw.createAttribute(cC);fc.setAttributeNode(eW);for(var eX in fa){if(eX!=bR&&eX!=cH){eV+=eX+bm+fa[eX]+bA;}else if(eX==cH){fb=this.__lw.createAttribute(bG);fb.nodeValue=fa[eX];fc.setAttributeNode(fb);};};eW.nodeValue=eV;if(parent!=null){parent.appendChild(fc);}else {fd=fc;};parent=fc;fa=fa.child;eV=cI;};return {root:fd,inline:fc};},__xS:qx.core.Environment.select(cJ,{"gecko|opera":function(fe,ff){var fl=this.__xx.getSelection();var fi=this.__xx.getRange();if(fl.isCollapsed){var fh=ca+(++this.__xA);var fm=this.__lw.createElement(cx);var fj=this.__lw.createAttribute(bc);var fg=this.__lw.createAttribute(bI);var fk=this.__lw.createTextNode(fe);fg.nodeValue=fh;fm.setAttributeNode(fg);fj.nodeValue=fe;fm.setAttributeNode(fj);fm.appendChild(fk);fi.insertNode(fm);fi.selectNode(fm);fl.collapseToEnd();return true;}else {return this.__lw.execCommand(ff.identifier,false,fe);};},"mshtml":function(fn,fo){try{var fq;var fp=this.__xI();var fr=this.__xx;var fp=fr.getSavedRange()!=null?fr.getSavedRange():fr.getRange();if(fp!=null&&fp.text!=cI){fq=fp.execCommand(fo.identifier,false,fn);}else {fq=this.__xJ(cp+fn+bQ+fn+bs,fo);};this.__xx.resetSavedRange();return fq;}catch(e){{};return false;};},"default":function(fs,ft){return this.__lw.execCommand(ft.identifier,false,fs);}}),__xT:function(fu,fv){var fw=cB;if((qx.core.Environment.get(cJ)==cg)){fw+=this.__xU();};return this.__xJ(fw,fv);},__xU:function(fx){var fB=cI;var fA=cr;var fz=[];var fE=typeof fx!==bK?fx:this.__xW();var fC=fE.child;var fD=false;if(qx.lang.Object.isEmpty(fC)){return cI;};while(fC){fD=fC[cH]!=null;fB+=fD?cV:fA;for(var fy in fC){fB+=(fy!=bR&&fy!=cH)?fy+bC+fC[fy]+cl:cI;};fB+=fD?L+fC[cH]+bQ:bQ;fz.unshift(fD?H:J);fC=fC.child;};if(fz.length==1&&fz[0]==H){fB+=cF;};for(var i=0,j=fz.length;i<j;i++){fB+=fz[i];};return fB;},__xV:function(){var fG=this.__lw.createDocumentFragment();var fL=this.__xW();var parent=fG;var fJ=fL.child;var fH;var fK=false;while(fJ){fK=fJ[cH]!=null;fH=this.__lw.createElement(fK?bl:cd);parent.appendChild(fH);for(var fF in fJ){if(fF!=bR&&fF!=cH){qx.bom.element.Style.set(fH,fF,fJ[fF]);};};if(fK){var fI=this.__lw.createAttribute(bG);fI.nodeValue=fJ[cH];fH.setAttributeNode(fI);};parent=fH;fJ=fJ.child;};return fG;},__xW:function(fM){var fO={};var fP=null;var fQ=this.getCurrentStyles(fM);fP=fO.child={};for(var fN in fQ){if(fN!=cL){fP[fN]=fQ[fN];};};if(fQ[cL]){var fR=fQ[cL];for(var i=0,j=fR.length;i<j;i++){if(fP==null){fP=fO.child={};}else {fP=fP.child={};};fP[cK]=fR[i][cK];fP[ch]=fR[i][ch];};};if(fQ[cK]&&fQ[ch]){fP=fP.child={};fP[cK]=fQ[cK];};return fO;},getCurrentStyles:function(fS){if(fS==null){var fU=this.__xx.getSelection();if(!fU||fU.focusNode==null){return {};};fS=(fU.focusNode.nodeType==3)?fU.focusNode.parentNode:fU.focusNode;};var fV=qx.dom.Hierarchy.getAncestors(fS);var fX=qx.lang.Array.insertBefore(fV,fS,fV[0]);var fT=this.__xX(fX);var fW=this.__xY(fT,fX);return fW;},__xX:function(fY){var gc={};var ga,gb;for(var i=0,j=fY.length;i<j;i++){gb=fY[i];for(var k=0,l=gb.style.length;k<l;k++){ga=gb.style[k];if(ga.length>0&&typeof gc[ga]===bK){gc[ga]=gb.style.getPropertyValue(ga);};};if(gb.tagName.toUpperCase()==co&&gb.size&&gc[cH]===undefined){gc[cH]=gb.size;};};if(gc[cH]&&gc[bg]){delete gc[bg];};return gc;},__xY:function(gd,ge){var gj=ge[0];var gh=this.__xx.getContentWindow().getComputedStyle(gj,null);var gf;var gi={};for(var gg in gd){if(gg!=cH){gf=gh.getPropertyValue(gg);}else {gf=gd[gg];};if(gg==bj&&gf==bL){gi[gg]=this.__yb(ge);}else if(gg==cL){gi[gg]=this.__ya(ge);}else {gi[gg]=gf;};};return gi;},__ya:function(gk){var gn,gp,gl;var go=[];var gm=this.__xx.getContentWindow();for(var i=0,j=gk.length;i<j;i++){gl=gm.getComputedStyle(gk[i],null);gn=gl.getPropertyValue(cL);gp=gl.getPropertyValue(Y);if(gn!=cc){go.push({'text-decoration':gn,'color':gp});};};return go;},__yb:function(gq){var gs,gr,gt;for(var i=0;i<gq.length;i++){gs=gq[i];gr=this.__xx.getContentWindow().getComputedStyle(gs,null);gt=gr.getPropertyValue(bj);if(gt!=bL){return gt;};};},__yc:function(gu,gv){var gH=this.__xx.getSelection();var gC=((qx.core.Environment.get(cJ)==cN))?this.__xx.getRange():gC=gH.getRangeAt(0);var gD=[];var gG;var gB=[d,G];var gw,i,j,gE;gE=((qx.core.Environment.get(cJ)==cN))?gC.parentElement():gC.commonAncestorContainer;if(gE.tagName==bN){for(var i=0;i<gB.length;i++){gw=gE.getElementsByTagName(gB[i]);for(var j=0;j<gw.length;j++){if(gw[j]){gD.push(gw[j]);};};};}else if(qx.lang.Array.contains(gB,gE.tagName)){gD.push(gE);};if(gD.length>0){for(var i=0;i<gD.length;i++){var gy=gD[i];gG=((qx.core.Environment.get(cJ)==cN))?((gy==gE)||(gE.tagName==bN)):gH.containsNode(gy,false);for(j=0;j<gy.childNodes.length;j++){var gA=gy.childNodes[j];if(gG||(gH.focusNode.nodeValue&&qx.dom.Hierarchy.contains(gA,gH.focusNode)&&(gH.focusOffset==gH.focusNode.nodeValue.length))||(qx.dom.Hierarchy.contains(gA,gH.anchorNode)&&(gH.anchorOffset==0))||(gH.containsNode(gA,false))){gA.style.fontSize=(this.__xz[gu]||gu)+by;};};};}else {var gz=((qx.core.Environment.get(cJ)==cN))?gE:gH.focusNode;var gF=qx.dom.Hierarchy.getAncestors(gz);for(i=0;i<gF.length;i++){if(gF[i].tagName==cW){if((((qx.core.Environment.get(cJ)==cg))&&((gH.anchorOffset==0)&&(gH.focusNode.nodeValue&&(gH.focusOffset==gH.focusNode.nodeValue.length))&&qx.dom.Hierarchy.contains(gF[i].firstChild,gH.anchorNode)&&qx.dom.Hierarchy.contains(gF[i].lastChild,gH.focusNode)))||(((qx.core.Environment.get(cJ)==cN))&&(gC.htmlText==gF[i].innerHTML))){gF[i].style.fontSize=(this.__xz[gu]||gu)+by;};break;};};};if((qx.core.Environment.get(cJ)==cN)){this.__lw.body.focus();this.__xx.getRange().select();return this.__lw.execCommand(cj,false,gu);}else if((qx.core.Environment.get(cJ)==cg)){var parent=gC.commonAncestorContainer;if(parent.nodeType===1){var gx=parent.getElementsByTagName(cd);for(i=0;i<gx.length;i++){if(gx[i].style.fontSize){gx[i].style.fontSize=null;};};};};return this.__lw.execCommand(cj,false,gu);},__yd:qx.core.Environment.select(cJ,{"mshtml":function(gI,gJ){this.__lw.body.focus();return this.__lw.execCommand(ck,false,gI);},"gecko|opera":function(gK,gL){this.__lw.body.focus();return this.__lw.execCommand(R,false,gK);},"webkit":function(gM,gN){var gO=this.__xx.getSelection();var gP=this.__xx.getRange();if(!gO||!gO.isCollapsed){this.__lw.body.focus();this.__lw.execCommand(ck,false,gM);if(gO){gO.collapseToEnd();};return true;}else {var gR=gO.anchorOffset;var gS=gO.anchorOffset;var gP=gO.getRangeAt(0);var gQ=gO.anchorNode;while(gS>0){if(gQ.nodeValue.charCodeAt(gS)==160||gQ.nodeValue.charCodeAt(gS)==32){break;}else {gS--;};};while(gR<gQ.nodeValue.length){if(gQ.nodeValue.charCodeAt(gR)==160||gQ.nodeValue.charCodeAt(gR)==32){break;}else {gR++;};};gP.setStart(gO.anchorNode,gO.anchorNode.nodeValue.charAt(gS)==bB?gS+1:gS);gP.setEnd(gO.anchorNode,gR);gO.addRange(gP);this.__lw.body.focus();this.__lw.execCommand(ck,false,gM);gO.collapseToEnd();return true;};}}),__ye:function(gT,gU){gT=gT!=null&&typeof gT==bi?gT:bL;qx.bom.element.Style.set(this.__lw.body,C,gT);return true;},__yf:function(gV,gW){var gX,ha,gY;var hb=qx.bom.htmlarea.manager.Command;if(gV==null){gX=null;}else {gX=gV[0];ha=gV[1];gY=gV[2];};if(gX==null||typeof gX!=bi){qx.bom.element.Style.set(this.__lw.body,bF,cI);qx.bom.element.Style.set(this.__lw.body,bk,cI);qx.bom.element.Style.set(this.__lw.body,be,cI);return true;}else {if(gX.search(/^url.*\(/)==-1){gX=m+gX+W;};};if(ha!=null&&!qx.lang.String.contains(hb.__xC,ha)){{};return false;}else {ha=cq;};if(gY!=null){if(qx.lang.Type.isString(gY)&&!qx.lang.String.contains(hb.__xB,bh+gY+bh)){{};return false;}else {if(qx.lang.Type.isArray(gY)&&gY.length==2){gY=gY[0]+bB+gY[1];}else {{};return false;};};}else {gY=cv;};qx.bom.element.Style.set(this.__lw.body,bF,gX);qx.bom.element.Style.set(this.__lw.body,bk,ha);qx.bom.element.Style.set(this.__lw.body,be,gY);return true;},__yg:qx.core.Environment.select(cJ,{"mshtml":function(hc,hd){var he=this.__lw.body.createTextRange();he.select();return true;},"default":function(hf,hg){return this.__xH(hg.identifier,false,hf);}}),__yh:function(){return this.__xx.getSelectedText();},__yi:function(){return this.__xx.getSelectedHtml();},__yj:function(hh,hi){var hm=this.__xx.getFocusNode();if(hm.textContent==cI){var hk=qx.dom.Hierarchy.getAncestors(hm);hk.unshift(hm);var Node=qx.dom.Node;var hj=qx.bom.element.Style;var hl=hk.shift();while(hk.length>0){if(Node.getName(hl)==ce||Node.getName(hl)==bz){break;};if(hj.get(hl,hh,hj.LOCAL_MODE)==hi){hj.reset(hl,hh);return true;};hl=hk.shift();};};return false;},__yk:qx.core.Environment.select(cJ,{"gecko":function(hn,ho){if(this.__yj(P,bo)){return true;}else {return this.__xH(ho.identifier,false,hn);};},"default":function(hp,hq){return this.__xH(hq.identifier,false,hp);}}),__yl:qx.core.Environment.select(cJ,{"gecko":function(hr,hs){if(this.__yj(bS,bW)){return true;}else {return this.__xH(hs.identifier,false,hr);};},"default":function(ht,hu){return this.__xH(hu.identifier,false,ht);}}),__ym:qx.core.Environment.select(cJ,{"gecko":function(hv,hw){if(this.__yj(bM,a)){return true;}else {return this.__xH(hw.identifier,false,hv);};},"default":function(hx,hy){return this.__xH(hy.identifier,false,hx);}}),__yn:qx.core.Environment.select(cJ,{"gecko":function(hz,hA){if(this.__yj(bM,V)){return true;}else {return this.__xH(hA.identifier,false,hz);};},"default":function(hB,hC){return this.__xH(hC.identifier,false,hB);}})},destruct:function(){this.__lw=this.__xx=this._commands=null;this.__xy=this.__xz=null;}});})();
});